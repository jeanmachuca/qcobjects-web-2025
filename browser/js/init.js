var Jt=Object.defineProperty;var F=(D,le)=>Jt(D,"name",{value:le,configurable:!0}),vt=(D=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(D,{get:(le,je)=>(typeof require<"u"?require:le)[je]}):D)(function(D){if(typeof require<"u")return require.apply(this,arguments);throw new Error('Dynamic require of "'+D+'" is not supported')});var Xt=Object.create,kt=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,zt=Object.getOwnPropertyNames,Zt=Object.getPrototypeOf,Kt=Object.prototype.hasOwnProperty,Qt=F((D,le,je)=>le in D?kt(D,le,{enumerable:!0,configurable:!0,writable:!0,value:je}):D[le]=je,"__defNormalProp"),C=F((D,le)=>kt(D,"name",{value:le,configurable:!0}),"__name"),mt=(D=>typeof vt<"u"?vt:typeof Proxy<"u"?new Proxy(D,{get:(le,je)=>(typeof vt<"u"?vt:le)[je]}):D)(function(D){if(typeof vt<"u")return vt.apply(this,arguments);throw new Error('Dynamic require of "'+D+'" is not supported')}),qt=F((D,le)=>F(function(){return le||(0,D[zt(D)[0]])((le={exports:{}}).exports,le),le.exports},"__require2"),"__commonJS"),en=F((D,le,je,l)=>{if(le&&typeof le=="object"||typeof le=="function")for(let be of zt(le))!Kt.call(D,be)&&be!==je&&kt(D,be,{get:()=>le[be],enumerable:!(l=Yt(le,be))||l.enumerable});return D},"__copyProps"),tn=F((D,le,je)=>(je=D!=null?Xt(Zt(D)):{},en(le||!D||!D.__esModule?kt(je,"default",{value:D,enumerable:!0}):je,D)),"__toESM"),q=F((D,le,je)=>(Qt(D,typeof le!="symbol"?le+"":le,je),je),"__publicField"),nn=qt({"node_modules/qcobjects-sdk/public/QCObjects-SDK.js"(){"use strict";var D=(()=>{var le=Object.defineProperty,je=C((T,g,p)=>g in T?le(T,g,{enumerable:!0,configurable:!0,writable:!0,value:p}):T[g]=p,"Zn"),l=C((T,g)=>le(T,"name",{value:g,configurable:!0}),"c"),be=(T=>typeof mt<"u"?mt:typeof Proxy<"u"?new Proxy(T,{get:(g,p)=>(typeof mt<"u"?mt:g)[p]}):T)(function(T){if(typeof mt<"u")return mt.apply(this,arguments);throw new Error('Dynamic require of "'+T+'" is not supported')}),we=C((T,g)=>()=>(g||T((g={exports:{}}).exports,g),g.exports),"V"),E=C((T,g,p)=>(je(T,typeof g!="symbol"?g+"":g,p),p),"S"),Rt=we((T,g)=>{l(C(F(function p(i){"use strict";if(typeof Object.defineProperty<"u"&&typeof i<"u")try{Object.defineProperty(i,"__qcobjects_sdk__",{enumerable:!0,configurable:!1,writable:!1,value:p})}catch{typeof i.__qcobjects_sdk__<"u"&&(i.__qcobjects_sdk__.__loaded__=!0)}if(typeof i.__qcobjects_sdk__.__loaded__>"u"){if(i.__qcobjects_sdk__.__loaded__=!0,typeof i>"u")throw Error("Top context empty: It should either global, module or window");var I=i;i.global=I;var P=typeof window<"u"&&typeof window.self<"u"&&window===window.self,N=typeof g<"u",S=CONFIG.get("remoteImportsPath"),x=CONFIG.get("relativeImportPath"),j=!CONFIG.get("useLocalSDK");j&&!N?CONFIG.set("remoteImportsPath","https://sdk.qcobjects.dev/v2.4/src/js/"):CONFIG.set("relativeImportPath","qcobjects-sdk/src/js/"),typeof i._DOMCreateElement>"u"&&(i._DOMCreateElement=function(z){var Ce;return P?Ce=document.createElement(z):Ce={},Ce});var L;if(P&&!N)L=[Import("org.qcobjects.i18n_messages",function(){},j),Import("org.qcobjects.models",function(){},j),Import("org.qcobjects.components",function(){},j),Import("org.qcobjects.components.grid",function(){},j),Import("org.qcobjects.components.list",function(){},j),Import("org.qcobjects.components.slider",function(){},j),Import("org.qcobjects.components.notifications",function(){},j),Import("org.qcobjects.components.splashscreen",function(){},j),Import("org.qcobjects.controllers",function(){},j),Import("org.qcobjects.controllers.grid",function(){},j),Import("org.qcobjects.controllers.list",function(){},j),Import("org.qcobjects.controllers.slider",function(){},j),Import("org.qcobjects.controllers.form",function(){},j),Import("org.qcobjects.controllers.swagger",function(){},j),Import("org.qcobjects.effects",function(){},j),Import("org.qcobjects.modal.controllers",function(){},j),Import("org.qcobjects.views",function(){},j),Import("org.qcobjects.tools.canvas",function(){},j),Import("org.qcobjects.tools.layouts",function(){},j),Import("org.qcobjects.cloud.auth.session.usertoken",function(){},j),Import("org.qcobjects.cloud.auth.session.data",function(){},j)];else{N&&CONFIG.set("remoteImportsPath",CONFIG.get("basePath",""));var ne="qcobjects-sdk/src/js/";L=[Import(ne+"org.qcobjects.models",function(){},j),Import(ne+"org.qcobjects.components",function(){},j),Import(ne+"org.qcobjects.controllers",function(){},j),Import(ne+"org.qcobjects.views",function(){},j),Import(ne+"org.qcobjects.effects",function(){},j),Import(ne+"org.qcobjects.tools.canvas",function(){},j),Import(ne+"org.qcobjects.tools.layouts",function(){},j),Import(ne+"org.qcobjects.cloud.auth.session.usertoken",function(){},j),Import(ne+"org.qcobjects.cloud.auth.session.data",function(){},j)]}let de=GlobalSettings.__start__.bind(i);i._sdk_=Promise.all(L).then(()=>{CONFIG.set("useSDK",!0),CONFIG.set("remoteImportsPath",S),CONFIG.set("relativeImportPath",x),de()})}},"w"),"w"),"__qcobjects_sdk__").call(null,typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{})}),Lt=we((T,g)=>{var p=Rt();g.exports=p}),tt=we((T,g)=>{l(C(F(function p(i){"use strict";if(typeof Object.defineProperty<"u"&&typeof i<"u")try{Object.defineProperty(i,"__qcobjects__",{enumerable:!0,configurable:!1,writable:!1,value:p})}catch{typeof i.__qcobjects__<"u"&&(i.__qcobjects__.loaded=!0)}if(typeof i.__qcobjects__.loaded>"u"){let Ye=C(function(e){N?Ue.push(e.bind(window)):typeof I<"u"&&Ue.push(e.bind(I))},"$e");l(Ye,"Ready"),i.__qcobjects__.loaded=!0;var I=i;i.global=I;var P=typeof window<"u"&&"Deno"in window,N=typeof window<"u"&&typeof window.self<"u"&&window===window.self&&!P,S=typeof g<"u",x=l(function(){},"deno_require"),j=l(function(){return P?x(...arguments):be(...arguments)},"_require_"),L=l(function(e){var n=typeof e.prototype<"u"?e.prototype.toString:function(){return""};typeof e.prototype<"u"&&(e.prototype.toString=function(){var a=["__qcobjects__","__qcobjects_sdk__","__loaded__","ComplexStorageCache","css","append","attachIn","debug","info","warn","QC_Append","set","get","done","componentDone","_new_","__new__","Class","ClassFactory","New","Export","Package","Import","subelements","componentLoader","buildComponents","Controller","View","VO","Service","serviceLoader","JSONService","ConfigService","SourceJS","SourceCSS","ArrayList","ArrayCollection","Effect","Timer","sum","avg","table","max","min","range","matrix","matrix2d","matrix3d","unique","uniqueId","shortCode","NamespaceRef"],c;return a.includes(this.name)?c=this.name+"{ [QCObjects native code] }":c=n.call(this),c})},"_protected_code_");L(Function);var ne=l(function(e){var n=[];for(var a in e)(typeof e[a]).toLowerCase()==="function"&&n.push(e[a]);return n},"_methods_");String.prototype.__mAll__=function(e){var n=[];return this.replace(e,function(){var a=Array.prototype.slice.call(arguments,0,-2);a.input=arguments[arguments.length-1],a.index=arguments[arguments.length-2],n.push(a)}),n},typeof String.prototype.matchAll>"u"&&(String.prototype.matchAll=String.prototype.__mAll__);var de=l(function(e){var n;return N?n=document.createElement(e):n={},n},"_DOMCreateElement");if(!N){let e=j("fs")}var z=l(function(e){var n=l(function(){var a=new WeakSet,c=0;return function(d,m){if(typeof m=="object"&&m!==null){if(a.has(m))return c+=1,c<=3?rt(m):null;a.add(m)}return m}},"getCircularReplacer");return JSON.stringify(e,n())},"_DataStringify");if(N){var Ce=l(function(e){return[...this.querySelectorAll(e)]},"subelements");Element.prototype.subelements=Ce,HTMLDocument.prototype.subelements=Ce,HTMLElement.prototype.subelements=Ce,typeof ShadowRoot<"u"&&(ShadowRoot.prototype.subelements=Ce)}if(N)try{i=typeof window.top<"u"?window.top:window,i._allowed_=!0}catch{try{i=document,i._allowed_=!0}catch{try{i=I,i._allowed_=!0}catch{i={},i._allowed_=!0}}}else typeof I<"u"&&(i=I);var se,R,Re="quick-component:not([loaded]),component:not([loaded])";if(R=function(){var e="";if(N){var n=i.document.baseURI.split("?")[0].split("/");n.pop(),e=n.join("/")+"/"}else{var a;try{a=j("process")}catch{}typeof a<"u"?e=`${a.cwd()}/`:e=""}return e}(),N){"Promise"in i||(i.Promise=function(e){var n={then(){},catch(){},_then(a){this.then.call(n,a)},_catch(a){this.catch.call(n,a)}};return e.call(n,n._then,n._catch),n}),typeof i.console>"u"&&(i.console=function(){},i.console.prototype.log=function(e){}),se=function(){return typeof document<"u"&&document.domain!==""?document.domain:"localhost"}();var ue=function(){var e=i[(![]+[])[+!+[]+ +!+[]]+(typeof![])[+!+[]]+(typeof[])[(+!+[]+ +!+[])*(+!+[]+ +!+[])]+(![]+[])[+!+[]]+(!![]+[])[+[]]+([]+[]+[][[]])[+[+!+[]+[+[]]]/(+!+[]+ +!+[])]+(typeof![])[+!+[]]+([]+[]+[][[]])[+!+[]]]["h"+(typeof![])[+!+[]]+(![]+[])[+!+[]+(+!+[]+ +!+[])]+(!![]+[])[+[]]].toLowerCase();return e}(),X=function(){return typeof cordova<"u"}()}else{var ue="secret";se="localhost"}i._asyncLoad=[];var ye=l(function(e,n){var a={func:e,args:n,dispatch(){this.func.apply(null,this.args)}};return i._asyncLoad.push(a),a},"asyncLoad");if(N){var De=l(function(){document.readyState==="complete"&&i._asyncLoad.map(function(e){e.dispatch.call(e)})},"_fireAsyncLoad");document.onreadystatechange=De}else typeof i.global<"u"&&(i.global._fireAsyncLoad=function(){i._asyncLoad.map(function(e){e.dispatch.call(e)})});i.asyncLoad=ye;var He=l(function(){return{debugEnabled:!0,infoEnabled:!0,warnEnabled:!0,debug(e){this.debugEnabled&&console.log("\x1B[35m%s\x1B[0m",`[DEBUG][${performance.now().toLocaleString()}] ${e}`)},info(e){var n;this.infoEnabled&&(N?n="\x1B[103m%s\x1B[0m":n="\x1B[33m%s\x1B[0m",console.info(n,`[INFO][${performance.now().toLocaleString()}] ${e}`))},warn(e){this.warnEnabled&&console.warn("\x1B[31m%s\x1B[0m",`[WARN][${performance.now().toLocaleString()}] ${e}`)}}},"Logger"),y=new He;y.debugEnabled=!1,y.infoEnabled=!0,i.logger=y;var ve={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode(e){var n="",a,c,d,m,_,b,A,k=0;for(e=ve._utf8_encode(e);k<e.length;)a=e.charCodeAt(k++),c=e.charCodeAt(k++),d=e.charCodeAt(k++),m=a>>2,_=(a&3)<<4|c>>4,b=(c&15)<<2|d>>6,A=d&63,isNaN(c)?b=A=64:isNaN(d)&&(A=64),n=n+this._keyStr.charAt(m)+this._keyStr.charAt(_)+this._keyStr.charAt(b)+this._keyStr.charAt(A);return n},decode(e){var n="",a,c,d,m,_,b,A,k=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");k<e.length;)m=this._keyStr.indexOf(e.charAt(k++)),_=this._keyStr.indexOf(e.charAt(k++)),b=this._keyStr.indexOf(e.charAt(k++)),A=this._keyStr.indexOf(e.charAt(k++)),a=m<<2|_>>4,c=(_&15)<<4|b>>2,d=(b&3)<<6|A,n=n+String.fromCharCode(a),b!==64&&(n=n+String.fromCharCode(c)),A!==64&&(n=n+String.fromCharCode(d));return n=ve._utf8_decode(n),n},_utf8_encode(e){e=e.replace(/rn/g,"n");for(var n="",a=0;a<e.length;a++){var c=e.charCodeAt(a);c<128?n+=String.fromCharCode(c):c>127&&c<2048?(n+=String.fromCharCode(c>>6|192),n+=String.fromCharCode(c&63|128)):(n+=String.fromCharCode(c>>12|224),n+=String.fromCharCode(c>>6&63|128),n+=String.fromCharCode(c&63|128))}return n},_utf8_decode(e){for(var n="",a=0,c=0,d=0,m=0,_;a<e.length;)c=e.charCodeAt(a),c<128?(n+=String.fromCharCode(c),a++):c>191&&c<224?(m=e.charCodeAt(a+1),n+=String.fromCharCode((c&31)<<6|m&63),a+=2):(m=e.charCodeAt(a+1),_=e.charCodeAt(a+2),n+=String.fromCharCode((c&15)<<12|(m&63)<<6|_&63),a+=3);return n}},B=l(function(e,n){var a=l(function(c,d){var m=2e3,_=0,b=setInterval(function(){d.call()?(clearInterval(b),c.call(),y.debug("Ejecuting "+c.name+" after wait")):_<m?(_+=1,y.debug("WAIT UNTIL "+c.name+" is true, "+_.toString()+" cycles")):(y.debug("Max execution time for "+c.name+" expression until true"),clearInterval(b))},1)},"_waitUntil");setTimeout(function(){a(e,n)},1)},"waitUntil");if(typeof Z>"u")var Z={getItem(e){return Object.hasOwnProperty.call(this,e)?this[e]:null},setItem(e,n){this[e]=n},removeItem(e){delete this[e]}};var oe=l(function(e){var n,a,c;if(n=e.index,typeof n<"u"){a=e.load,c=e.alternate;var d=this.getID(n),m=Z.getItem(d);if(this.isEmpty(m)){var _=a.call(null,{cachedObjectID:d,cachedResponse:m,cache:this});this.save(n,_),y.debug("RESPONSE OF {{cachedObjectID}} CACHED".replace("{{cachedObjectID}}",d))}else{var b=c.call(null,{cachedObjectID:d,cachedResponse:m,cache:this});y.debug("RESPONSE OF {{cachedObjectID}} IS ALREADY CACHED ".replace("{{cachedObjectID}}",d))}}else throw new Error("ComplexStorageCache: index is undefined");return this},"ComplexStorageCache");if(oe.prototype.getItem=function(e){var n=Z.getItem(e);return this.isEmpty(n)?null:JSON.parse(n)},oe.prototype.setItem=function(e,n){Z.setItem(e,z(n))},oe.prototype.isEmpty=function(e){var n=!1;switch(!0){case typeof e>"u":case(typeof e=="string"&&e===""):case(typeof e=="string"&&e==="undefined"):case(typeof e=="number"&&e===0):case e===null:n=!0;break;default:n=!1}return n},oe.prototype.getID=function(e){var n;return typeof e<"u"&&(n="cachedObject_"+ve.encode(z(e).replace(/\{|\}|,/g,"_"))),n},oe.prototype.save=function(e,n){var a=this.getID(e);y.debug("CACHING THE RESPONSE OF {{cachedObjectID}} ".replace("{{cachedObjectID}}",a)),this.setItem(a,n)},oe.prototype.getCached=function(e){var n=this.getID(e);return this.getItem(n)},oe.prototype.clear=function(){Object.keys(Z).filter(function(e){return e.startsWith("cachedObject_")}).map(function(e){Z.removeItem(e)})},N){var Je=!1;try{var nt=Object.defineProperty({},"passive",{get(){return Je=!0,Je}});window.addEventListener("testPassive",null,nt),window.removeEventListener("testPassive",null,nt)}catch{}var ft=l(function(){return Je?{passive:!0}:!1},"captureFalse")}N&&(Element.prototype.find=function(e){var n=[],a=document.subelements(e);return a.map(function(c,d){typeof a[d]<"u"&&a[d].parentNode.tagName===this.parentNode.tagName&&n.push(We(c,new Object))}),n});var Ke,it=function(){var e=Object.prototype.hasOwnProperty;return function(n){if(typeof n!="object")throw TypeError("Object prototype may only be an Object or null. The type is "+typeof n);var a=l(function(){},"QCObjects");a.prototype=n;var c=new a;if(arguments.length>1){var d=Object(arguments[1]);for(var m in d)e.call(d,m)&&(c[m]=d[m])}return c}}();typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:l(function(e,n){"use strict";if(e===null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),c=1;c<arguments.length;c++){var d=arguments[c];if(d!==null)for(var m in d)Object.prototype.hasOwnProperty.call(d,m)&&(a[m]=d[m])}return a},"assign"),writable:!0,configurable:!0});var ct=l(function(e){return!!(typeof e=="function"&&e.toString().startsWith("class"))},"__is_raw_class__"),rt=l(function(e){var n;switch(!0){case typeof e=="string":n=e;break;case typeof e=="number":n=e;break;case typeof e=="object":n=Object.assign({},e);break;case typeof e=="function":n=e.bind({});break;case ct(e):n=l(class extends e{},"_value_");break;default:break}return n},"_LegacyCopy"),Me={},Ae={},ot=[],Ue=[],Xe=l(function(e){var n="";return typeof e=="function"&&Object.hasOwnProperty.call(e,"name")&&e.name!==""?n=e.name:typeof e<"u"&&typeof e.constructor=="function"&&e.constructor.name!==""?n=e.constructor.name:typeof e<"u"&&typeof e.constructor=="object"&&(n=e.constructor.toString().replace(/\[(.*?)\]/g,"$1").split(" ").slice(1).join("")),n},"ObjectName"),We=l(function(e,n){for(var a in e)if(typeof e[a]<"u")try{n[a]=e[a]}catch{}return n},"_Cast"),Be=l(function(e,n){for(var a in e)if(typeof e[a]<"u"&&typeof e[a]!="function")try{n[a]=e[a]}catch{}else if(typeof e[a]=="function")try{n[a]=e[a].bind(n)}catch(c){y.warn(c)}return n},"_CastProps"),Ee=l(function(){return["__proto__","prototype","Object","Map","defineProperty","indexOf","toString","__instanceID"].indexOf(arguments[0])!==-1},"__is__forbidden_name__"),Y=l(function(e){var n="";switch(!0){case(ct(e)&&!!e.name):n=e.name;break;case(typeof e=="object"&&!!e.constructor&&!!e.constructor.name&&e.constructor.name!==""):n=e.constructor.name;break;case(!!e&&!!e.__classType&&e.__classType!==""):n=e.__classType;break;case(!!e&&!!e.__definition&&!!e.__definition.__classType&&e.__definition.__classType!==""):n=e.__definition.__classType;break;case(typeof e=="function"&&!!e.name):n=e.name;break;default:n=Xe(e);break}return n},"__getType__"),K=l(function(e,n){return!!(typeof e<"u"&&e!==null&&((v(e)||h(e))&&e.hierarchy().includes(n)||Y(e)===n||Xe(e)===n||typeof e===n))},"is_a"),he=l(function(e){if(typeof e<"u")if(N)try{i[e.name]=e,window[e.name]=e}catch{}else typeof I<"u"&&(Object.hasOwnProperty.call(I,e.name)||(I[e.name]=e))},"__make_global__"),me=l(function(e,n){var a=e.name||Y(e);return e.__definition.__classType=a,typeof n<"u"&&(e.__definition.__namespace=n),Me[a]=e,i[a]=Me[a],i[a]},"__register_class__"),H=l(function(e,n){return me(e,n)},"RegisterClass");he(H);var ee=l(function(){var e={},n,a,c;switch(arguments.length){case 0:return class{};case 1:n=arguments[0],a=l(class{},"type"),c={};break;case 2:n=arguments[0],a=l(class{},"type"),c=arguments[1];break;case 3:n=arguments[0],a=arguments[1],c=arguments[2];break;default:break}if(typeof a!="function")throw new Error("Class type must be a function or class");if(Ee.call(this,n))throw new Error(`${n} is not an allowed word in the name of a class`);return typeof a.__definition<"u"&&(c.__definition=Object.assign(rt(a.__definition),a)),e[a.name]=a,typeof c>"u"||c===null?c={}:c=rt(c),typeof c.__instanceID<"u"&&delete c.__instanceID,Me[n]=class extends e[a.name]{constructor(){var d;arguments.length>0?d={...arguments[0]}:d={},super(d),E(this,"__classType",n),E(this,"__definition",{...c});let m=this;if(Ke=typeof Ke>"u"||Ke===null?0:Ke+1,m.__instanceID||Object.defineProperty(m,"__instanceID",{value:Ke,writable:!1}),typeof m.__definition<"u"&&Object.keys(m.__definition).filter(function(_){return isNaN(_)&&!["name","__instanceID","__classType","__definition"].includes(_)}).forEach(function(_){typeof m.__definition[_]=="function"?m[_]=m.__definition[_].bind(m):m[_]=m.__definition[_]}),ne(Me[m.__classType]).map(function(_){m[_.name]=_.bind(m)}),ne(m.__definition).map(function(_){m[_.name]=_.bind(m)}),m.body)if(typeof m.__definition>"u"||!Object.hasOwnProperty.call(m.__definition,"body")||typeof m.__definition.body>"u")try{N?m.body=de(m.__definition.__classType):m.body={}}catch{m.body={}}else Object.hasOwnProperty.call(m.__definition,"body")&&(m.body=m.__definition.body);try{if(typeof m.__new__=="function"?m.__new__.call(m,d):typeof super.__new__=="function"&&(m.__new__=super.__new__.bind(m),m.__new__.call(m,d)),typeof m=="object"&&Object.hasOwnProperty.call(m,"_new_")&&typeof m._new_.isCalled>"u")try{m._new_.call(m,d),m._new_.isCalled=!0}catch(_){y.warn(`${m.__classType}._new_() failed with error: ${_}`)}}catch(_){y.warn(_)}}static hierarchy(d){var m=l(function(A){return Object.hasOwnProperty.call(A,"__classType")?A.__classType:Y.call(d,A)},"__classType"),_=l(A=>typeof A<"u"&&typeof A.__proto__<"u"&&A.__proto__!==null?(m(A)!==""?[m(A)]:[]).concat(_(A.__proto__)):[],"__hierarchy__proto__");(typeof d>"u"||d===null)&&(d=this);var b=[];return b.push(m(d)),b=b.concat(_(d.__proto__)),b}static getParentClass(){return Object.getPrototypeOf(this.prototype.constructor)}__new__(d){Be(d,this)}_new_(){}getClass(){return Object.getPrototypeOf(this.constructor)}css(d){return typeof this.body<"u"&&this.body.style!=="undefined"&&(y.debug("body style"),this.body.style=We(d,this.body.style)),this.body.style}hierarchy(){var d=this;return this.getClass().hierarchy(d)}append(m){y.debug("append: start"),K(m,"Component")&&(y.debug("append: child is a Component"),y.debug(`appending the body of ${m.name}`));var m=arguments.length>0?arguments[0]:this.body;typeof this.body<"u"&&(y.debug("append element"),arguments.lenght>0?(y.debug("append to element"),this.body.append(m),typeof this.childs>"u"&&(this.childs=[]),this.childs.push(m)):N&&(y.debug("append to body"),document.body.append(m)))}attachIn(d){if(N)for(var m=document.subelements(d),_=0,b=m.length;_<b;_++)m[_].append(this);else throw new Error("attachIn not yet implemented for non browser platforms")}},Me[n]=Be(c,Me[n]),Me[n].__definition=c,Me[n].__definition.__classType=n,Me[n].__definition.__new__=l(function(d){Be(d,this)},"__new__"),i[n]=Me[n],i[n]},"Class");ee.prototype.toString=function(){return"Class(name, type, definition) { [QCObjects native code] }"};var $=l(function(e){var n;if(e!==null&&e.indexOf(".")>-1){var a=e.split(".").slice(0,e.split(".").length-1).join("."),c=e.split(".").slice(-1).join(""),d=O(a),m=typeof d<"u"?d.filter(_=>v(_)&&(_.__definition.__classType===c||typeof _=="function"&&!!_.name)).reverse():[];if(m.length>0)n=m[0];else throw Error(`Class ${e} not found.`)}else e!==null&&Object.hasOwnProperty.call(Me,e)&&(n=Me[e]);return n},"ClassFactory");N&&(Element.prototype.append=l(function(e){h(e)||typeof e.body<"u"?this.appendChild(e.body):this.appendChild(e)},"QC_Append"),Element.prototype.render=l(function(e){var n=this,a=l(function(c,d){if(typeof document.implementation.createHTMLDocument<"u"){var m=document.implementation.createHTMLDocument("");m.innerHTML=d,m.body.subelements("*").map(function(_){return c.append(_)})}},"_appendVDOM");if(typeof this.innerHTML<"u")try{this.innerHTML+=e}catch{a(n,e)}else a(n,e)},"QC_Render"));var Qe=l(function(e,n,a){return $(e)[n]},"_super_");Qe.prototype.toString=function(){return"_super_(className,classMethodName,params) { [QCObjects native code] }"};var Ne=l(function(e,n){return n=arguments.length>1?n:{},typeof e>"u"?new Object:new e(n)},"New");Ne.prototype.toString=function(){return"New(QCObjectsClassName, args) { [QCObjects native code] }"};var o=l(function(e){return he(e)},"Export");if(o.prototype.toString=function(){return"Export(function or symbol) { [QCObjects native code] }"},!N){var t=l(function(e){let n=j("fs");var a=null;try{var c=[`${i.CONFIG.get("projectPath")}${i.CONFIG.get("relativeImportPath")}`,`${i.CONFIG.get("basePath")}${i.CONFIG.get("relativeImportPath")}`,`${i.CONFIG.get("projectPath")}`,`${i.CONFIG.get("basePath")}`,`${i.CONFIG.get("relativeImportPath")}`,`${process.cwd()}${i.CONFIG.get("relativeImportPath")}`,`${process.cwd()}/node_modules/`+e,`${process.cwd()}/node_modules`,`${process.cwd()}`,"node_modules","./",""].concat(g.paths);c=c.filter(d=>n.existsSync(d+"/"+e)),c.length>0&&(a=c[0],y.info(e+" is Installed."))}catch(d){console.log(d)}return a},"findPackageNodePath");o(t)}ee("_Crypt",Object,{last_string:"",last_key:"",construct:!1,_new_(e){var n=e.string,a=e.hasOwnProperty.call(e,"key")?e.key:null;this.__new__(e),a=a===null?this.__instanceID:a,this.last_key=a,this.last_string=n,this.construct=!0},_encrypt(){for(var e=this.string,n=this.key,a="",c,d,m=0;m<e.length;m++)c=e.substr(m,1),d=n.substr(m%n.length-1,1),c=String.fromCharCode(c.charCodeAt(0)+d.charCodeAt(0)),a+=c;return this.last_string=ve.encode(a),this.last_string},_decrypt(){var e=this.string,n=this.key,a="",c,d;e=ve.decode(e);for(var m=0;m<e.length;m++)c=e.substr(m,1),d=n.substr(m%n.length-1,1),c=String.fromCharCode(c.charCodeAt(0)-d.charCodeAt(0)),a+=c;return this.last_string=a,this.last_string},encrypt(e,n){var a=Ne($("_Crypt"),{string:e,key:n!==""?n:"12345678ABC"});return a._encrypt()},decrypt(e,n){var a=Ne($("_Crypt"),{string:e,key:n!==""?n:"12345678ABC"});return a._decrypt()}});var r=l(function(e){return $("_Crypt").encrypt(z(e),ue)},"_CryptObject"),s=l(function(e){return e===""?{}:JSON.parse($("_Crypt").decrypt(e,ue))},"_DecryptObject"),f=l(function(){var e=1e3,n=$("_Crypt").encrypt((Math.random()*e).toString().replace(".",""),new Date().getTime().toString()),a=$("_Crypt").encrypt((Math.random()*e).toString().replace(".",""),new Date(new Date().getTime()-1e3*1e3).getTime().toString()),c=a.list().map((d,m)=>n.list()[m]===d?null:d).filter(d=>d!==null).join("");return c},"shortCode"),u=f;ee("InheritClass",class{},{});let lt=C(class extends $("InheritClass"){constructor(){super(...arguments),E(this,"component",null),E(this,"__definition",{}),E(this,"__classType","Processor"),this.processors=lt.processors,this.process=lt.process.bind(this),this.processObject=lt.processObject.bind(this),this.setProcessor=lt.setProcessor.bind(this),this.execute=lt.execute.bind(this)}static setProcessor(e){typeof e=="function"&&e.name!==""&&(this.processors[e.name]=e)}static execute(e,n,a){var c=typeof e<"u"&&e!==null?e.processorHandler:this;return c.processors[n].bind(c).apply(c,[e,...a.split(",")])}static process(e,n=null){var a=n!==null?n.processorHandler:Ne(lt,{component:null});return typeof e=="string"&&Object.keys(a.processors).map(function(c){[...e.matchAll(new RegExp("\\$"+c+"\\((.*)\\).*","g"))].map(function(d){var m=`$${c}(${d[1]})`;e=e.replace(m,a.execute.bind(a).call(a,n,c,d[1]))})}),e}static processObject(e,n=null){var a=n===null?this:n.processorHandler;return typeof a>"u"&&(a=new lt({component:n})),typeof e=="object"?Object.keys(e).map(function(c){typeof e[c]=="object"&&!e[c].hasOwnProperty.call(e[c],"call")?e[c]=a.processObject.bind(a)(e[c],n):typeof e[c]=="string"&&(e[c]=a.process.bind(a)(e[c],n))}):typeof e=="string"&&(e=a.process.bind(a)(e,n)),e}},"we"),Fe=lt;l(Fe,"Processor"),E(Fe,"processors",{config(e,n){return i.CONFIG.get(n,"")},ENV(e,n){return typeof process<"u"?process.env[n]:""},global(e,n){return typeof I<"u"?I[n]:""}}),Fe.__definition={},Fe.__classType="Processor",H(Fe,"com.qcobjects"),he(Fe);let Wt=C(class{static get instance(){if(this._instance===null){var e=new Wt;e._CONFIG={relativeImportPath:"",remoteImportsPath:"",remoteSDKPath:"https://sdk.qcobjects.dev/v2.4/",asynchronousImportsLoad:!1,removePackageScriptAfterLoading:!0,componentsBasePath:"",delayForReady:0,preserveComponentBodyTag:!1,useConfigService:!1,routingWay:"hash",useSDK:!0,useLocalSDK:!1,basePath:R},e._CONFIG_ENC=null,this._instance=e}return this._instance}static set instance(e){this._instance=e}},"Ot"),Pt=Wt;l(Pt,"ConfigSettings"),E(Pt,"_instance",null),E(Pt,"_CONFIG_ENC",null),Me.ConfigSettings=Pt,ee("CONFIG",Object,{get _CONFIG_ENC(){return $("ConfigSettings").instance._CONFIG_ENC},get _CONFIG(){return $("ConfigSettings").instance._CONFIG},set(e,n){y.debug(`CONFIG.set  ${e}: ${n}`),e==="basePath"&&(R=n);var a;try{a=function(c){c._CONFIG_ENC===null&&(c._CONFIG_ENC=$("_Crypt").encrypt(z({}),ue));var d=c._CONFIG_ENC.valueOf(),m=c._CONFIG.valueOf();return Be(m,s(d))}($("ConfigSettings").instance)}catch(c){a={},console.error(c),y.debug("failed to encrypt config")}a[e]=n,$("ConfigSettings").instance._CONFIG_ENC=r(a),Object.hasOwnProperty.call($("ConfigSettings").instance,"_CONFIG")&&Object.hasOwnProperty.call($("ConfigSettings").instance._CONFIG,e)&&($("ConfigSettings").instance._CONFIG[e]=n)},get(e,n){var a;try{var c=function(d){d._CONFIG_ENC===null&&(d._CONFIG_ENC=$("_Crypt").encrypt(z({}),ue));var m=d._CONFIG_ENC.valueOf(),_=d._CONFIG.valueOf();return Be(_,s(m))}($("ConfigSettings").instance);typeof c[e]<"u"?a=c[e]:typeof n<"u"&&(a=n)}catch(d){console.error(d),y.debug("Something wrong when trying to get CONFIG values"),y.debug("No config value for: "+e),a=n}return Fe.processObject.call(Fe,a)}}),o(B),o(Qe),o(oe),o($),o(de),o(f),o(Y),o(K);var h=l(function(e){return!!(typeof e=="object"&&Object.hasOwnProperty.call(e,"__classType")&&e.__instanceID&&Object.hasOwnProperty.call(e,"__definition")&&typeof e.__definition<"u")},"isQCObjects_Object"),v=l(function(e){return!!(typeof e=="function"&&!e.__instanceID&&e.__definition&&typeof e.__definition<"u"&&e.__definition.__classType)},"isQCObjects_Class"),O=l(function(e,n){return Ae.hasOwnProperty.call(Ae,e)&&typeof Ae[e]<"u"&&Ae[e].hasOwnProperty.call(Ae[e],"length")&&Ae[e].length>0&&typeof n<"u"&&n.hasOwnProperty.call(n,"length")&&n.length>0?(n.filter(function(a){return v(a)}).map(function(a){a.__definition.__namespace=e,a.__namespace=e}),Ae[e]=Ae[e].concat(n)):typeof n<"u"&&(typeof n=="object"&&n.hasOwnProperty.call(n,"length")?n.filter(function(a){return v(a)}).map(function(a){a.__definition.__namespace=e,a.__namespace=e}):v(n)&&(n.__definition.__namespace=e,n.__namespace=e),Ae[e]=n),Object.hasOwnProperty.call(Ae,e)&&Ae[e].map(function(a){me(a,e)}),Object.hasOwnProperty.call(Ae,e)?Ae[e]:void 0},"Package");O.prototype.toString=function(){return"Package(namespace, classes) { [QCObjects native code] }"},O("com.qcobjects",[Fe]);var M=l(function(e){let n=O(e).filter(a=>v(a)).map(a=>({[a.__definition.__classType]:a})).reduce((a,c)=>Object.assign(a,c));return e.split(".").map(a=>({[a]:n})).reverse().reduce((a,c)=>(c[Object.keys(c)]=a,c))},"NamespaceRef"),G=l(function(){var e,n=l(function(){},"ready"),a=!1;if(!(arguments.length<1)){arguments.length===1?e=arguments[0]:arguments.length===2?(e=arguments[0],n=arguments[1]):arguments.length>2&&(e=arguments[0],n=arguments[1],a=arguments[2],y.debug("[Import] Setting external="+a.toString()+" resource to import: "+e)),a?y.debug("[Import] Registering external resource to import: "+e):y.debug("[Import] Registering local resource to import: "+e);var c;return N?(c=new Promise(function(d,m){var _=l(function(){var k=!1,U=0;for(var ae in Ae)U++;return U<ot.length?k=!1:k=!0,k},"allPackagesImported"),b=l(function(k){ot.push(n),_()&&ot.map(function(U){Ue.push(U)}),N&&i.CONFIG.get("removePackageScriptAfterLoading")&&k.target.remove(),d.call(c,{_imported_:k.target,_package_name_:e})},"readyImported");if(!Ae.hasOwnProperty.call(Ae,e)){var A=de("script");A.type=i.CONFIG.get("sourceType","text/javascript"),A.async=!!i.CONFIG.get("asynchronousImportsLoad"),A.onreadystatechange=function(){A.readyState==="complete"&&b.call()},A.onload=b,A.onerror=function(k){m.call(c,{_imported_:A,_package_name_:e})},A.src=a?i.CONFIG.get("remoteImportsPath")+e+".js":R+i.CONFIG.get("relativeImportPath")+e+".js",document.getElementsByTagName("head")[0].appendChild(A)}}),c.catch(function(){y.debug("Import: Error loading a package ")})):c=new Promise(function(d,m){try{var _=t(e),b="";if(_!==null)b=_+"/"+e;else{var A=t(e+".js");A!==null?b=A+"/"+e+".js":b=R+i.CONFIG.get("relativeImportPath")+e}try{d.call(c,{_imported_:j(`${b}`),_package_name_:e})}catch(k){m.call(c,{_imported_:null,_package_name_:e,error:k})}}catch(k){m.call(c,{_imported_:null,_package_name_:e,error:k})}}).catch(function(d){y.debug("Something happened when importing "+e),console.warn(d)}),c.catch(function(d){y.warn(z(d))}),c}},"Import");G.prototype.toString=function(){return"Import(packagename,ready,external) { [QCObjects native code] }"},N&&(Element.prototype.Cast=l(function(n){n.__definition.body=this;var n=Ne(n);return n},"QC_Object")),ee("TagElements",Array,{show(){this.map(function(e){return e.style.opacity=1})},hide(){this.map(function(e){return e.style.opacity=0})},effect(){var e=[...arguments].slice(1),n=arguments[0];(typeof n).toLowerCase()==="string"&&(n=$(n)),this.map(function(a){return n.apply.apply(n,[a].concat(e))})},findElements(e){var n=Ne($("TagElements"));if(N)for(var a in this)typeof a=="number"&&typeof this[a]!="function"&&this[a].hasOwnProperty.call(this[a],"subelements")&&n.push(this[a].subelements(e));return n}});var W=l(function(e,n){var a=Ne($("TagElements"));if(N)for(var c=document.subelements(e),d=[],m=0;m<c.length;m++)typeof n<"u"&&c[m].hasOwnProperty.call(c[m],"innerHTML")&&(c[m].innerHTML=n),d.indexOf(m)<0&&(a.push(c[m]),d.push(m));return a},"Tag"),V=Ye,ie=l(function(e){var n=l(function(){Ue.map(function(a,c){typeof a=="function"&&(a.call(),delete Ue[c])})},"_execReady");i.CONFIG.get("delayForReady")>0?N?setTimeout(n.bind(window),i.CONFIG.get("delayForReady")):typeof I<"u"&&setTimeout(n.bind(I),i.CONFIG.get("delayForReady")):n.call(i)},"_Ready");N?(window.onload=ie,X&&document.addEventListener("deviceready",ie,ft)):I.onload=ie;class xt extends $("InheritClass"){constructor({instance:n,name:a,fget:c,fset:d,value:m}){super({instance:n,name:a,fget:c,fset:d,value:m}),this._new_({instance:n,name:a,fget:c,fset:d,value:m})}_new_({instance:n,name:b,fget:c,fset:d,value:m}){var _=this,b=typeof b>"u"?Xe(_):b;Object.defineProperty(n,b,{set(A){let k=A;y.debug("value changed "+b);var U;typeof d<"u"&&typeof d=="function"?U=d(k):U=k,n["_"+b]=U},get(){let A=n["_"+b];y.debug("returning value "+b);var k=l(function(ae){return typeof ae=="object"&&Object.hasOwnProperty.call(ae,"value")?ae.value:ae},"is_ddo"),U;return typeof c<"u"&&typeof c=="function"?U=c(k(A)):U=k(A),U}})}}F(xt,"Ut"),C(xt,"Ut"),l(xt,"DDO"),o(xt);class Ct{constructor({component:n,template:a}){E(this,"template",""),E(this,"__definition",{}),this.component=n,this.template=a}assign(n){var a=this;if(typeof a.component>"u")throw new Error("DefaultTemplateHandler.assign: component is undefined");if(typeof a.component.processorHandler>"u")throw new Error("DefaultTemplateHandler.assign: component.processorHandler is undefined");var c=a.component.processorHandler;c.component=a.component;var d=typeof a.template<"u"?a.template:"";typeof n=="object"?[...Object.keys(n)].map(function(m){var _=n[m];if(typeof _=="string"||typeof _=="number"||!isNaN(_))try{_=Fe.processObject.bind(c).call(c,_,a.component),d=d.replace(new RegExp(`{{${m}}}`,"g"),_)}catch(b){throw y.warn(`${a.component.name} could not parse processors.`),Error(`${a.component.name} could not parse processors. Reason: ${b.message}`)}}):y.debug(`${a.component.name}.data is not an object`);try{d=Fe.processObject.call(c,d,a.component)}catch(m){throw y.warn(`${a.component.name} could not parse processors.`),Error(`${a.component.name} could not parse processors. Reason: ${m.message}`)}return d}}F(Ct,"wt"),C(Ct,"wt"),l(Ct,"DefaultTemplateHandler"),Ct.__definition={},H(Ct,"com.qcobjects");var pe=l(function(e,n){let a=e.path.replace(/{(.*?)}/g,"(?<$1>.*)");return{...[...n.matchAll(new RegExp(a,"g"))][0].groups}},"__routing_params__"),Q=l(function(e,n){return e.filter(function(a){var c=a.path.replace(/{(.*?)}/g,"(?<$1>.*)");return new RegExp(c,"g").test(n)}).reverse()},"__valid_routings__"),Pe=l(function(e,n){return e.includes(n)},"__valid_routing_way__"),Oe=l(function(e,n){var a=e.getAttribute("shadowed")===null,c=e.getAttribute("template-source")===null,d=e.getAttribute("shadowed")==="true",m=e.getAttribute("cached")===null,_=e.getAttribute("cached")==="true",b=typeof i.CONFIG.get("tplextension")<"u"?i.CONFIG.get("tplextension"):"html";b=e.getAttribute("tplextension")!==null?e.getAttribute("tplextension"):b;var A=e.getAttribute("name"),k=e.getAttribute("componentClass")!==null?e.getAttribute("componentClass"):"Component";let U=i.CONFIG.get("preserveComponentBodyTag")?A!==null?"com.qcobjects.components."+A+".ComponentBody":"com.qcobjects.components.ComponentBody":k;A=A!==null?A:$(U)&&typeof $(U).name<"u"?$(U).name:"";var ae=$(U),J=U!=="Component"&&typeof ae<"u"&&typeof ae.tplsource=="string"&&ae.tplsource!=="",ge=c&&J?ae.tplsource:c?"default":e.getAttribute("template-source");y.debug(`template source for  ${A} is ${ge} `),y.debug(`type for ${A} is ${Y(ae)} `);var fe;fe=Se({COMPONENTS_BASE_PATH:i.CONFIG.get("componentsBasePath"),COMPONENT_NAME:A,TPLEXTENSION:b,TPL_SOURCE:ge}),i.CONFIG.get("preserveComponentBodyTag")&&O(A!==""?"com.qcobjects.components."+A:"com.qcobjects.components",[ee("ComponentBody",$("Component"),{name:A,tplsource:ge,tplextension:b,reload:!0})]);var ce=l(function(){var xe=a?ae&&ae.shadowed||$("Component").shadowed:d,re={__parent__:n,name:A,cached:m?$("Component").cached:_,shadowed:xe,tplextension:b,body:i.CONFIG.get("preserveComponentBodyTag")?de("componentBody"):e,templateURI:fe,tplsource:ge};(typeof A>"u"||A===""||A===null)&&delete re.name,fe===""&&delete re.templateURI;var Le=Ne(ae,re);return i.CONFIG.get("preserveComponentBodyTag")&&e.append(Le),Le},"__create_component_instance_"),Ge=ce.call(this);return Ge},"_buildComponentFromElement_"),Te=l(function(e,n){var a=[];return N?a=e.map(function(c){return Oe(c,n)}):y.debug("[_buildComponentsFromElements_] not implemented for Non-Browser environments"),a},"_buildComponentsFromElements_");O("com.qcobjects",[l(class extends $("InheritClass"){constructor({templateURI:e="",template:n,tplsource:a="default",url:c="",name:d="",method:m="GET",data:_={},reload:b=!1,shadowed:A=!1,cached:k=!0,_body:U=de("div"),__promise__:ae=null,__shadowRoot:J,body:ge,shadowRoot:fe,splashScreenComponent:ce,controller:Ge,view:xe}){super(...arguments),E(this,"validRoutingWays",["pathname","hash","search"]),E(this,"basePath",R),E(this,"domain",se),E(this,"templateHandler","DefaultTemplateHandler"),E(this,"processorHandler",null),E(this,"routingWay",null),E(this,"routingNodes",[]),E(this,"routings",[]),E(this,"routingPath",""),E(this,"routingPaths",[]),E(this,"_componentHelpers",[]),E(this,"subcomponents",[]),E(this,"splashScreenComponent"),E(this,"controller"),E(this,"view"),E(this,"effect"),E(this,"method","GET"),E(this,"cached",!0),E(this,"__promise__",null),E(this,"__namespace");var re=this;typeof re.name>"u"&&y.warn("A name is not defined for "+Y(re)),re.routingWay=i.CONFIG.get("routingWay"),re.processorHandler=Ne(Fe,{component:re}),re.data=typeof re.data>"u"||re.data===null?{}:re.data,re.data=Object.assign(re.data,re.dataAttributes),re.createServiceInstance().then(function(Le){typeof re.__new__=="function"&&re.__new__.call(re,re),re._generateRoutingPaths(re.body).then(function(){re._reroute_().then(function(){return re.rebuild().then(function(){y.info(`Component._new_ The component ${re.name} was built successfully!`)}).catch(function(at){y.warn(`Component._new_ Something went wrong building the component ${re.name}`),console.error(at)})})})})}set body(e){var n=this;n._body=e}get body(){var e=this;return e._body}set cacheIndex(e){y.debug("[cacheIndex] This property is readonly")}get cacheIndex(){var e=this,n=z(e.routingPath);return ve.encode(e.name+n)}set parsedAssignmentText(e){y.debug("[parsedAssignmentText] This property is readonly")}get parsedAssignmentText(){var e=this;if(e._parsedAssignmentText=e.parseTemplate(e.template),typeof e._parsedAssignmentText>"u")throw Error(`[Component][${this.name}][parsedAssignmentText] Could not generate content!`);return e._parsedAssignmentText}set shadowRoot(e){var n=this;typeof n.__shadowRoot>"u"?n.__shadowRoot=e:y.debug("[shadowRoot] This property can only be assigned once!")}get shadowRoot(){var e=this;return e.__shadowRoot}set routingSelected(e){y.debug("[routingSelected] This is a read-only property of the component")}get routingSelected(){var e=this;return Q(e.routings,e.routingPath)}set routingParams(e){y.debug("[routingParams] This is a read-only property of the component")}get routingParams(){var e=this;return[{}].concat(e.routingSelected.map(function(n){return pe(n,e.routingPath)})).reduce(function(n,a,c){return Object.assign(n,a)})}createServiceInstance(){var e=this,n=e.body,a=this.data,c,d=e.getClass().__definition,m=N&&n.getAttribute("serviceClass")!==null?n.getAttribute("serviceClass"):null;return new Promise(function(_,b){var A=!!(Object.hasOwnProperty.call(n,"enableServiceClass")&&n.enableServiceClass||!Object.hasOwnProperty.call(n,"enableServiceClass")),k=!!(N&&n.getAttribute("response-to")!==null&&n.getAttribute("response-to")==="data"),U=!!(N&&n.getAttribute("response-to")!==null&&n.getAttribute("response-to")==="template");if(A&&m!==null&&(c=$(m)),!k&&d&&Object.hasOwnProperty.call(d,"responseTo")?k=d.responseTo==="data":!k&&Object.hasOwnProperty.call($("Component"),"responseTo")&&(k=$("Component").responseTo==="data"),!U&&d&&Object.hasOwnProperty.call(d,"responseTo")?U=d.responseTo==="template":!U&&Object.hasOwnProperty.call($("Component"),"responseTo")&&(U=$("Component").responseTo==="template"),typeof c<"u"&&typeof A<"u"&&A===!0&&(k||U)){y.info("Loading service "+m);var ae=Ne(c,{data:a});_e(ae).then(function({request:J,service:ge}){var fe;typeof ge.JSONresponse<"u"&&ge.JSONresponse!==null?fe=ge.JSONresponse:fe=ge.template,k&&(typeof a=="object"&&typeof fe=="object"?a=Object.assign(a,fe):a=fe,e.data=a),e.serviceInstance=ae,e.serviceData=a,U&&(e.template=fe),_(fe)},function(J){y.debug(`Service loading rejected for ${m} in ${e.name}`),b(J)}).catch(function(J){throw y.debug("Something went wroing while trying to load the service "+m),Error(`Error loading ${m} for ${e.name}. Detail: ${J}`)})}else _(null)})}_bindroute_(){var e=this;e._bindroute_.loaded?y.debug(`Routes already bound to popstate events for ${e.name}`):(N&&e.hostElements("a").map(function(n){return n.oldclick=n.onclick,n.onclick=function(a){var c=!0;i.global.get("routingPaths")||i.global.set("routingPaths",[]);var d=i.CONFIG.get("routingWay"),m=a.target[d];return i.global.get("routingPaths").includes(m)&&a.target[d]!==document.location[d]&&a.target.href!==document.location.href?(y.debug("A ROUTING WAS FOUND: "+m),window.history.pushState({href:a.target.href},a.target.href,a.target.href),$("Component").route(),c=!1):y.debug("NO ROUTING FOUND FOR: "+m),typeof a.target.oldclick<"u"&&typeof a.target.oldclick=="function"&&a.target.oldclick.call(a.target,a),c},null}),this._bindroute_.loaded=!0)}done(e){var n;if(typeof e<"u"){var{request:a,component:c}=e;n=Promise.resolve({request:a,component:c})}return n}createControllerInstance(){var e;if(N){if(typeof this.body>"u")throw new Error("The component has no body");var n=this.body.getAttribute("controllerClass");n||(n="Controller"),e=$(n),typeof e<"u"&&(this.controller=Ne(e,{component:this}))}return new Promise((a,c)=>{if(N&&typeof e<"u"&&typeof this.controller<"u"){if(typeof this.controller.done=="function")try{this.controller.done.call(this.controller)}catch(d){throw Error(d)}else y.debug(`${n} does not have a done() method.`),c(`${n} does not have a done() method.`);typeof this.controller.createRoutingController=="function"?this.controller.createRoutingController.call(this.controller):y.debug(`${n} does not have a createRoutingController() method.`)}a({component:this,controller:this.controller})})}createEffectInstance(){var e=this;return new Promise(function(n,a){if(N){var c=e.body.getAttribute("effectClass"),d=e.body.getAttribute("apply-effect-to");d=d!==null?d:"load",c!==null&&d==="observe"?e.applyObserveTransitionEffect(c):c!==null&&d==="load"&&e.applyTransitionEffect(c)}n({component:e,effect:e.effect})})}createViewInstance(){var e=this;return new Promise(function(n,a){var c=N?e.body.getAttribute("viewClass"):null;if(c!==null){var d=$(c);typeof d<"u"&&(e.view=Ne(d,{component:e}),Object.hasOwnProperty.call(e.view,"done")&&typeof e.view.done=="function"&&e.view.done.call(e.view))}n({component:e,view:e.view})})}__done__(){var e=this,n=l(function(){if(typeof e>"u")throw new Error("componentDone() has lost its context");if(typeof e.body>"u")throw new Error("The component has no body");e.createViewInstance(),e.createControllerInstance(),e.createEffectInstance(),y.debug(`Trying to run component helpers for ${e.name}...`);try{e.runComponentHelpers(),y.debug(`Component helpers for ${e.name} executed.`)}catch(a){throw y.debug(`Component helpers for ${e.name} could not be executed.`),Error(a)}e.subcomponents=e.__buildSubComponents__(),e._bindroute_(),e.body.setAttribute("loaded",!0)},"componentDone");return new Promise(function(a,c){try{Promise.resolve(n.call(e))}catch(d){c(d)}})}hostElements(e){var n=this,a=n.shadowed&&typeof n.shadowRoot<"u"?n.shadowRoot.subelements(e):n.body.subelements(e);return a}get subtags(){var e=this,n=Re;return e.hostElements(n)}get bodyAttributes(){var e=this,n=e.body;return N?[...n.getAttributeNames()].map(a=>({[a]:n.getAttribute(a)})).reduce((a,c,d)=>Object.assign(a,c)):{}}get dataAttributes(){var e=this,n=e.body;return N?[{}].concat([...n.getAttributeNames()].filter(a=>a.startsWith("data-")).map(a=>({[a.split("-")[1]]:n.getAttribute(a)}))).reduce((a,c,d)=>Object.assign(a,c)):{}}__buildSubComponents__(e=!1){var n=this,a=n.subtags;return e||(a=a.filter(c=>c.getAttribute("loaded")!=="true")),(typeof n<"u"||n.subcomponents.length<1)&&(n.subcomponents=Te(a,n)),n.subcomponents}fail(e){var n;if(typeof e<"u"){var{error:a,component:c}=e;n=Promise.resolve({error:a,component:c})}return n}set(e,n){this[e]=n}get(e){return this[e]}feedComponent(){var e=this;y.debug(`[Component][${this.name}][feedComponent] start feeding component...`);var n=l(function(d){if(typeof d.container>"u"&&typeof d.body>"u"){y.warn("COMPONENT {{NAME}} has an undefined container and body".replace("{{NAME}}",d.name));return}var m=typeof d.container>"u"||d.container===null?d.body:d.container,_=d.parsedAssignmentText;if(d.innerHTML=_,d.shadowed){y.debug("COMPONENT {{NAME}} is shadowed".replace("{{NAME}}",d.name)),y.debug("Preparing slots for Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",d.name));var b=de("div");m.subelements("[slot]").map(function(U){U.parentElement===m&&b.appendChild(U)}),y.debug("Creating shadowedContainer for COMPONENT {{NAME}}".replace("{{NAME}}",d.name));var A=de("div");A.classList.add("shadowHost");try{d.shadowRoot=A.attachShadow({mode:"open"})}catch{try{y.debug("Shadowed COMPONENT {{NAME}} is repeated".replace("{{NAME}}",d.name)),d.shadowRoot=A.shadowRoot}catch{y.warn("Shadowed COMPONENT {{NAME}} is not allowed on this browser".replace("{{NAME}}",d.name))}}if(typeof d.shadowRoot<"u"&&d.shadowRoot!==null){d.reload?(y.debug("FORCED RELOADING OF CONTAINER FOR Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",d.name)),A.shadowRoot.innerHTML=d.innerHTML):(b.innerHTML=d.parseTemplate(b.innerHTML),y.debug("ADDING Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",d.name)),A.shadowRoot.innerHTML+=d.innerHTML),y.debug("ADDING Slots to Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",d.name)),A.innerHTML+=b.innerHTML,y.debug("APPENDING Shadowed COMPONENT {{NAME}} to Container ".replace("{{NAME}}",d.name));var k=m.querySelector(".shadowHost");typeof k<"u"&&k!==null?(y.debug("Shadowed Container for COMPONENT {{NAME}} is already present in the tree ".replace("{{NAME}}",d.name)),d.shadowRoot.innerHTML=A.shadowRoot.innerHTML):m.appendChild(A)}else y.warn("Shadowed COMPONENT {{NAME}} is bad configured".replace("{{NAME}}",d.name))}else d.reload?(y.debug("FORCED RELOADING OF CONTAINER FOR COMPONENT {{NAME}}".replace("{{NAME}}",d.name)),m.innerHTML=d.innerHTML):m&&d?(y.debug("ADDING COMPONENT {{NAME}} ".replace("{{NAME}}",d.name)),m.innerHTML+=d.innerHTML):y.warn("COMPONENT {{NAME}} is not added to the DOM".replace("{{NAME}}",d.name))},"_feedComponent_InBrowser"),a=l(function(d){var m=d.parsedAssignmentText;d.innerHTML=m},"_feedComponent_InNode"),c;if(!K(e,"Component")){y.warn("Trying to feed a non component object");return}return N?c=n(e):c=a(e),c}rebuild(){var e=this,n=new Promise(function(a,c){if((typeof e>"u"||e===null)&&c("Component is undefined"),h(e)&&K(e,"Component"))switch(!0){case e.get("tplsource")==="none":y.debug("Component "+e.name+" has specified template-source=none, so no template load was done");var d={request:null,component:e};e.__done__().then(function(){typeof e.done=="function"&&e.done.call(e,d),a.call(n,d)},function(){c.call(n,d)});break;case e.get("tplsource")==="inline":y.debug("Component "+e.name+" has specified template-source=inline, so it is assumed that template is already declared"),async function(m){m.feedComponent.bind(m)()}(e);var d={request:null,component:e};e.__done__().then(function(){typeof e.done=="function"&&e.done.call(e,d),a.call(n,d)},function(){c.call(n,d)});break;case(e.get("tplsource")==="default"&&e.get("templateURI")!==""):e.set("url",e.get("basePath")+e.get("templateURI")),ze(e,!1).then(function(m){a.call(n,m)},function(m){c.call(n,m)});break;case(e.get("tplsource")==="external"&&e.get("templateURI")!==""):e.set("url",e.get("templateURI")),ze(e,!1).then(function(m){a.call(n,m)},function(m){c.call(n,m)});break;case(e.get("tplsource")==="default"&&e.get("templateURI","")===""):y.debug(`Component ${e.name} template-source is ${e.get("tplsource")} and no templateURI is present`),c.call(n,`Component ${e.name} template-source is ${e.get("tplsource")} and no templateURI is present`);break;default:y.debug("Component "+e.name+" will not be rebuilt because no templateURI is present"),c.call(n,{request:null,component:e});break}});return n}Cast(e){let n=ne(e).map(a=>a.name.replace(/bound /g,"")).map(a=>({[a]:e[a].bind(this)})).reduce((a,c)=>Object.assign(a,c),{});return We(this,n)}static route(){var e=this,n,a=!!(h(e)&&K(e,"Component")),c=l(function(d){var m=[],_=d.filter(function(b){return typeof b<"u"}).map(function(b){if(typeof b.name<"u")m.push(b.name);else throw new Error(Y(b)+" does not have a name");return new Promise(function(A,k){var U;return typeof b<"u"&&b._reroute_?U=b._reroute_().then(function(){return b.reload=!0,b.rebuild()}).then(function(ae){if(Object.hasOwnProperty.call(b,"subcomponents")&&typeof b.subcomponents<"u"&&b.subcomponents.length>0)return y.debug("LOOKING FOR ROUTINGS IN SUBCOMPONENTS FOR: "+b.name),c.call(b,b.subcomponents);y.debug("No subcomponents to look for routings in: "+b.name),b.subtags.length>0&&(b.subcomponents=b.__buildSubComponents__(!0)),A(b)}):typeof b<"u"&&k("Component "+b.name+" is not an instance of Component"),U})});return Promise.all(_).then(function(){y.debug("ROUTING COMPLETED FOR "+m.join(", "))}).catch(function(b){y.warn("ROUTING FAILED FOR "+m.join(", ")+": "+b)})},"__route__");if(a||i.componentsStack)a&&y.debug("loading routings for instance "+e.name),n=c.call(e,a?e.subcomponents:i.componentsStack);else throw y.debug("An undetermined result expected if load routings. So will not be loaded this time."),Error("There is no valid instance and no components stack available to apply rountings");return n}fullscreen(){if(N){var e=this.body;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}}closefullscreen(){N&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}_generateRoutingPaths(e){var n=this;return new Promise(function(a,c){N&&Pe(n.validRoutingWays,n.routingWay)&&typeof e<"u"&&(n.innerHTML=e.innerHTML,n.routingNodes=e.subelements("routing"),n.routings=[],n.routingNodes.map(function(d,m){var _=d.getAttributeNames(),b={};_.map(function(A,k){b[_[k]]=d.getAttribute(_[k])}),n.routings.push(b),n.routingPaths||(n.routingPaths=[]),n.routingPaths.includes(b.path)||n.routingPaths.push(b.path),i.global.get("routingPaths")||i.global.set("routingPaths",[]),i.global.get("routingPaths").includes(b.path)||i.global.get("routingPaths").push(b.path)})),a()})}parseTemplate(e){var n=this,a,c=e;if(Object.hasOwnProperty.call(n,"templateHandler")){var d=n.templateHandler;y.debug(`[Component][${this.name}][parseTemplate] Attempting to use ${d} ...`);var m=$(d),_=Ne(m,{component:n,template:c});_.component=n;var b=n.data;if(Object.hasOwnProperty.call(n,"assignRoutingParams")&&n.assignRoutingParams)try{b=Object.assign(b,n.routingParams)}catch{y.debug("[parseTemplate] it was not possible to assign the routing params to the template")}a=_.assign(b)}else y.debug(`[Component][${this.name}][parseTemplate] No value for templateHandler. Using raw content...`),a=c;return a}_reroute_(){var e=this;return new Promise(function(n,a){N&&Pe(e.validRoutingWays,e.routingWay)&&(e.routingPath=document.location[e.routingWay],e.routingSelected.map(function(c,d){var m=Se({COMPONENTS_BASE_PATH:i.CONFIG.get("componentsBasePath"),COMPONENT_NAME:c.name.toString(),TPLEXTENSION:Object.hasOwnProperty.call(c,"tplextension")?c.tplextension:e.tplextension,TPL_SOURCE:"default"});e.templateURI=m}),e.routingSelected.length>0&&(e.template="",e.body.innerHTML="")),n(e)})}lazyLoadImages(){if(N){var e=this,n=e.shadowed?e.shadowRoot:e.body,a=[...n.subelements("img[lazy-src]")],c=l(function(m){m.setAttribute("src",m.getAttribute("lazy-src")),m.onload=()=>{m.removeAttribute("lazy-src")}},"_lazyLoadImages");if("IntersectionObserver"in window){var d=new IntersectionObserver((m,_)=>{m.forEach(b=>{b.isIntersecting&&(c(b.target),_.unobserve(b.target))})});a.map(function(m){return d.observe(m)})}else a.map(c)}return null}applyTransitionEffect(e){var n=$(e);if(typeof n>"u")throw Error(`${e} not found.`);typeof n<"u"&&K(n,"TransitionEffect")?(this.effect=Ne(n,{component:this}),this.effect.apply(this.effect.defaultParams)):y.debug(`${e} is ${Y(n)} but is not a TransitionEffect`)}applyObserveTransitionEffect(e){if(N){var n=this,a=n.shadowed?n.shadowRoot.host:n.body,c=l(function(m){n.applyTransitionEffect(e)},"_applyEffect_");if("IntersectionObserver"in window){var d=new IntersectionObserver((m,_)=>{m.forEach(b=>{b.isIntersecting&&(c(b.target),_.unobserve(b.target))})});d.observe(a)}else c(a)}return null}scrollIntoHash(){if(N){var e=this;if(document.location.hash!==""){var n=e.shadowed?e.shadowRoot:e.body;n.subelements(document.location.hash).map(function(a){typeof a.scrollIntoView=="function"&&a.scrollIntoView(i.CONFIG.get("scrollIntoHash",{behavior:"auto",block:"top",inline:"top"}))})}}}i18n_translate(){if(N&&i.CONFIG.get("use_i18n")){var e=this,n=e.shadowed?e.shadowRoot:e.body,a=i.CONFIG.get("lang","en"),c=navigator.language.slice(0,2),d=i.global.get("i18n");if(a!==c&&typeof d=="object"&&Object.hasOwnProperty.call(d,"messages")){var m=l(function(){var _=this;return new Promise(function(b,A){var k=d.messages.filter(function(U){return Object.hasOwnProperty.call(U,a)&&Object.hasOwnProperty.call(U,c)});n.subelements("ul,li,h1,h2,h3,a,b,p,input,textarea,summary,details,option,component").map(function(U){return k.map(function(ae){var J=U.innerHTML;return J=J.replace(new RegExp(`${ae[a]}`,"g"),ae[c]),U.innerHTML=J,null}),U}),b()})},"callback_i18n");m.call(e).then(function(){y.debug("i18n loaded for component: "+e.name)})}}}addComponentHelper(e){var n=this;n._componentHelpers.push(e)}runComponentHelpers(){if(N){var e=this,n=[];n.push(e.i18n_translate.bind(e)),n.push(e.scrollIntoHash.bind(e)),n.push(e.lazyLoadImages.bind(e)),n=n.concat(e._componentHelpers),n.map(function(a){y.debug(`Executing ${a.name} as component helper for ${e.name}...`),a()})}}},"Component")]),ne($("Component")).map(function(e){L(e)}),N&&window.addEventListener("popstate",function(e){e.stopImmediatePropagation(),e.stopPropagation(),$("Component").route()}),O("com.qcobjects.controllers",[l(class extends $("InheritClass"){constructor({component:e,dependencies:n}){if(super({component:e,dependencies:n}),E(this,"component",null),E(this,"dependencies",[]),this.component=e,this.dependencies=n,typeof this.component>"u"||this.component==="null")throw Error(`${Y(this)} must be called with a component`)}routingSelectedAttr(e){return this.component.routingSelected.map(function(n){return n[e]}).filter(function(n){return n}).pop()}isTouchable(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}onpress(e,n){try{this.isTouchable()?this.component.body.subelements(e)[0].addEventListener("touchstart",n,{passive:!0}):this.component.body.subelements(e)[0].addEventListener("click",n,{passive:!0})}catch{y.debug("No button to assign press event")}}createRoutingController(){var e=this,n=e.component,a=e.routingSelectedAttr("controllerclass");if(typeof a<"u"){var c=$(a);typeof c<"u"&&(n.routingController=Ne(c,{component:n}),Object.hasOwnProperty.call(n.routingController,"done")&&typeof n.routingController.done=="function"&&n.routingController.done.call(n.routingController))}}done(){}},"Controller")]),O("com.qcobjects.views",[l(class extends $("InheritClass"){constructor({component:e=void 0,dependencies:n=[]}){if(super(...arguments),typeof this.component>"u"||this.component==="null")throw Error(`${Y(this)} must be called with a component`)}},"View")]),O("com.qcobjects.api",[l(class extends $("InheritClass"){constructor(){super(...arguments),E(this,"kind","rest"),E(this,"domain",se),E(this,"basePath",R),E(this,"url",""),E(this,"method","GET"),E(this,"data",{}),E(this,"reload",!1),E(this,"cached",!1)}set(e,n){this[e]=n}get(e){return this[e]}},"Service")]),O("com.qcobjects.api.services",[l(class extends $("Service"){constructor(){super(...arguments),E(this,"method","GET"),E(this,"cached",!1),E(this,"headers",{"Content-Type":"application/json",charset:"utf-8"}),E(this,"JSONresponse",null)}done(e){y.debug("***** RECEIVED RESPONSE:"),y.debug(e.service.template),this.JSONresponse=JSON.parse(e.service.template)}},"JSONService")]),O("com.qcobjects.api.config",[l(class extends $("JSONService"){constructor(){super(...arguments),E(this,"method","GET"),E(this,"cached",!1),E(this,"configFileName","config.json"),E(this,"headers",{"Content-Type":"application/json",charset:"utf-8"}),E(this,"JSONresponse",null),this.set("url",this.get("basePath")+this.get("configFileName"))}done(e){y.debug("***** CONFIG LOADED:"),y.debug(e.service.template),this.JSONresponse=JSON.parse(e.service.template),Object.hasOwnProperty.call(this.JSONresponse,"__encoded__")&&(this.JSONresponse=JSON.parse($("_Crypt").decrypt(this.JSONresponse.__encoded__,ue)));for(var n in this.JSONresponse)i.CONFIG.set(n,this.JSONresponse[n]);this.configLoaded.call(this)}fail(e){this.configLoaded.call(this)}},"ConfigService")]),O("com.qcobjects.valueObjects",[l(class extends $("InheritClass"){constructor(){super(...arguments)}},"VO")]);var Se=l(function(e){var n="";if(e.TPL_SOURCE==="default"){n="{{COMPONENTS_BASE_PATH}}{{COMPONENT_NAME}}.{{TPLEXTENSION}}";for(var a in e){var c=e[a];n=n.replace("{{"+a+"}}",e[a])}}return n},"ComponentURI"),ze=l(function(e,n){var a,c=l(function(_,b){return a=new Promise(function(A,k){var U=_.__promise__,ae=Object.hasOwnProperty.call(_,"container")&&typeof _.container<"u"&&_.container!==null?_.container:_.body;if(ae!==null){var J=l(function(Le){Le.feedComponent();var at={request:ce,component:Le};A.call(U,at)},"_feedComponent_");y.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",z(_.data)).replace("{{URL}}",_.url));var ge=l(function(){var Le=fe?0:200;if(ce.status===Le){var at=ce.responseText;y.debug("Data received {{DATA}}".replace("{{DATA}}",z(at))),y.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",_.name)),_.template=at,_.cached&&typeof re<"u"&&re.save(_.name,_.template),J.call(this,_)}else{var Ht={request:ce,component:_};k.call(U,Ht)}},"_componentLoaded");if(typeof _.template=="string"&&_.template!=="")J.call(this,_);else{var fe=!!_.url.startsWith("file:"),ce=new XMLHttpRequest;if(fe){if("fetch"in i){y.debug("I can use fetch..."),y.debug("It is a file to be loaded, so I will try to use fetch");var Ge=fetch(_.url).then(Le=>{y.debug("I got a response from fetch, so I'll feed the component"),Le.text().then(at=>{_.template=at,J.call(this,_)})})}}else try{y.debug("Calling the url of component in async mode."),ce.open(_.method,_.url,!0)}catch{y.debug("Last try has failed... The component cannot be loaded.")}!X&&!fe&&ce.setRequestHeader("Content-Type","text/html"),fe||(ce.onload=ge);var xe=l(function(Le){Le=!(typeof Le>"u"||!Le),y.debug("SENDING THE NORMAL REQUEST  "),Le?"fetch"in i||(y.debug("I have to try to load the file using xhr...  "),ce.send(null),ce.status===XMLHttpRequest.DONE&&ge.call(this)):(y.debug("Trying to send the data to the component...  "),ce.send(z(_.data)))},"_directLoad");if(_.cached&&!fe){y.debug("USING CACHE FOR COMPONENT: "+_.name);var re=new oe({index:_.cacheIndex,load(Le){xe.call(this,fe)},alternate(Le){_.method==="GET"?(_.template=Le.cache.getCached(_.cacheIndex),J.call(this,_)):xe.call(this,fe)}});I.lastCache=re}else y.debug("NOT USING CACHE FOR COMPONENT: "+_.name),xe.call(this,fe)}}else y.debug("CONTAINER DOESNT EXIST")}),a.then(function(A){return _.__done__().then(function(){var k;return typeof _.done=="function"&&(k=_.done.call(_,A)),Promise.resolve(k)})},function(A){var k;return typeof _.fail=="function"&&(k=_.fail.call(_,A)),Promise.reject(k)}).catch(function(A){y.debug("Something wrong loading the component")}),a},"_componentLoaderInBrowser"),d=l(function(_,b){return a=new Promise(function(A,k){var U=a,ae=l(function(ce){ce.feedComponent();var Ge={request:null,component:ce};A.call(U,Ge)},"_feedComponent_");y.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",z(_.data)).replace("{{URL}}",_.url));var J=l(function(ce,Ge){if(ce){var xe={request:null,component:_};k.call(U,xe)}else{var re=Ge.toString();y.debug("Data received {{DATA}}".replace("{{DATA}}",z(re))),y.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",_.name)),_.template=re,_.cached&&typeof fe<"u"&&fe.save(_.name,_.template),ae.call(this,_)}},"_componentLoaded");if(typeof _.template=="string"&&_.template!=="")ae.call(this,_);else{y.debug("Loading the component as a local file in server...");var ge=l(function(ce){let Ge=j("fs");y.debug("SENDING THE NORMAL REQUEST  "),Ge.readFile(_.url,J)},"_directLoad");if(_.cached){y.debug("USING CACHE FOR COMPONENT: "+_.name);var fe=new oe({index:_.cacheIndex,load(ce){ge.call(this)},alternate(ce){_.method==="GET"?(_.template=ce.cache.getCached(_.cacheIndex),ae.call(this,_)):ge.call(this)}});I.lastCache=fe}else y.debug("NOT USING CACHE FOR COMPONENT: "+_.name),ge.call(this)}}),a.then(function(A){return _.__done__().then(function(){var k;return typeof _.done=="function"&&(k=_.done.call(_,A)),Promise.resolve(k)})},function(A){var k;return typeof _.fail=="function"&&(k=_.fail.call(_,A)),Promise.reject(k)}).catch(function(A){y.debug("Something wrong loading the component")}),a},"_componentLoaderInNode"),m;return N?typeof n<"u"&&n?m=ye(c,arguments):m=c(e,n):m=d(e,n),m},"componentLoader"),_e=l(function(e,n){var a=l(function(b,A){var k=new Promise(function(U,ae){y.debug("LOADING SERVICE DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",z(b.data)).replace("{{URL}}",b.url));var J=new XMLHttpRequest;J.withCredentials=b.withCredentials;var ge=!0;J.open(b.method,b.url,ge);for(var fe in b.headers)try{typeof b.headers[fe]!="function"&&J.setRequestHeader(fe,b.headers[fe])}catch{y.debug("Something went wrong when assign the header "+fe)}J.onload=function(){if(J.status===200){var xe=J.responseText;if(y.debug("Data received {{DATA}}".replace("{{DATA}}",z(xe))),y.debug("CREATING SERVICE {{NAME}}".replace("{{NAME}}",b.name)),b.template=xe,b.cached&&typeof Ge<"u"&&Ge.save(b.name,b.template),typeof b.done=="function"){var re={request:J,service:b};b.done.call(b,re),U.call(k,re)}}else if(typeof b.fail=="function"){var re={request:J,service:b};b.fail.call(b,re),ae.call(k,re)}};var ce=l(function(){y.debug("SENDING THE NORMAL REQUEST  ");try{J.send(z(b.data))}catch{y.debug("SOMETHING WRONG WITH REQUEST  "),ae.call(k,{request:J,service:b})}},"_directLoad");if(b.cached){var Ge=new oe({index:b.data,load(xe){ce.call(this)},alternate(xe){if(b.method==="GET"){if(b.template=xe.cache.getCached(b.name),typeof b.done=="function"){var re={request:J,service:b};b.done.call(b,re),U.call(k,re)}}else ce.call(this)}});I.lastCache=Ge}else ce.call(this);return J});return k},"_serviceLoaderInBrowser"),c=l(function(b,A){var k=new Promise(function(U,ae){if(typeof URL>"u"){I.URL=j("url").URL;let $e=I.URL}var J=new URL(b.url),ge;b.useHTTP2=Object.hasOwnProperty.call(b,"useHTTP2")&&b.useHTTP2;var fe=l(function($e){y.debug("LOADING SERVICE DATA (non-browser) {{DATA}} FROM {{URL}}".replace("{{DATA}}",z(b.data)).replace("{{URL}}",b.url));var Nt,$t={http2Client:xe,request:$e,service:b,responseHeaders:null};if(typeof b.data=="object"&&b.data!==null&&b.useHTTP2)try{y.debug("Sending data...");let It=new Buffer(z(b.data));$e.write(It)}catch{y.debug("It was not possible to send any data")}Nt="",$e.on("response",(It,an)=>{y.debug("receiving response..."),$t.responseHeaders=It,Nt=""}),$e.on("data",It=>{y.debug("receiving data..."),Nt+=""+It.toString(),b.template=Nt}),b.useHTTP2&&$e.resume(),$e.on("end",()=>{y.debug("ending call..."),b.template=Nt,Object.hasOwnProperty.call(b,"useHTTP2")&&b.useHTTP2?xe.destroy():$e.destroy(),b.done.call(b,$t),U.call(k,$t)}),b.useHTTP2&&$e.end()},"captureEvents");try{var ce;if(b.useHTTP2){y.debug("using http2");var Ge=j("http2"),xe=Ge.connect(J.origin);ce=Object.assign({":method":b.method,":path":J.pathname},b.options),ce=Object.assign(ce,b.headers),ge=xe.request(ce),ge.setEncoding("utf8"),fe(ge)}else if(J.protocol==="http:"){var re=j("http"),Le=re.request;ce=Object.assign({url:b.url,headers:b.headers},b.options);var ge=Le(b.url);fe(ge)}else if(J.protocol==="https:"){var at=j("https");ce=Object.assign({hostname:J.hostname,port:J.port,path:J.pathname,method:b.method,headers:b.headers},b.options);var Ht=at.request(ce,function($e){fe($e)});Ht.end()}else{var Bt="Protocol not supported: "+J.protocol;throw y.debug(Bt),new Error(Bt)}}catch($e){y.debug($e),b.fail.call(b,$e),ae.call(k,$e)}}).catch(function(U){console.log(U),y.debug("Something happened when trying to call the service: "+b.name),b.fail.call(b,U)});return k},"_serviceLoaderInNode"),d=l(function(b,A){var k=new Promise(function(U,ae){y.debug(`Calling mockup service ${b.name} ...`);var J={request:null,service:b,responseHeaders:b.responseHeaders};typeof b.mockup=="function"?b.mockup.call(b,J):b.done.call(b,J),U.call(k,J)});return k},"_serviceLoaderMockup"),m=l(function(b,A){var k=new Promise(function(U,ae){y.debug(`Calling local service ${b.name} ...`);var J={request:null,service:b,responseHeaders:b.responseHeaders};typeof b.local=="function"?b.local.call(b,J):b.done.call(b,J),U.call(k,J)});return k},"_serviceLoaderLocal"),_;switch(e.kind){case"rest":N?typeof n<"u"&&n?_=ye(a,arguments):_=a(e,n):_=c(e,n);break;case"mockup":_=d(e,n);break;case"local":_=m(e,n);break;default:y.debug(`The value of the kind property of the service ${e.name} is not valid`);break}return _},"serviceLoader");if(o(_e),o(ze),o(Se),o(Xe),o(z),o(v),o(h),o(M),N){Element.prototype.buildComponents=function(e=!1){var n=Re,a=this,c=a.subelements(n);return Te(c,null)},HTMLDocument.prototype.buildComponents=Element.prototype.buildComponents,HTMLElement.prototype.buildComponents=Element.prototype.buildComponents;var wt=l(class extends HTMLElement{constructor(){super(...arguments);let e=this,n=e.nodeName.toLowerCase(),a=de("quick-component"),c=e.getAttributeNames();a.setAttribute("name",n),e.hasAttribute("shadowed")||a.setAttribute("shadowed","true"),c.map(function(m){e.hasAttribute(m)&&(a.setAttribute(m,e.getAttribute(m)),e.removeAttribute(m))});var d=e.getAttributeNames().filter(function(m){return m.startsWith("data-")}).map(function(m){return m.split("-")[1]});d.map(function(m){a.setAttribute("data-"+m,e.getAttribute("data-"+m)),e.removeAttribute("data-"+m)}),[...e.children].map(function(m){a.appendChild(m.cloneNode(!0)),m.remove()}),e.append(a)}},"_ComponentWidget_");o(wt);var ke=l(function(e){customElements.define(e,class extends wt{})},"RegisterWidget"),ht=l(function(){var e=[...arguments];e.filter(function(n){return typeof n=="string"}).map(function(n){ke(n)})},"RegisterWidgets");L(ke),L(ht),o(ke),o(ht)}N||O("com.qcobjects.api",[l(class extends $("InheritClass"){constructor({domain:e=se,basePath:n=R,body:a=null,stream:c=null,request:d=null}){super(...arguments),y.debug("Initializing BackendMicroservice...");let m=this;typeof this.body>"u"&&(this.body=null),typeof a<"u"&&(this.body=a),this.cors(),m.stream=c,c.on("data",A=>{var k=d.method.toLowerCase(),U={post:m.post};Object.hasOwnProperty.call(U,k)&&U[k].call(m,A)});var _=d.method.toLowerCase(),b={get:m.get,head:m.head,put:m.put,delete:m.delete,connect:m.connect,options:m.options,trace:m.trace,patch:m.patch};Object.hasOwnProperty.call(b,_)&&b[_].call(m)}cors(){if(this.route.cors){y.debug("Validating CORS...");let{allow_origins:n,allow_credentials:a,allow_methods:c,allow_headers:d}=this.route.cors;var e=this;if(typeof e.headers!="object"&&(e.headers={}),typeof e.route.responseHeaders!="object"&&(e.route.responseHeaders={}),typeof n<"u")if(y.debug("CORS: allow_origins available. Validating origins..."),n==="*"||typeof e.request.headers.origin>"u"||[...n].indexOf(e.request.headers.origin)!==-1)y.debug("CORS: Adding header Access-Control-Allow-Origin=*"),e.route.responseHeaders["Access-Control-Allow-Origin"]="*";else{y.debug("CORS: Origin is not allowed: "+e.request.headers.origin),y.debug("CORS: Forcing to finish the response..."),this.body={};try{this.done()}catch(m){y.debug(`It was not possible to finish the call to the microservice: ${m}`)}}else y.debug("CORS: no allow_origins available. Allowing all origins..."),y.debug("CORS: Adding header Access-Control-Allow-Origin=*"),e.route.responseHeaders["Access-Control-Allow-Origin"]="*";typeof a<"u"?(y.debug(`CORS: allow_credentials present. Allowing ${a}...`),e.route.responseHeaders["Access-Control-Allow-Credentials"]=a.toString()):(y.debug("CORS: No allow_credentials present. Allowing all credentials."),e.route.responseHeaders["Access-Control-Allow-Credentials"]="true"),typeof c<"u"?(y.debug(`CORS: allow_methods present. Allowing ${c}...`),e.route.responseHeaders["Access-Control-Allow-Methods"]=[...c].join(",")):(y.debug("CORS: No allow_methods present. Allowing only GET, OPTIONS and POST"),e.route.responseHeaders["Access-Control-Allow-Methods"]="GET, OPTIONS, POST"),typeof d<"u"?(y.debug(`CORS: allow_headers present. Allowing ${d}...`),e.route.responseHeaders["Access-Control-Allow-Headers"]=[...d].join(",")):(y.debug("CORS: No allow_headers present. Allowing all headers..."),e.route.responseHeaders["Access-Control-Allow-Headers"]="*")}else y.debug("No CORS validation available. You can specify cors in CONFIG.backend.routes[].cors")}head(e){this.done()}get(e){y.debug(`[BackendMicroservice.get] Data received: ${z(e)}`),this.done()}post(e){this.done()}put(e){this.done()}delete(e){this.done()}connect(e){this.done()}options(e){this.done()}trace(e){this.done()}patch(e){this.done()}finishWithBody(e){try{y.debug("[BackendMicroservice.finishWithBody] Ending the stream..."),y.debug(`[BackendMicroservice.finishWithBody] type of body is: ${typeof this.body}`),typeof this.body!="string"&&(this.body=z(this.body)),y.debug(`[BackendMicroservice.finishWithBody] 
 body: ${this.body} `),e.write(this.body),e.end(),y.debug("[BackendMicroservice.finishWithBody] Stream ended.")}catch(n){y.debug(`[BackendMicroservice.finishWithBody] Something went wrong ending the stream: ${n}`)}}done(){y.debug("[BackendMicroservice.done] Finalizing the response...");var e=this,n=e.stream;try{if(y.debug("[BackendMicroservice.done] Sending response headers..."),e.route.responseHeaders)y.debug(`[BackendMicroservice.done] Response headers present: ${Object.keys(e.route.responseHeaders)}`),n.respond(e.route.responseHeaders);else throw Error("[BackendMicroservice.done] No headers present.")}catch(a){y.debug(`[BackendMicroservice.done] Something went wrong sending response headers: ${a}`)}if(e.body!==null)try{y.debug("[BackendMicroservice.done] A body of message is present. Finalizing the response..."),e.finishWithBody.call(e,n)}catch(a){y.debug(`[BackendMicroservice.done] Something went wrong finalizing the response: ${a}`)}else y.debug("[BackendMicroservice.done] No body present. Ending stream..."),n.end()}},"BackendMicroservice")]),ee("SourceJS",Object,{domain:se,basePath:R,body:de("script"),type:"text/javascript",containerTag:"body",url:"",data:{},async:!1,external:!1,set(e,n){this[e]=n},get(e){return this[e]},status:!1,done(){},fail(){},rebuild(){var e=this;try{document.getElementsByTagName(e.containerTag)[0].appendChild(function(n,a,c){return n.type=c.type,n.src=a,n.crossOrigin=Object.hasOwnProperty.call(c,"crossOrigin")?c.crossOrigin:"anonymous",n.async=c.async,n.onreadystatechange=function(){this.readyState==="complete"&&c.done.call(c)},n.onload=function(d){c.status=!0,c.done.call(c,d)},n.onerror=function(d){c.status=!1,c.fail.call(c,d)},c.body=n,n}.call(this,de("script"),this.external?this.url:this.basePath+this.url,e))}catch(n){e.status=!1,e.fail.call(e,n)}},Cast(e){return We(this,e)},_new_(e){this.__new__(e),this.rebuild()}}),ee("SourceCSS",Object,{domain:se,basePath:R,body:de("link"),url:"",data:{},async:!1,external:!1,set(e,n){this[e]=n},get(e){return this[e]},done(){},rebuild(){var e=this;N&&window.document.getElementsByTagName("head")[0].appendChild(function(n,a,c){return n.type="text/css",n.rel="stylesheet",n.href=a,n.crossOrigin="anonymous",n.onreadystatechange=function(){this.readyState==="complete"&&c.done.call(c)},n.onload=c.done,c.body=n,n}.call(this,de("link"),this.external?this.url:this.basePath+this.url,e))},Cast(e){return We(this,e)},_new_(e){this.__new__(e),this.rebuild()}});var et=l(function(e){return isNaN(e)?new Number(0):new Number(e)},"__to_number");Array.prototype.unique=function(){return this.filter(function(e,n,a){return a.indexOf(e)===n})},Array.unique=function(e){return e.unique()},L(Array.unique),L(Array.prototype.unique),Array.prototype.table=function(){console.table(this)},Array.table=function(e){return e.table()},L(Array.table),L(Array.prototype.table),Array.prototype.sum=function(){return this.reduce(function(e,n){return et(e)+et(n)},0)},Array.sum=function(e){return e.sum()},L(Array.sum),L(Array.prototype.sum),Array.prototype.avg=function(){return this.length<1?0:this.reduce(function(e,n){return(et(e)+et(n))/2})},Array.avg=function(e){return e.avg()},L(Array.avg),L(Array.prototype.avg),Array.prototype.min=function(){return this.reduce(function(e,n){return et(e)<=et(n)?e:n},1/0)},Array.min=function(e){return e.min()},L(Array.min),L(Array.prototype.min),Array.prototype.max=function(){return this.reduce(function(e,n){return et(e)>=et(n)?e:n},0)},Array.max=function(e){return e.max()},L(Array.max),L(Array.prototype.max),Array.prototype.sortBy=function(e,n=!0){var a=n?function(c,d){return d[e]<c[e]?1:-1}:function(c,d){return d[e]>c[e]?1:-1};return this.sort(a)},Array.sortBy=function(e,n,a=!0){return e.sortBy(n,a)},L(Array.sortBy),L(Array.prototype.sortBy),Array.matrix=function(e,n=0){var a=l(function(c){return n},"x_func");return Array.from({length:e},a)},L(Array.matrix),Array.matrix2d=function(e,n=0){var a=l(function(d){return n},"y_func"),c=l(function(d){return Array.from({length:e},a)},"x_func");return Array.from({length:e},c)},L(Array.matrix2d),Array.matrix3d=function(e,n=0){var a=l(function(d){return Array.from({length:e},function(){return n})},"y_func"),c=l(function(d){return Array.from({length:e},a)},"x_func");return Array.from({length:e},c)},L(Array.matrix3d),i.range=function(e,n=0,a=1){return(n===0||typeof n>"u")&&(n=e,e=0),Array.from({length:(n-e)/a+1},function(c,d){return e+d*a})},L(i.range),String.prototype.list=function(){var e=this;return i.range(0,e.length-1).map(function(n){return e[n]})},L(String.prototype.list),i.getDocumentLayout=function(){var e=l((c,d)=>c>d?"landscape":null,"h"),n=l((c,d)=>d>c?"portrait":null,"v"),a=l((c,d)=>c===d?"square":null,"square");return[e(document.documentElement.clientWidth,document.documentElement.clientHeight),n(document.documentElement.clientWidth,document.documentElement.clientHeight),a(document.documentElement.clientWidth,document.documentElement.clientHeight)].filter(c=>c!==null).pop()},ee("ArrayList",Array,[]),$("ArrayList").matrix=Array.matrix,$("ArrayList").matrix2d=Array.matrix2d,$("ArrayList").matrix3d=Array.matrix3d,L($("ArrayList").matrix),L($("ArrayList").matrix2d),L($("ArrayList").matrix3d),ee("ArrayCollection",Object,{source:Ne($("ArrayList"),[]),changed(e,n){y.debug("VALUE CHANGED"),y.debug(e),y.debug(n)},push(e){var n=this;y.debug("VALUE ADDED"),y.debug(e),n.source.push(e)},pop(e){var n=this;y.debug("VALUE POPPED"),y.debug(e),n.source.pop(e)},_new_(e){var n=this,a=0;n.source=Ne($("ArrayList"),e);for(var c in n.source)isNaN(c)||(y.debug("binding "+c.toString()),function(d){Object.defineProperty(n,d,{set(m){y.debug("setting "+d+"="+m),n.source[d]=m,n.changed(d,m)},get(){return n.source[d]}})}(c),a++);n.source.length=a,Object.defineProperty(n,"length",{get(){return n.source.length}})}}),O("com.qcobjects.effects.base",[l(class extends $("InheritClass"){constructor(){super(...arguments),E(this,"duration",1e3)}animate({timing:e,draw:n,duration:a}){let c=performance.now();requestAnimationFrame(l(C(F(function d(m){let _=(m-c)/a;_>1&&(_=1);let b=e(_);n(Math.round(b*100)),_<1?requestAnimationFrame(d):typeof this<"u"&&this!==null&&Object.hasOwnProperty.call(this,"done")&&(typeof this.done).toLowerCase()==="function"&&this.done.call(this)},"i"),"i"),"animate"))}},"Effect")]),O("com.qcobjects.effects.transitions.base",[l(class extends $("Effect"){constructor(){super(...arguments),E(this,"duration",385),E(this,"defaultParams",{alphaFrom:0,alphaTo:1,angleFrom:180,angleTo:0,radiusFrom:0,radiusTo:30,scaleFrom:0,scaleTo:1}),E(this,"fitToHeight",!1),E(this,"fitToWidth",!1),E(this,"effects",[]),y.info("DECLARING TransitionEffect  "),this.component.defaultParams=this.defaultParams}apply({alphaFrom:e,alphaTo:n,angleFrom:a,angleTo:c,radiusFrom:d,radiusTo:m,scaleFrom:_,scaleTo:b}){var A=this;y.info("EXECUTING TransitionEffect  ");var k=A.component.shadowed?A.component.shadowRoot.host:A.component.body;A.fitToHeight&&(k.height=typeof k.offsetParent=="object"&&k.offsetParent!==null?k.offsetParent.scrollHeight:k.getBoundingClientRect().height),A.fitToWidth&&(k.width=typeof k.offsetParent=="object"&&k.offsetParent!==null?k.offsetParent.scrollWidth:k.getBoundingClientRect().width),k.style.display="block",A.effects.map(function(U,ae){var J=$(U),ge=new J,fe=ge.apply,ce=[k].concat(Object.values({alphaFrom:e,alphaTo:n,angleFrom:a,angleTo:c,radiusFrom:d,radiusTo:m,scaleFrom:_,scaleTo:b}));fe.apply(A,ce)})}},"TransitionEffect")]),O("com.qcobjects.timing",[l(class extends $("InheritClass"){constructor(){super(...arguments),E(this,"duration",1e3),E(this,"alive",!0)}thread({timing:e,intervalInterceptor:n,duration:a}){var c=this;let d=performance.now();requestAnimationFrame(l(C(F(function m(_){let b=_-d,A=b/a;A>1&&(A=1);let k=e(A,b);n(Math.round(k*100)),(A<1||a===-1)&&c.alive&&requestAnimationFrame(m)},"d"),"d"),"thread"))}},"Timer")]),O("com.qcobjects.tools.essentials",[l(class extends $("InheritClass"){constructor(){super(...arguments),E(this,"_toggle",!1),E(this,"_inverse",!0),E(this,"_positive",null),E(this,"_negative",null),E(this,"_dispatched",null),E(this,"_args",{}),this._new_(...arguments)}changeToggle(){this._toggle=!this._toggle}_new_({positive:e,negative:n,args:a}){this._positive=e,this._negative=n,this._args=a}fire(){var e=this,n=new Promise(function(a,c){typeof e._positive=="function"&&typeof e._negative=="function"?(e._inverse?e._dispatched=e._toggle?e._negative.bind(e):e._positive.bind(e):e._dispatched=e._toggle?e._positive.bind(e):e._negative.bind(e),e._dispatched.call(e,e._args),a.call(n,e)):(y.debug("Toggle functions are not declared"),c.call(n,e))}).then(function(a){a.changeToggle()}).catch(function(a){y.debug(a.toString())});return n}},"Toggle")]),function(e){let n=l(function(_,b,A){var k=this;if(typeof _>"u"||_===null)throw Error(`mapper.${b}.${A} does not have a component instance or it is null.`);let U=e.global.get(A),ae=_.get(A),J=_.data[A],ge=typeof J<"u"?J:typeof ae<"u"?ae:U,fe="";return typeof ge<"u"&&typeof ge.map<"u"?fe=ge.map(function(ce){let Ge=[...Object.keys(ce)].map(xe=>` data-${xe}="${typeof ce[xe]<"u"&&ce[xe]!==null?ce[xe].toString():""}"`).join("");return`<quick-component name="${b}" ${Ge} ></quick-component>`}).join(""):y.debug(`${b}.${A} does not have a map property`),fe},"mapper");Fe.setProcessor(n);let a=l(function(_,b,A){var k=`
        /* CSS Document for Mobile Imports */
        @import url("${A}") (orientation:portrait);
        @import url("${A}") (max-width:460px);
        @import url("${A}") (aspect-ratio: 9/16);
        @import url("${A}") (aspect-ratio: 10/16);
        @import url("${A}") (aspect-ratio: 5/8);
        @import url("${A}") (aspect-ratio: 3/4);
        @import url("${A}") (aspect-ratio: 2/3);
        `,U=`
        @import url("${A}") (orientation:landscape) and (min-width:460px);
        @import url("${A}") (aspect-ratio: 16/9) and (min-width:460px);
        @import url("${A}") (aspect-ratio: 16/10) and (min-width:460px);
        @import url("${A}") (aspect-ratio: 8/5) and (min-width:460px);
        @import url("${A}") (aspect-ratio: 4/3) and (min-width:460px);
        @import url("${A}") (aspect-ratio: 3/2) and (min-width:460px);
        `,ae={landscape:U,portrait:k};return Object.hasOwnProperty.call(ae,b)?ae[b]:""},"layout");Fe.setProcessor(a);let c=l(function(){let _=[...arguments].slice(1).map(function(b){return{[b.split("=")[0]]:b.split("=")[1]}}).reduce(function(b,A){return Object.assign(b,A)});return`<component ${[...Object.keys(_)].map(function(b){return`${b}=${_[b]}`}).join(" ")}></component>`},"component");Fe.setProcessor(c);let d=l(function(){let _=[...arguments].slice(1).map(function(b){return{[b.split("=")[0]]:b.split("=")[1]}}).reduce(function(b,A){return Object.assign(b,A)});return`<quick-component ${[...Object.keys(_)].map(function(b){return`${b}=${_[b]}`}).join(" ")}></quick-component>`},"quick_component");Fe.setProcessor(d);let m=l(function(_,b,A){return e.range(b).map(function(k){return A.replace("{{index}}",k.toString())}).join("")},"repeat");Fe.setProcessor(m)}(i),Ye(function(){i.CONFIG.get("useSDK")||i.__start__()}),o(o),o(G),o(O),o(ee),o(Ne),o(W),o(Ye),o(V),o(N),o(ne),function(e){O("com.qcobjects",[l(C(F(class jt extends $("InheritClass"){constructor(){super(...arguments),E(this,"_GLOBAL",{}),E(this,"__definition",{}),E(this,"__classType","GlobalSettings"),this.set=jt.set.bind(this),this.get=jt.get.bind(this),this.__start__=jt.__start__.bind(this)}static set(a,c){this._GLOBAL[a]=c}static get(a,c){var d;return typeof this._GLOBAL[a]<"u"?d=this._GLOBAL[a]:typeof c<"u"&&(d=c),d}static __start__(){var a=l(function(){var d;return N&&(d=new Promise(function(m,_){"serviceWorker"in navigator&&typeof e.CONFIG.get("serviceWorkerURI")<"u"&&(e.CONFIG.set("serviceWorkerScope",e.CONFIG.get("serviceWorkerScope")?e.CONFIG.get("serviceWorkerScope"):"/"),navigator.serviceWorker.register(e.CONFIG.get("serviceWorkerURI"),{scope:e.CONFIG.get("serviceWorkerScope")}).then(function(b){y.debug("Service Worker Registered"),m.call(d,b)},function(b){y.debug("Error registering Service Worker"),_.call(d,b)}),navigator.serviceWorker.ready.then(function(b){y.debug("Service Worker Ready"),m.call(d,b)},function(b){y.debug("Error loading Service Worker"),_.call(d,b)}))})),d},"__load__serviceWorker"),c=l(function(){return new Promise((d,m)=>{if(N){y.debug("Starting to building components");try{e.componentsStack=document.buildComponents.call(document)}catch(_){throw Error(`Something went wrong trying to start components tree: ${_.message}`)}y.debug("Initializing the service worker"),a.call(e).catch(function(_){y.debug(`error loading the service worker ${_}`)})}d()})},"_buildComponents");y.debug("Starting to load the config settings..."),e.CONFIG.get("useConfigService",!1)?(y.debug("Loading settings using local configuration file..."),e.global.configService=Ne($("ConfigService")),e.global.configService.configLoaded=c,_e(e.global.configService)):(y.debug("Starting to load the components..."),c.call(this))}},"Ye"),"Ye"),"GlobalSettings")]),o($("GlobalSettings")),I=Ne($("GlobalSettings")),e=Be(I,e),Object.defineProperty(e,"PackagesNameList",{set(n){y.debug("PackagesNameList is readonly")},get(){var n=l(function(a){var c=[];for(var d in a)typeof a[d]<"u"&&typeof a[d]!="function"&&Object.hasOwnProperty.call(a[d],"length")&&a[d].length>0&&(c.push(d),c=c.concat(n(a[d])));return c},"_get_packages_names");return n(Ae)}}),Object.defineProperty(e,"PackagesList",{set(n){y.debug("PackagesList is readonly")},get(){return e.PackagesNameList.map(function(n){let a=O(n),c;return a&&(c={packageName:n,classesList:a.filter(function(d){return v(d)})}),c}).filter(function(n){return typeof n<"u"})}}),Object.defineProperty(e,"ClassesList",{set(n){y.debug("ClassesList is readonly")},get(){var n=[];return e.PackagesList.map(function(a){return n=n.concat(a.classesList.map(function(c){return{packageName:a.packageName,className:a.packageName+"."+c.__definition.__classType,classFactory:c}})),a}),n}}),Object.defineProperty(e,"ClassesNameList",{set(n){y.debug("ClassesNameList is readonly")},get(){return e.ClassesList.map(function(n){return n.className})}}),N&&(ee("GLOBAL",Me.global),o($("GLOBAL"))),o(I),e.CONFIG.get("useSDK")&&function(n){var a=n.CONFIG.get("remoteImportsPath"),c=!n.CONFIG.get("useLocalSDK");n.CONFIG.set("remoteImportsPath",n.CONFIG.get("remoteSDKPath"));var d=!1,m="QCObjects-SDK";if(N)d=!0;else{var _=t("qcobjects-sdk");_!==null?(m="qcobjects-sdk",d=!0):(m="node_modules/qcobjects-sdk/QCObjects-SDK",d=!0)}if(d)if(y.info("Importing SDK... "+m),S&&typeof be<"u"){let b=Lt()}else G(m,function(){c?y.debug("QCObjects-SDK.js loaded from remote location"):y.debug("QCObjects-SDK.js loaded from local"),n.CONFIG.set("remoteImportsPath",a)},c);else y.debug("SDK has not been imported as it is not available at the moment")}(e)}(i),N&&ye(function(){Ye(function(){(function(e){let n=0,a=!1,c=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),d=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth);function m(_){var b=Math.round(e.scrollY*100/c),A=Math.round(e.scrollX*100/d),k=new CustomEvent("scrollpercent",{detail:{percentX:A,percentY:b}});_.target.dispatchEvent(k);var U="defaultscroll",ae=[0,5,10,25,50,75,90,95,100];ae.filter(function(J){return J===b}).map(function(J){U="percentY"+b.toString();var ge=new CustomEvent(U,{detail:{percentX:A,percentY:b}});_.target.dispatchEvent(ge)})}F(m,"a"),C(m,"a"),l(m,"scrollDispatcher"),document.addEventListener("scroll",function(_){a||(requestAnimationFrame(function(){m(_),a=!1}),a=!0)})})(i)})},null),N||(typeof i.global<"u"&&Object.hasOwnProperty.call(i.global,"_fireAsyncLoad")&&i.global._fireAsyncLoad.call(this),typeof i.global<"u"&&Object.hasOwnProperty.call(i.global,"onload")&&i.global.onload.call(this)),function(e){var n=l(function(){Object.freeze(Object.prototype),Object.freeze(Object)},"__freeze__");e&&i.CONFIG.get("secureObjects",!1)?Ye(function(){n()}):i.CONFIG.get("secureObjects",!1)&&n()}(N)}},"w"),"w"),"__qcobjects__").call(null,typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{})}),te=we((T,g)=>{var p=tt();g.exports=p}),gt=we((T,g)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var p=te();(function(i){"use strict";class I extends p.InheritClass{constructor({messages:N=[]}){super({messages:N}),p.CONFIG.get("use_i18n",!1)&&(p.CONFIG.set("lang","en"),i.get("i18n")?i.set("i18n",{messages:i.get("i18n").messages.concat(N)}):i.set("i18n",{messages:N}))}_load_i18n_packages_(){return p.CONFIG.get("i18n_languages",[]).map(N=>{(0,p.Import)(`org.quickcorp.i18n_messages.${N}`)})}}F(I,"r"),C(I,"r"),l(I,"i18n_messages"),(0,p.Package)("org.qcobjects.i18n_messages",[I]),new I({})._load_i18n_packages_()})(typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{})}),qe=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te();(function(){"use strict";(0,g.Package)("org.qcobjects.models",[l(class extends g.VO{},"Contact")])})()}),Ie=we((T,g)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ModalMoveUp=T.ModalMoveDown=T.ModalFade=T.WipeDown=T.WipeUp=T.WipeRight=T.WipeLeft=T.Resize=T.Radius=T.Rotate=T.RotateZ=T.RotateY=T.RotateX=T.MoveYInFromTop=T.MoveYInFromBottom=T.MoveXInFromLeft=T.MoveXInFromRight=T.Move=T.Fade=void 0;var p=te(),i=typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{};(function(){"use strict";class y extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=K+H*me/100;p.logger.debug("alpha: "+ee.toString()),Y.style.opacity=ee.toString()}})}}F(y,"w"),C(y,"w"),l(y,"Fade");class ve extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he,me,H){let ee=me-K,$=H-he;Y.style.transform="translate("+K+"px,"+he+"px)",this.animate({duration:this.duration,timing(Qe){return Qe},draw(Qe){p.logger.debug("animation progress: "+Qe.toString());let Ne=he+Qe*$/100,o=K+Qe*ee/100;p.logger.debug("x: "+o.toString()+" y:"+Ne.toString()),Y.style.transform="translate("+o+"px,"+Ne+"px)"}})}}F(ve,"r"),C(ve,"r"),l(ve,"Move"),(0,p.Package)("org.qcobjects.effects.base",[y,ve]);class B extends ve{constructor(){super(...arguments),this.duration=1e3}apply(Y){super.apply.call(this,Y,Y.width,0,0,0)}}F(B,"f"),C(B,"f"),l(B,"MoveXInFromRight");class Z extends ve{constructor(){super(...arguments),this.duration=1e3}apply(Y){super.apply.call(this,Y,-Y.width,0,0,0)}}F(Z,"p"),C(Z,"p"),l(Z,"MoveXInFromLeft");class oe extends ve{constructor(){super(...arguments),this.duration=1e3}apply(Y){super.apply.call(this,Y,0,Y.height,0,0)}}F(oe,"u"),C(oe,"u"),l(oe,"MoveYInFromBottom");class Je extends ve{constructor(){super(...arguments),this.duration=1e3}apply(Y){super.apply.call(this,Y,0,-Y.height,0,0)}}F(Je,"v"),C(Je,"v"),l(Je,"MoveYInFromTop");class nt extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=Math.round(K+H*me/100);p.logger.debug("angle: "+ee.toString()),Y.style.transform="rotate3d(1,0,0,"+ee.toString()+"deg)"}})}}F(nt,"g"),C(nt,"g"),l(nt,"RotateX");class ft extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=Math.round(K+H*me/100);p.logger.debug("angle: "+ee.toString()),Y.style.transform="rotate3d(0,1,0,"+ee.toString()+"deg)"}})}}F(ft,"b"),C(ft,"b"),l(ft,"RotateY");class Ke extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=Math.round(K+H*me/100);p.logger.debug("angle: "+ee.toString()),Y.style.transform="rotate3d(0,0,1,"+ee.toString()+"deg)"}})}}F(Ke,"O"),C(Ke,"O"),l(Ke,"RotateZ");class it extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=Math.round(K+H*me/100);p.logger.debug("angle: "+ee.toString()),Y.style.transform="rotate3d(1,1,1,"+ee.toString()+"deg)"}})}}F(it,"G"),C(it,"G"),l(it,"Rotate");class ct extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=K+H*me/100;p.logger.debug("radius: "+ee.toString()),Y.style.borderRadius=ee.toString()+"px"}})}}F(ct,"P"),C(ct,"P"),l(ct,"Radius");class rt extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=K+H*me/100;p.logger.debug("resize: "+ee.toString()),Y.style.transformOrigin="center",Y.style.transform="scale("+ee+","+ee+")"}})}}F(rt,"y"),C(rt,"y"),l(rt,"Resize");class Me extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=K+H*me/100;p.logger.debug("wipe: "+ee.toString()),Y.style.transformOrigin="right",Y.style.transform="scaleX("+ee+")"}})}}F(Me,"T"),C(Me,"T"),l(Me,"WipeLeft");class Ae extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=K+H*me/100;p.logger.debug("wipe: "+ee.toString()),Y.style.transformOrigin="left",Y.style.transform="scaleX("+ee+")"}})}}F(Ae,"L"),C(Ae,"L"),l(Ae,"WipeRight");class ot extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=K+H*me/100;p.logger.debug("wipe: "+ee.toString()),Y.style.transformOrigin="bottom",Y.style.transform="scaleY("+ee+")"}})}}F(ot,"D"),C(ot,"D"),l(ot,"WipeUp");class Ue extends p.Effect{constructor(){super(...arguments),this.duration=1e3}apply(Y,K,he){let me=he-K;this.animate({duration:this.duration,timing(H){return H},draw(H){p.logger.debug("animation progress: "+H.toString());let ee=K+H*me/100;p.logger.debug("wipe: "+ee.toString()),Y.style.transformOrigin="top",Y.style.transform="scaleY("+ee+")"}})}}F(Ue,"ae"),C(Ue,"ae"),l(Ue,"WipeDown"),(0,p.Package)("org.qcobjects.effects.extended",[B,Z,oe,Je,nt,ft,Ke,it,ct,rt,Me,Ae,ot,Ue]);class Xe extends y{constructor(){super(...arguments),this.duration=500}}F(Xe,"le"),C(Xe,"le"),l(Xe,"ModalFade");class We extends ve{constructor(){super(...arguments),this.duration=300}}F(We,"he"),C(We,"he"),l(We,"ModalMoveDown");class Be extends ve{constructor(){super(...arguments),this.duration=800}}F(Be,"be"),C(Be,"be"),l(Be,"ModalMoveUp"),(0,p.Package)("org.qcobjects.modal.effects",[Xe,We,Be])})();var I=i.Fade;T.Fade=I;var P=i.Fade;T.Move=P;var N=i.MoveXInFromRight;T.MoveXInFromRight=N;var S=i.MoveXInFromLeft;T.MoveXInFromLeft=S;var x=i.MoveYInFromBottom;T.MoveYInFromBottom=x;var j=i.MoveYInFromTop;T.MoveYInFromTop=j;var L=i.RotateX;T.RotateX=L;var ne=i.RotateY;T.RotateY=ne;var de=i.RotateZ;T.RotateZ=de;var z=i.Rotate;T.Rotate=z;var Ce=i.Radius;T.Radius=Ce;var se=i.Resize;T.Resize=se;var R=i.WipeLeft;T.WipeLeft=R;var Re=i.WipeRight;T.WipeRight=Re;var ue=i.WipeUp;T.WipeUp=ue;var X=i.WipeDown;T.WipeDown=X;var ye=i.ModalFade;T.ModalFade=ye;var De=i.ModalMoveDown;T.ModalMoveDown=De;var He=i.ModalMoveUp;T.ModalMoveUp=He}),bt=we((T,g)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SwaggerUIComponent=T.ModalEnclosureComponent=T.ModalComponent=T.EmailField=T.TextField=T.InputField=T.ButtonField=T.ShadowedComponent=T.FormField=void 0;var p=te(),i=Ie(),I=typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{};(function(Ce){class se extends p.Component{constructor(B){B.name=typeof B.name<"u"?B.name:"form-field",super(B),this.cached=!1,this.reload=!0}createBindingEvents(){let B;typeof this.fieldType>"u"||this.fieldType==null?B=this.body.subelements("*[data-field]"):B=this.body.subelements(this.fieldType+"[data-field]");for(let Z=0;Z<B.length;Z++){let oe=B[Z];oe.addEventListener("change",()=>{p.logger.debug("Executing change event binding"),this.executeBindings()}),oe.addEventListener("blur",()=>{p.logger.debug("Executing change event binding"),this.executeBindings()}),oe.addEventListener("focus",()=>{p.logger.debug("Executing change event binding"),this.executeBindings()}),oe.addEventListener("keydown",()=>{p.logger.debug("Executing keydown event binding"),this.executeBindings()})}}executeBinding(B){let Z=B.getAttribute("data-field");p.logger.debug("Binding "+Z+" for "+this.name),this.data[Z]=B.value}executeBindings(){let B;typeof this.fieldType>"u"||this.fieldType==null?B=this.body.subelements("*[data-field]"):B=this.body.subelements(this.fieldType+"[data-field]");for(let Z=0;Z<B.length;Z++){let oe=B[Z],Je=oe.getAttribute("data-field");p.logger.debug("Binding "+Je+" for "+this.name),this.data[Je]=oe.value}}done(B){let Z=super.done(B);return this.executeBindings(),this.createBindingEvents(),p.logger.debug("Field loaded: "+this.fieldType+"[name="+this.name+"]"),Z}}F(se,"r"),C(se,"r"),l(se,"FormField"),(0,p.Package)("org.qcobjects.base.components",[se]);class R extends p.Component{constructor(B){B.body=(0,p._DOMCreateElement)("div"),super(B),this.container=null,this.shadowed=!0,this.cached=!1,this.controller=null,this.view=null,this.data={}}}F(R,"f"),C(R,"f"),l(R,"ShadowedComponent");class Re extends se{constructor(B){B.fieldType="button",super(B)}}F(Re,"p"),C(Re,"p"),l(Re,"ButtonField");class ue extends se{constructor(B){B.fieldType="input",super(B)}}F(ue,"u"),C(ue,"u"),l(ue,"InputField");class X extends se{constructor(B){B.fieldType="textarea",super(B)}}F(X,"v"),C(X,"v"),l(X,"TextField");class ye extends se{constructor(B){B.fieldType="input",super(B)}}F(ye,"g"),C(ye,"g"),l(ye,"EmailField");class De extends p.Component{constructor(B){B.body=(0,p._DOMCreateElement)("div"),super(B),this.name="modalenclosure",this.tplsource="inline",this.cached=!1,this.basePath=p.CONFIG.get("modalBasePath",p.CONFIG.get("remoteSDKPath","")),this.template=`
<!-- The Modal -->
<style>
@import url('https://sdk.qcobjects.dev/css/modal.css');
</style>
<div id="modalInstance_{{modalId}}" class="modal">

<!-- Modal content -->
<div class="modal-content">
<span class="close">&times;</span>
{{content}}
</div>

</div>
`,this.data={}}}F(De,"b"),C(De,"b"),l(De,"ModalEnclosureComponent");class He extends p.Component{constructor(B){B.basePath=p.CONFIG.get("modalBasePath",p.CONFIG.get("remoteSDKPath","")),super(B),this.name="modal",this.cached=!1,this.modalEnclosureComponentClass="ModalEnclosureComponent",this.controller=null,this.view=null,this.tplsource="none",this.closeOnClickOutside=!1,this.data={content:"",modalId:0},this.submodal=null,this.data.modalId=this.__instanceID;let Z=(0,p.New)((0,p.ClassFactory)(this.modalEnclosureComponentClass),{name:this.name,basePath:this.basePath,data:this.data});this.subcomponents.push(Z),this.submodal=Z,Z.tplsource==="none"?this.body.innerHTML=Z.parsedAssignmentText:this.body.append(Z.body)}modal(){let B=this.data.modalId;(0,p.Tag)("#modalInstance_"+B+".modal").map(Z=>(Z.style.display="block",new i.ModalFade({}).apply(Z,0,1))),(0,p.Tag)("#modalInstance_"+B+".modal .modal-content").map(Z=>new i.ModalMoveDown({}).apply(Z,0,-document.body.clientHeight,0,0)),(0,p.Tag)("#modalInstance_"+B+".modal .modal-content .close").map(Z=>Z.addEventListener("click",()=>{this.close()},!1)),this.closeOnClickOutside&&window.addEventListener("click",()=>{this.close()},!1)}close(){let B=this.data.modalId;(0,p.Tag)("#modalInstance_"+B+".modal").map(Z=>(Z.style.display="block",new i.ModalFade({}).apply(Z,1,0))),(0,p.Tag)("#modalInstance_"+B+".modal .modal-content").map(function(Z){return new i.ModalMoveUp({}).apply(Z,0,0,0,-document.body.clientHeight)}),setTimeout(function(){(0,p.Tag)("#modalInstance_"+B+".modal").map(Z=>(Z.style.display="none",!0))},900)}rebuild(){let B=super.rebuild();return this.templateURI=(0,p.ComponentURI)({COMPONENTS_BASE_PATH:p.CONFIG.get("componentsBasePath",""),COMPONENT_NAME:"modal",TPLEXTENSION:p.CONFIG.get("tplextension",""),TPL_SOURCE:"default"}),B}}F(He,"O"),C(He,"O"),l(He,"ModalComponent");class y extends p.Component{constructor(){super(...arguments),this.cached=!1,this.basePath=p.CONFIG.get("remoteSDKPath",""),this.tplextension="tpl.html",this.name="swagger-ui"}}F(y,"G"),C(y,"G"),l(y,"SwaggerUIComponent"),(0,p.Package)("org.qcobjects.form.components",[R,Re,ue,X,ye,De,He,y]),Ce.FormField=se,Ce.ShadowedComponent=R,Ce.ButtonField=Re,Ce.InputField=ue,Ce.TextField=X,Ce.EmailField=ye,Ce.ModalEnclosureComponent=De,Ce.ModalComponent=He,Ce.SwaggerUIComponent=y})(I);var P=I.FormField;T.FormField=P;var N=I.ShadowedComponent;T.ShadowedComponent=N;var S=I.ButtonField;T.ButtonField=S;var x=I.InputField;T.InputField=x;var j=I.TextField;T.TextField=j;var L=I.EmailField;T.EmailField=L;var ne=I.ModalEnclosureComponent;T.ModalEnclosureComponent=ne;var de=I.ModalComponent;T.ModalComponent=de;var z=I.SwaggerUIComponent;T.SwaggerUIComponent=z}),st=we((T,g)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.GridItemComponent=T.GridComponent=void 0;var p=te(),i=typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{};(function(N){"use strict";class S extends p.Component{constructor(){super(...arguments),this.name="grid-item",this.shadowed=!0,this.tplsource="inline",this.template=`
<img src="{{image}}" />
<p>{{description}}</p>
`,this.cached=!1}}F(S,"r"),C(S,"r"),l(S,"GridItemComponent");class x extends p.Component{constructor(L){super(L),this.name="grid",this.cached=!1,this.view=null,this.shadowed=!0,this.rows=3,this.cols=3,this.templateURI="",this.data={},this.tplsource="inline",this.template="<p>Loading...</p>",this.body.setAttribute("controllerClass","DataGridController");let ne=this.body.getAttribute("subcomponentClass")!==null?this.body.getAttribute("subcomponentClass"):"GridItemComponent";this.body.setAttribute("subcomponentClass",ne)}}F(x,"f"),C(x,"f"),l(x,"GridComponent"),(0,p.Package)("org.qcobjects.components.grid",[x,S]),N.GridComponent=x,N.GridItemComponent=S})(i);var I=i.GridComponent;T.GridComponent=I;var P=i.GridItemComponent;T.GridItemComponent=P}),Ze=we((T,g)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ListItemComponent=T.ListComponent=void 0;var p=te(),i=typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{};(function(N){"use strict";class S extends p.Component{constructor(L){L.name="list-item",super(L),this.shadowed=!1,this.tplsource="inline",this.template='<a href="{{value}}">{{label}}</a>',this.cached=!1}}F(S,"r"),C(S,"r"),l(S,"ListItemComponent");class x extends p.Component{constructor(L){L.name="list",super(L),this.shadowed=!0,this.tplsource="inline",this.template="<p>Loading...</p>",this.body.setAttribute("controllerClass","ListController"),this.body.setAttribute("subcomponentClass","ListItemComponent")}}F(x,"f"),C(x,"f"),l(x,"ListComponent"),(0,p.Package)("org.qcobjects.components.list",[S,x]),N.ListComponent=x,N.ListItemComponent=S})(i);var I=i.ListComponent;T.ListComponent=I;var P=i.ListItemComponent;T.ListItemComponent=P}),St=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te();(function(){"use strict";(0,g.Package)("org.qcobjects.components.slider",[l(class extends g.Component{constructor(p){super(p),this.tplsource="inline",this.template="<p>Loading...</p>",this.name="slidelist",this.body.setAttribute("controllerClass","DataGridController");let i=this.body.getAttribute("subcomponentClass")!==null?this.body.getAttribute("subcomponentClass"):"GridItemComponent";this.body.setAttribute("subcomponentClass",i)}},"SlideListComponent"),l(class extends g.Component{constructor(p){super(p),this.effectClass="Fade",this.name="slider_item",this.data.slideNumber=this.data.__dataIndex+1,this.template=`
      <div class="qcoSlides" style="display:none">
        <div class="qco-slider__numbertext">{{slideNumber}} / {{__dataLength}}</div>
        <img src="{{image}}" alt="{{title}}"/>
        <div class="qco-slider__text">
          <p>{{label}} <a href="{{link}}">{{category}}</a></p>
        </div>
      </div>
      `,this.tplsource="inline"}},"SlideItemComponent"),l(class extends g.Component{constructor(p){super(p),this.name="slider",this.template=`
      <style>
      /* Slideshow container */
  
      :host a:hover,
      :host a:active,
      :host a:visited {
        color: #ffffff;
      }
  
       {
        color: #ffffff;
      }
  
      :host .prev {left:0;}
      .qco-slider__container {
        max-width: 100%;
        position: relative;
        margin: auto;
        height: 300px;
      }
      :host .qco-slider__container .qcoSlides img {
        object-fit: cover;
        width: 100%;
        height: 300px;
      }
  
      /* Next & previous buttons */
      :host .prev,
      :host .next {
        cursor: pointer;
        position: absolute;
        top: 50%;
        width: auto;
        margin-top: -22px;
        padding: 16px;
        color: white;
        font-weight: bold;
        font-size: 18px;
        transition: 0.6s ease;
        border-radius: 0 3px 3px 0;
        background-color: rgba(1, 1, 1, 0.1);
      }
  
      /* Position the "next button" to the right */
      :host .next {
        right: 0;
        border-radius: 3px 0 0 3px;
      }
  
      /* On hover, add a black background color with a little bit see-through */
      :host .prev:hover,
      :host .next:hover {
        background-color: rgba(0, 0, 0, 0.8);
      }
  
      /* Caption text */
      :host .qco-slider__text {
        color: #f2f2f2;
        font-size: 15px;
  /*      padding: 8px 12px;*/
        position: absolute;
        bottom: 8px;
        width: 100%;
        text-align: center;
        text-shadow: -1px 1px 3px #111111;
        background-color: rgba(1,1,1,0.7);
      }
  
      /* Number text (1/3 etc) */
      :host .qco-slider__numbertext {
        color: #f2f2f2;
        text-shadow: 0px 2px 3px #111111;
        font-size: 12px;
        padding: 8px 12px;
        position: absolute;
        top: 0;
        padding-top: 0;
        margin-top: 10px;
      }
  
      /* The dots/bullets/indicators */
      :host .qcoSlider__dots {
        text-align: center;
        margin: 0 auto;
        padding: 0;
      }
      :host .qcoSlider__dots--dot {
        cursor: pointer;
        height: 10px;
        width: 10px;
        margin: 0 2px;
        background-color: #bbb;
        border-radius: 50%;
        display: inline-block;
        transition: background-color 0.6s ease;
      }
  
      :host .active,
      :host .qcoSlider__dots--dot:hover {
        background-color: #717171;
      }
  
      :host .qco-slider__container .qcoSlides img {
        border-radius: 30px 30px 0px 0px;
      }
  
      </style>
  
      <div class="qco-slider__container">
        <component name="slidelist" componentClass="SlideListComponent" subcomponentClass="SlideItemComponent" serviceClass="{{SERVICE_CLASS}}" ></component>
  
        <a class="prev" onclick="global.get('{{sliderHandler}}').plusSlidesAndStop(-1)">&#10094;</a>
        <a class="next" onclick="global.get('{{sliderHandler}}').plusSlidesAndStop(1)">&#10095;</a>
      </div>
      <br>
  
      <div class="qcoSlider__dots" style="text-align:center">
      </div>
  
      `,this.tplsource="inline",this.shadowed=!0,this.data.SERVICE_CLASS=this.body.getAttribute("serviceClass"),this.data.sliderHandler="slider_"+this.__instanceID.toString(),this.body.setAttribute("controllerClass","SliderController")}},"SliderComponent")])})()}),ut=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te(),p=Ie();(function(){"use strict";class i extends g.Component{constructor(P){P.name="notification",P.body=(0,g._DOMCreateElement)("div"),super(P),this.cached=!1,this.tplsource="inline",this.shadowed=!1,this.template=`
    <style>
    div.notification_background {
      display: block; /* Hidden by default */
      position: fixed; /* Stay in place */
      z-index: 1; /* Sit on top */
      padding-top: 100px; /* Location of the box */
      left: 0;
      top: 0;
      bottom:0;
      right:0;
      width: 100%; /* Full width */
      height: 100%; /* Full height */
      overflow: auto; /* Enable scroll if needed */
      background-color: rgb(0,0,0); /* Fallback color */
      background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
      border: none !important;
    }
    div.notification {
      border-radius: 12px !important;
      margin-bottom: 15px;
      padding: 4px 12px;
    }
    .notification.danger {
      background-color: #ffdddd;
      border-left: 6px solid #f44336;
    }
    .notification.success {
      background-color: #ddffdd;
      border-left: 6px solid #4CAF50;
    }
    .notification.info {
      background-color: #e7f3fe;
      border-left: 6px solid #2196F3;
    }
    .notification.warning {
      background-color: #ffffcc;
      border-left: 6px solid #ffeb3b;
    }
    </style>
    <div class="notification_background">
    <div class="notification {{kind}}">
      <p><strong>{{title}}</strong> {{message}}</p>
    </div>
    </div>
    `,this.kinds=["danger","success","info","warning"]}display(P){let N=l(function(S){S.style.display="block";let x=(0,g.New)(p.Move,{duration:900,apply(L){(0,g._super_)("Fade","apply").call(this,L,0,1),(0,g._super_)("Move","apply").call(this,L,0,-document.body.clientHeight,0,0)}}),j=(0,g.New)(p.Move,{duration:650,apply(L){(0,g._super_)("Fade","apply").call(this,L,1,0),(0,g._super_)("Move","apply").call(this,L,0,0,0,-document.body.clientHeight)}});x.apply(S),setTimeout(function(){j.apply(S)},2e3)},"_display_");P.subelements("div.notification_background").map(S=>(0,g.New)(p.Fade,{duration:500}).apply(S,0,1)),P.subelements("div.notification").map(S=>N(S)),setTimeout(function(){P.remove()},2200)}static success(P){let N=(0,g.New)(i,{name:"notification",shadowed:!0,body:(0,g._DOMCreateElement)("div"),data:{kind:"success",title:"Success!",message:`${P}...`}});document.body.append(N);let S=N.shadowed?N.shadowRoot.host:N.body;N.display(S)}static danger(P){let N=(0,g.New)(i,{name:"notification",shadowed:!0,body:(0,g._DOMCreateElement)("div"),data:{kind:"danger",title:"Danger!",message:`${P}...`}});document.body.append(N);let S=N.shadowed?N.shadowRoot.host:N.body;N.display(S)}static info(P){let N=(0,g.New)(i,{name:"notification",shadowed:!0,body:(0,g._DOMCreateElement)("div"),data:{kind:"info",title:"Info!",message:`${P}...`}});document.body.append(N);let S=N.shadowed?N.shadowRoot.host:N.body;N.display(S)}static warning(P){let N=(0,g.New)(i,{name:"notification",shadowed:!0,body:(0,g._DOMCreateElement)("div"),data:{kind:"warning",title:"Warning!",message:`${P}...`}});document.body.append(N);let S=N.shadowed?N.shadowRoot.host:N.body;N.display(S)}}F(i,"w"),C(i,"w"),l(i,"NotificationComponent"),(0,g.Package)("org.quickcorp.components.notifications",[i])})()}),Tt=we((T,g)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CubeSplashScreenComponent=T.VideoSplashScreenComponent=T.SplashScreenComponent=void 0;var p=te(),i=Ie(),I=typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{};l(function(x){"use strict";class j extends p.Component{constructor(z){z.name=typeof z.name>"u"?"splashscreen":z.name;let Ce=typeof window<"u"&&typeof window.self<"u"&&window===window.self,se=location.hash===""&&location.pathname==="/"&&location.search===""||p.CONFIG.get("routingWay","pathname")==="hash"&&p.CONFIG.get("start_url","/")===location.hash||p.CONFIG.get("routingWay","pathname")==="pathname"&&p.CONFIG.get("start_url","/")===location.pathname||p.CONFIG.get("routingWay","pathname")==="search"&&p.CONFIG.get("start_url","/")===location.search,R=Ce&&se;if(R?(z.basePath=p.CONFIG.get("splashscreenBasePath",p.CONFIG.get("remoteSDKPath","")),typeof z.data>"u"&&(z.data={}),z.data.basePath=z.basePath):typeof z<"u"&&typeof z.body<"u"&&(z.body.style.display="none"),super(z),this.cached=!1,this.shadowed=!0,this._bgcolor="",this._enabled_=R,this._enabled_){let Re=this.body.getAttribute("duration");Re===null?Re=1e3:Re=parseInt(Re.toString()),this._bgcolor=this.body.style.backgroundColor;let ue=l(()=>{setTimeout(()=>{if(!ue.executed){let X=this.shadowed?this.shadowRoot?.host:this.body;typeof x.componentsStack<"u"&&x.componentsStack.filter(ye=>ye.body.hasAttribute("splashscreen")).map(ye=>{p.logger.debug(`Splash Screen of Main Component: ${ye.name}`),ye.splashScreenComponent=this;let De=l(()=>{if(!De.executed){let He=ye.splashScreenComponent,y=ye.shadowed?ye.shadowRoot?.host:ye.body;ye._mainPosition=y.style.position,typeof y<"u"&&(y.style.position="fixed"),ye._mainOpacity=y.style.opacity,X.style.width="100%",X.style.height="100%",document.body.style.backgroundColor="#111111",y.style.opacity="0",setTimeout(function(){typeof X<"u"&&(document.body.style.backgroundColor=He?._bgcolor,X.subelements("#slot-logo").map(ve=>(ve.style.display="block",ve.style.transformOrigin="center",new i.Resize().apply(ve,1,0))),new i.Fade().apply(X,1,0))},Re-1e3),setTimeout(function(){new i.Fade().apply(y,0,1),y.style.position=ye._mainPosition,document.body.style.backgroundColor=He._bgcolor,X.parentElement!==null&&X.parentElement.remove()},Re)}De.executed=!0},"SplashScreenHandler");return ye.addComponentHelper(De.bind(ye))}),ue.executed=!0}})},"_helper_");ue.executed=!1,this.addComponentHelper(ue.bind(z))}}}F(j,"f"),C(j,"f"),l(j,"SplashScreenComponent"),(0,p.Package)("org.qcobjects.components.base",[j]);class L extends j{constructor(z){z.name="videosplashscreen",super(z),this.cached=!1,this.shadowed=!0,this.tplsource="inline",this.template=`
  <style>
  :host * {
    box-sizing: border-box;
  }

  :host {
    zoom: 1.0;
    width: device-width;
    margin: 0;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    position: absolute;
    padding: 0;
    min-width: 100vw;
    min-height: 100vh;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    background-color: black;
  }
  #slot-logo::slotted(img) {
      vertical-align: middle;
      display: block;
      width: 40vw;
      left: 0;
      margin: 0;
      padding: 0;
      z-index: 9999999999;
      transform-origin: center;
      transform-style: preserve-3d;
      filter: blur(0em);
      transition: filter 0.5s;
      max-width: 300px;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      animation: fadeIn 5s;
      -webkit-animation: fadeIn 5s;
      -moz-animation: fadeIn 5s;
      -o-animation: fadeIn 5s;
      -ms-animation: fadeIn 5s;        
  }

  :host * {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
    /* prevent callout to copy image, etc when tap to hold */
    -webkit-text-size-adjust: none;
    /* prevent webkit from resizing text to fit */
    -webkit-user-select: none;
    /* prevent copy paste, to allow, change 'none' to 'text' */
  }

  /* FOCUS */
  :host summary:focus,
  :host a:focus,
  :host button:focus {
    outline: none;
  }

  .splashscreen,
  .fullscreen-bg {
    padding: 0;
    margin: 0;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    padding: 0;
    background-attachment: fixed;
    background-position: center;
    background-clip: content-box;
    background-size: cover;
    position: absolute;
    min-width: 100vw;
    min-height: 100vh;
    width: 100vw;
    height: 100vh;
    z-index: 0;
    overflow: hidden;
  }

  .splashscreen .splashcontent {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    margin: 0 auto;
    width: 100vw;
    height: 100vh;
    padding: 0;
    overflow: hidden;
    z-index: 1;
  }

  .splashscreen .splashcontent p {
    color: white;
  }

  video.fullscreen-bg__video {
    top: 0;
    left: 0;
    bottom: 0;
    right: 0;
    margin: 0;
    padding: 0;
    position: absolute;
    min-width: 100vw;
    min-height: 100vh;
    overflow: hidden;
    z-index: 0;
    object-fit: cover;
    filter: brightness(0.3);
  }
    .splashscreen,
    .fullscreen-bg {
      background-image: url('{{background}}');
    }

    @keyframes fadeIn {
      0% {opacity:0;}
      100% {opacity:1;}
    }
    
    @-moz-keyframes fadeIn {
      0% {opacity:0;}
      100% {opacity:1;}
    }
    
    @-webkit-keyframes fadeIn {
      0% {opacity:0;}
      100% {opacity:1;}
    }
    
    @-o-keyframes fadeIn {
      0% {opacity:0;}
      100% {opacity:1;}
    }
    
    @-ms-keyframes fadeIn {
      0% {opacity:0;}
      100% {opacity:1;}
    }      

  </style>
  <div class="splashscreen">
    <div class="fullscreen-bg splashcontent">
      <video loop muted autoplay playsinline name="media" poster="{{background}}" class="fullscreen-bg__video" data-setup="{}" height="100%">
        <source src="{{video_mp4}}" type="video/mp4">
        <source src="{{video_ogg}}" type="video/ogg">
        <source src="{{video_webm}}" type="video/webm">
      </video>
      <slot id="slot-logo" name="logo"></slot>
    </div>
  </div>

  `}}F(L,"p"),C(L,"p"),l(L,"VideoSplashScreenComponent");class ne extends j{constructor(z){z.name="cubesplashscreen",super(z),this.cached=!1,this.shadowed=!0,this.tplsource="inline",this.template=`
  <style>
  @keyframes spin {
    0% {
      transform: translateZ(-100px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);
    }

    16% {
      transform: translateZ(-100px) rotateX(180deg) rotateY(180deg) rotateZ(0deg);
    }

    33% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(90deg) rotateZ(180deg);
    }

    50% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);
    }

    66% {
      transform: translateZ(-100px) rotateX(180deg) rotateY(360deg) rotateZ(270deg);
    }

    83% {
      transform: translateZ(-100px) rotateX(270deg) rotateY(180deg) rotateZ(180deg);
    }

    100% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);
    }
  }

  @keyframes spin-duplicate {
    0% {
      transform: translateZ(-100px) rotateX(0deg) rotateY(0deg) rotateZ(0deg);
    }

    16% {
      transform: translateZ(-100px) rotateX(180deg) rotateY(180deg) rotateZ(0deg);
    }

    33% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(90deg) rotateZ(180deg);
    }

    50% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);
    }

    66% {
      transform: translateZ(-100px) rotateX(180deg) rotateY(360deg) rotateZ(270deg);
    }

    83% {
      transform: translateZ(-100px) rotateX(270deg) rotateY(180deg) rotateZ(180deg);
    }

    100% {
      transform: translateZ(-100px) rotateX(360deg) rotateY(360deg) rotateZ(360deg);
    }
  }

  @keyframes roll {
    0% {
      transform: translate3d(-200px, -50px, -400px)
    }

    12% {
      transform: translate3d(0px, 0, -100px)
    }

    25% {
      transform: translate3d(200px, -50px, -400px)
    }

    37% {
      transform: translate3d(0px, -100px, -800px)
    }

    50% {
      transform: translate3d(-200px, -50px, -400px)
    }

    62% {
      transform: translate3d(0px, 0, -100px)
    }

    75% {
      transform: translate3d(200px, -50px, -400px)
    }

    87% {
      transform: translate3d(0px, -100px, -800px)
    }

    100% {
      transform: translate3d(-200px, -50px, -400px)
    }
  }

  #wrapper {
    position: relative;
    width: 200px;
    padding-top: 100px;
    margin: 0 auto;
    perspective: 1200px;
  }

  #platform {
    margin-top: 100px;
  }

  #dice span {
    position: absolute;
    margin: 100px 0 0 100px;
    display: block;
    font-size: 2.5em;
    padding: 10px;
  }

  #dice {
    position: absolute;
    width: 200px;
    height: 200px;
    transform-style: preserve-3d;
    animation: spin 50s infinite linear;
  }

  .side {
    position: absolute;
    width: 200px;
    height: 200px;
    background: none;
    box-shadow: inset 0 0 40px #fff0;
    border-radius: 40px;
  }

  #dice .cover, #dice .inner {
    background: #e0e0e0;
    box-shadow: none;
  }

  #dice .cover {
    border-radius: 0;
    transform-origin: center;
    transform: translateZ(0px);
  }

  #dice .cover.x {
    transform-origin: center;
    transform: rotateY(90deg);
  }

  #dice .cover.z {
    transform-origin: center;
    transform: rotateX(90deg);
  }

  #dice .front {
    transform-origin: center;
    transform: translateZ(100px);
  }

  #dice .front.inner {
    transform-origin: center;
    transform: translateZ(98px);
  }

  #dice .back {
    transform-origin: center;
    transform: rotateX(-180deg) translateZ(100px);
  }

  #dice .back.inner {
    transform-origin: center;
    transform: rotateX(-180deg) translateZ(98px);
  }

  #dice .right {
    transform-origin: center;
    transform: rotateY(90deg) translateZ(100px);
  }

  #dice .right.inner {
    transform-origin: center;
    transform: rotateY(90deg) translateZ(98px);
  }

  #dice .left {
    transform-origin: center;
    transform: rotateY(-90deg) translateZ(100px);
  }

  #dice .left.inner {
    transform-origin: center;
    transform: rotateY(-90deg) translateZ(98px);
  }

  #dice .top {
    transform-origin: center;
    transform: rotateX(90deg) translateZ(100px);
  }

  #dice .top.inner {
    transform-origin: center;
    transform: rotateX(90deg) translateZ(98px);
  }

  #dice .bottom {
    transform-origin: center;
    transform: rotateX(-90deg) translateZ(100px);
  }

  #dice .bottom.inner {
    transform-origin: center;
    transform: rotateX(-90deg) translateZ(98px);
  }

  .dot {
    position: absolute;
    width: 46px;
    height: 46px;
    border-radius: 23px;
    background: #444;
    box-shadow: inset 5px 0 10px #000;
  }

  .dot.center {
    margin: 77px 0 0 77px;
  }

  .dot.dtop {
    margin-top: 20px;
  }

  .dot.dleft {
    margin-left: 134px;
  }

  .dot.dright {
    margin-left: 20px;
  }

  .dot.dbottom {
    margin-top: 134px;
  }

  .dot.center.dleft {
    margin: 77px 0 0 20px;
  }

  .dot.center.dright {
    margin: 77px 0 0 134px;
  }

  #background {
    top: 0px;
    left: 0px;
    position: fixed;
    z-index: -1;
    width: 100%;
    height: 100%;
    background: var(--root-background, transparent);
    background-size: cover;
    background-origin: border-box;
  }

  #dice .side.front,
  #dice .side.top,
  #dice .side.right,
  #dice .side.left,
  #dice .side.bottom,
  #dice .side.back {
    background-image: var(--background-3d-cube-image, "none");
    background-size: cover;
    background-origin: border-box;
  }


  :root, :host {
    --background-3d-cube-image: url('{{cube_image}}');
    --box-width: 200px;
    font-size:.9em;
    font-family:sans-serif;
    --root-background: {{background}};
  }
  </style>

  <div id="background"></div>
  <div id="wrapper">
    <div id="platform">
      <div id="dice">
        <div class="side front">
        </div>
        <div class="side front inner"></div>
        <div class="side top"></div>
        <div class="side top inner"></div>
        <div class="side right"></div>
        <div class="side right inner"></div>
        <div class="side left"></div>
        <div class="side left inner"></div>
        <div class="side bottom"></div>
        <div class="side bottom inner"></div>
        <div class="side back"></div>
        <div class="side back inner"></div>
        <div class="side cover x"></div>
        <div class="side cover y"></div>
        <div class="side cover z"></div>
      </div>
    </div>
  </div>

  `}}F(ne,"u"),C(ne,"u"),l(ne,"CubeSplashScreenComponent"),(0,p.Package)("org.qcobjects.components.splashscreen",[L,ne])},"__splash_screen__")(I);var P=I.SplashScreenComponent;T.SplashScreenComponent=P;var N=I.VideoSplashScreenComponent;T.VideoSplashScreenComponent=N;var S=I.CubeSplashScreenComponent;T.CubeSplashScreenComponent=S}),_t=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te();(function(){"use strict";(0,g.Package)("org.qcobjects.controllers",[l(class extends g.Controller{},"GenericController")])})()}),Ft=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te();(function(){"use strict";(0,g.Package)("org.qcobjects.controllers.grid",[l(class extends g.Controller{constructor(p){super(p),this.rows=this.component.body.getAttribute("rows"),this.rows=this.rows!==null?this.rows:this.component.rows,this.cols=this.component.body.getAttribute("cols"),this.cols=this.cols!==null?this.cols:this.component.cols}cssGrid(){let p=this.component,i=p.shadowed?p.shadowRoot:p.body;if(typeof this.rows<"u"&&typeof this.cols<"u"){let I=(0,g._DOMCreateElement)("style"),P="auto ".repeat(this.rows),N="auto ".repeat(this.cols),S="grid"+this.__instanceID.toString();I.innerHTML=`.${S}{
          display: grid;           grid-template-rows: ${P};           grid-template-columns: ${N};           margin:0 auto;         }`,i?.append(I),p.shadowed?i?.host.classList.add(S):i.classList.add(S)}}done(){this.cssGrid(),g.logger.debug("GridComponent built")}},"GridController"),l(class extends g.Controller{constructor(p){super(p),this._componentRoot=p.component.shadowed?p.component.shadowRoot:p.component.body,this.rows=p.component.body.getAttribute("rows"),this.rows=p.rows!==null?p.rows:p.component.rows,this.cols=p.component.body.getAttribute("cols"),this.cols=p.cols!==null?p.cols:p.component.cols,g.logger.debug("DataGridController INIT")}getPageIndex(p,i,I){return p=p>0?p-1:0,[I*p/i,I*p/i+I/i]}addSubcomponents(){this.component.subcomponents=[],typeof this._componentRoot<"u"&&(this._componentRoot.innerHTML=""),this.cssGrid(),g.logger.debug((0,g._DataStringify)(this.component.data));try{let p=this.component.body.getAttribute("subcomponentClass");if(p!=null){let i,I,P,N=[...this.component.data],S=this.component.body.getAttribute("paginate-in"),x;S=S!==null?S:"client",S==="client"?(x=this.component.body.getAttribute("page-number"),x=isNaN(x)||x===null?-1:x,x!==-1?(P=this.component.body.getAttribute("total-pages"),P=isNaN(P)?1:P,i=this.getPageIndex(x,P,N.length)[0],I=this.getPageIndex(x,P,N.length)[1]):(i=0,I=N.length,P=1),N=N.slice(i,I)):(i=0,I=N.length,P=1),N.map((j,L,ne)=>{try{let de=(0,g._DOMCreateElement)("component");de.setAttribute("name",(0,g.ClassFactory)(p).name),de.setAttribute("shadowed",(0,g.ClassFactory)(p).shadowed),de.setAttribute("cached",(0,g.ClassFactory)(p).cached),j=Object.assign(j,{__dataIndex:L,__dataLength:ne.length,__page:x,__totalPages:P,__limit:I,__offset:i});let z=(0,g.New)((0,g.ClassFactory)(p),{name:"item",data:j,templateURI:(0,g.ComponentURI)({COMPONENTS_BASE_PATH:g.CONFIG.get("componentsBasePath",""),COMPONENT_NAME:(0,g.ClassFactory)(p).name,TPLEXTENSION:g.CONFIG.get("tplextension",""),TPL_SOURCE:(0,g.ClassFactory)(p).tplsource}),body:de,template:(0,g.ClassFactory)(p).template});z.done=this.component.done.bind(z);try{if(z){z.data.__dataIndex=L,Object.hasOwnProperty.call(this.component.data,"length")&&(z.data.__dataLength=this.component.data.length),g.logger.debug("adding subcomponent to body"),this._componentRoot?.append(z.body);try{this.component.subcomponents.push(z)}catch{g.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}}else g.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}catch{g.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}}catch{g.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}})}else g.logger.debug("NO SUBCOMPONENT CLASS IN COMPONENT")}catch{g.logger.debug("No data for component")}}cssGrid(){let p=this.component,i=p.shadowed?p.shadowRoot:p.body;if(typeof this.rows<"u"&&typeof this.cols<"u"){let I=(0,g._DOMCreateElement)("style"),P="auto ".repeat(this.rows),N="auto ".repeat(this.cols),S="grid"+this.__instanceID.toString();I.innerHTML=`.${S}{
          display: grid;           grid-template-rows: ${P};           grid-template-columns: ${N};           margin:0 auto;         }`,p.shadowed?(p.body.append(I),i.host.classList.add(S)):(i?.append(I),i.classList.add(S))}}done(){let p=this.component;g.logger.debug("DataGridController DONE");let i=this.component.body.getAttribute("serviceClass");if(i!=null){let I,P,N=p.body.getAttribute("paginate-in");if(N=N!==null?N:"client",N==="server"){let S=p.body.getAttribute("page-number");S=isNaN(S)||S===null?-1:S;let x;if(S!==-1){let j=this.component.body.getAttribute("server-data-count")!==null?this.component.body.getAttribute("server-data-count"):1;x=this.component.body.getAttribute("total-pages"),x=isNaN(x)?1:x,I=this.getPageIndex(S,x,j)[0],P=this.getPageIndex(S,x,j)[1],p.serviceData=typeof p.serviceData<"u"?p.serviceData:{},p.serviceData.params=typeof p.serviceData.params<"u"?p.serviceData.params:{},p.serviceData.params.offset=I,p.serviceData.params.limit=P}}(0,g.serviceLoader)((0,g.New)((0,g.ClassFactory)(i),{data:p.serviceData}),!1).then(S=>{g.logger.debug("DONE SERVICE COMPONENT"),S.service.JSONresponse=JSON.parse(S.service.template),typeof S.service.JSONresponse.result<"u"?(g.logger.debug((0,g._DataStringify)(S.service.JSONresponse.result)),p.data=S.service.JSONresponse.result):p.data=S.service.JSONresponse,this.addSubcomponents()},S=>{g.logger.debug(S)}).catch(S=>{g.logger.debug("Something went wrong when calling the service from: "+i),g.logger.debug(S.message)})}}},"DataGridController")])})()}),Gt=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te();(function(){"use strict";(0,g.Package)("org.qcobjects.controllers.list",[l(class extends g.Controller{constructor({component:p,dependencies:i=[],valueField:I=void 0,labelField:P=void 0}){super({component:p,dependencies:i,valueField:I,labelField:P}),this.component=p,this._componentRoot=this.component.shadowed?this.component.shadowRoot:this.component.body,this.labelField=this.component.body.getAttribute("label-field"),this.valueField=this.component.body.getAttribute("value-field"),this.rows=this.component.body.getAttribute("rows"),this.rows=this.rows!==null?this.rows:this.component.rows,this.cols=1,g.logger.debug("ListController INIT")}getPageIndex(p,i,I){return p=p>0?p-1:0,[I*p/i,I*p/i+I/i]}addSubcomponents(){this.component.subcomponents=[];let p=this.component.body.getAttribute("layout"),i=g.CONFIG.get("listBasePath",g.CONFIG.get("remoteSDKPath","")),I="";this.labelField=this.component.body.getAttribute("label-field"),this.valueField=this.component.body.getAttribute("value-field"),p==="horizontal"?I=`@import url("${i}css/components/horizontal-list.css");`:I=`@import url("${i}css/components/list.css");`,typeof this._componentRoot<"u"&&(this._componentRoot.innerHTML=`<style>${I}</style><ul></ul>`),g.logger.debug((0,g._DataStringify)(this.component.data));try{let P=this.component.body.getAttribute("subcomponentClass");if(P!=null){let N,S,x,j=[...this.component.data],L=this.component.body.getAttribute("paginate-in");L=L!==null?L:"client";let ne;L==="client"?(ne=this.component.body.getAttribute("page-number"),ne=isNaN(ne)||ne===null?-1:ne,ne!==-1?(x=this.component.body.getAttribute("total-pages"),x=isNaN(x)?1:x,N=this.getPageIndex(ne,x,j.length)[0],S=this.getPageIndex(ne,x,j.length)[1]):(N=0,S=j.length,x=1),j=j.slice(N,S)):(N=0,S=j.length,x=1),j.map((de,z)=>{try{let Ce=(0,g._DOMCreateElement)("li");de.label=de[this.labelField],de.value=de[this.valueField];let se=(0,g.New)((0,g.ClassFactory)(P),{name:"list-item",data:{label:de[this.labelField],value:de[this.valueField],__dataIndex:z,__page:ne,__totalPages:x,__limit:S,__offset:N},templateURI:(0,g.ComponentURI)({COMPONENTS_BASE_PATH:g.CONFIG.get("componentsBasePath",""),COMPONENT_NAME:(0,g.ClassFactory)(P).name,TPLEXTENSION:g.CONFIG.get("tplextension",""),TPL_SOURCE:(0,g.ClassFactory)(P).tplsource}),body:Ce,template:(0,g.ClassFactory)(P).template});se.done=this.component.done.bind(se);try{if(se){se.data.__dataIndex=z,Object.hasOwnProperty.call(this.component.data,"length")&&(se.data.__dataLength=this.component.data.length),g.logger.debug("adding subcomponent to body"),this._componentRoot.subelements("ul").map(R=>R.append(se));try{this.component.subcomponents.push(se)}catch{g.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}}else g.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}catch{g.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}}catch{g.logger.debug("ERROR LOADING SUBCOMPONENT IN DATAGRID")}})}else g.logger.debug("NO SUBCOMPONENT CLASS IN COMPONENT")}catch{g.logger.debug("No data for component")}}cssGrid(){let p=this.component,i=p.shadowed?p.shadowRoot:p.body;if(typeof this.rows<"u"&&typeof this.cols<"u"){let I=(0,g._DOMCreateElement)("style"),P="auto ".repeat(this.rows),N="auto ".repeat(this.cols),S="grid"+this.__instanceID.toString();I.innerHTML=`.${S}{
            display: grid;             grid-template-rows: ${P};             grid-template-columns: ${N};             margin:0 auto;           }`,i.append(I),i.classList.add(S)}}done(){this.cssGrid();let p=this.component;g.logger.debug("ListController DONE");let i=this.component.body.getAttribute("serviceClass");if(i!=null){let I,P,N=p.body.getAttribute("paginate-in");if(N=N!==null?N:"client",N==="server"){let S=p.body.getAttribute("page-number");S=isNaN(S)||S===null?-1:S;let x;if(S!==-1){let j=this.component.body.getAttribute("server-data-count")!==null?this.component.body.getAttribute("server-data-count"):1;x=this.component.body.getAttribute("total-pages"),x=isNaN(x)?1:x,I=this.getPageIndex(S,x,j)[0],P=this.getPageIndex(S,x,j)[1],p.serviceData=typeof p.serviceData<"u"?p.serviceData:{},p.serviceData.params=typeof p.serviceData.params<"u"?p.serviceData.params:{},p.serviceData.params.offset=I,p.serviceData.params.limit=P}}(0,g.serviceLoader)((0,g.New)((0,g.ClassFactory)(i),{data:p.serviceData}),!1).then(S=>{g.logger.debug("DONE SERVICE COMPONENT"),S.service.JSONresponse=JSON.parse(S.service.template),typeof S.service.JSONresponse.result<"u"?(g.logger.debug((0,g._DataStringify)(S.service.JSONresponse.result)),p.data=S.service.JSONresponse.result):p.data=S.service.JSONresponse,this.addSubcomponents()},S=>{g.logger.debug(S)}).catch(S=>{g.logger.debug("Something went wrong when calling the service from: "+i),g.logger.debug(S.message)})}}},"ListController")])})()}),w=we((T,g)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var p=te();(function(i){"use strict";(0,p.Package)("org.qcobjects.controllers.slider",[l(class extends p.Controller{constructor({component:I,dependencies:P=[],duration:N=7100,slideIndex:S=0,interval:x=null,sliderHandlerName:j=null}){super({component:I,dependencies:P,duration:N,slideIndex:S,interval:x,sliderHandlerName:j}),this.slideIndex=0,this.duration=7100,this.interval=null,this.sliderHandlerName="",this.component=I,this._componentRoot=I.shadowed?I.shadowRoot:I.body,this.sliderHandlerName="slider_"+this.component.__instanceID.toString(),i.set(this.sliderHandlerName,this)}stop(){this.interval!=null&&clearInterval(this.interval)}plusSlidesAndStop(I){this.stop(),this.plusSlides(I)}plusSlides(I){this.showSlides(this.slideIndex+=I)}currentSlide(I){this.stop(),this.showSlides(this.slideIndex=I)}automate(){this.interval=setInterval(()=>{this.plusSlides(1)},this.duration)}showSlides(I){let P=this._componentRoot?.subelements(".qcoSlides"),N=this._componentRoot?.subelements(".qcoSlider__dots--dot");I>P.length-1&&(this.slideIndex=0),I<0&&(this.slideIndex=0),P.filter((S,x)=>x!==this.slideIndex).map(S=>(0,p.New)((0,p.ClassFactory)("Fade"),{}).apply(S,1,0)),N.filter((S,x)=>x!==this.slideIndex).map(S=>S.classList.remove("active"));try{N[this.slideIndex].classList.add("active")}catch(S){p.logger.debug(`Something went wrong when trying to activate a slide: ${this.slideIndex} - ${S.message}`)}setTimeout(()=>{P.filter((S,x)=>x!==this.slideIndex).map(S=>(S.style.display="none",S.style.display));try{P[this.slideIndex].style.display="block",(0,p.New)((0,p.ClassFactory)("Fade"),{}).apply(P[this.slideIndex],0,1)}catch(S){p.logger.debug(`Something went wrong when trying to show a slide: ${this.slideIndex} - ${S.message}`)}},700)}fillDots(){(this._componentRoot?.subelements(".qcoSlides")).map((I,P)=>{let N=document.createElement("span"),S=`<span class="qcoSlider__dots--dot" onclick="global.get('${this.sliderHandlerName}').currentSlide(${P})"></span>`;return N.innerHTML=S,this._componentRoot?.subelements(".qcoSlider__dots")[0].append(N)})}done(){(this._componentRoot?.subelements(".qcoSlides")).filter((I,P)=>P!==this.slideIndex).map(I=>(I.style.display="none",I.style.display)),setTimeout(()=>{this.fillDots(),this.slideIndex=0,this.showSlides(this.slideIndex),this.automate()},3e3)}},"SliderController")])})(typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{})}),dt=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te(),p=bt();(function(){"use strict";(0,g.Package)("org.qcobjects.controllers.form",[l(class extends g.Controller{getDefault(){return function(i,I,P){let N={name:"^[a-zA-Z]+(([',. -][a-zA-Z ])?[a-zA-Z]*)*$",email:"^([A-Za-z0-9]+)@([A-Za-z0-9]+).([A-Za-z0-9]+)$"},S=P.getAttribute("pattern")||N[i];return new RegExp(S).test(I)}}},"FormValidations"),l(class extends g.Controller{hasValidation(i){let I=i.getAttribute("data-field"),P=!1;return typeof this.validations<"u"&&Object.hasOwnProperty.call(this.validations,I)&&(P=!0),P}isInvalid(i){let I=!1,P=i.getAttribute("data-field"),N=this.component.data[P],S=l((x,j,L)=>typeof this.validations<"u"&&Object.hasOwnProperty.call(this.validations,x)&&this.validations[x].call(null,x,j,L),"_execValidation");return typeof this.validations<"u"&&!S(P,N,i)&&(I=!0),I}isValid(i){return!this.isInvalid(i)}save(){this.serviceClass!==""?(location.href=this.formSettings.loadingRouting,(0,g.serviceLoader)((0,g.New)((0,g.ClassFactory)(this.serviceClass),{data:this.component.data}),!1).then(i=>{console.log("DONE SERVICE COMPONENT");try{console.log(i.service.JSONresponse)}catch{}location.href=this.formSettings.nextRouting},i=>{g.logger.debug(i),location.href=this.formSettings.backRouting})):g.logger.debug("No service name declared on serviceClass property")}formSaveTouchHandler(){g.logger.debug("Saving data...");let i=this.component.shadowed?(this.component?.shadowRoot).host:this.component.body;if(this.component.executeBindings(),this.formValidatorModal!=null){let I=i.subelements("*[data-field]").filter(x=>this.hasValidation(x)),P=l(function(x,j){return l((L,ne)=>ne.getAttribute("aria-labelledby")!==null?(ne.getAttribute("aria-labelledby")||"").split(" ").map(de=>L.subelements(`#${de}`).map(z=>z.innerHTML)).join(" "):null,"_arialabelledby")(x,j)||j.getAttribute("aria-label")||j.getAttribute("placeholder")||j.getAttribute("name")||j.getAttribute("data-field")},"_labelledby"),N=l(function(x){return x.getAttribute("title")||x.getAttribute("aria-title")||""},"_ariatitle"),S=I.filter(x=>this.isInvalid(x));if(S.length>0){let x=`
<details>
    <summary>Please verify the following incorrect fields:</summary>
    <ul>
      <div>
      ${S.map(j=>"<li><div>"+P(i,j)+"</div><div>"+N(j)+"</div></li>").join("")}
      </div>
    </ul>
</details>
`;this.formValidatorModal.body.subelements(".validationMessage")[0].innerHTML=x,this.formValidatorModal.modal()}else this.save()}else g.logger.debug("Unable to find the modal validator..."),g.logger.debug("Saving data..."),this.save()}constructor(i){super(i),this.validations=[],this.serviceClass="",this.formSettings={backRouting:"#",loadingRouting:"#loading",nextRouting:"#signupsuccessful"},this.component=i.component,this.component=this.component.Cast(p.FormField)}done(){g.logger.debugEnabled=!0;try{this.component.createBindingEvents();let i=(0,g._DOMCreateElement)("div");i.className="modal_body",this.formValidatorModal=(0,g.New)(p.ModalComponent,{body:i,subcomponents:[],data:{content:'<div class="validationMessage"></div>'}}),(0,g.Tag)(".modal_body").map(I=>document.body.removeChild(I)),document.body.append(this.formValidatorModal)}catch{g.logger.debug("Unable to create the modal")}this.onpress(".submit",()=>{this.formSaveTouchHandler()})}},"FormController")])})()}),Dt=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te();(function(){"use strict";(0,g.Package)("org.qcobjects.controllers.swagger",[l(class extends g.Controller{startSwaggerUI(){if(typeof SwaggerUIBundle<"u"){let p=SwaggerUIBundle({url:g.CONFIG.get("swagger-ui-url","https://petstore.swagger.io/v2/swagger.json"),dom_id:"#"+g.CONFIG.get("swagger-ui-dom_id","swagger-ui"),deepLinking:!0,presets:[SwaggerUIBundle.presets.apis,SwaggerUIStandalonePreset],plugins:[SwaggerUIBundle.plugins.DownloadUrl],layout:"StandaloneLayout"});window.ui=p}}done(){this.component.body.innerHTML='<div id="'+g.CONFIG.get("swagger-ui-dom_id","swagger-ui")+'"></div>';let p=g.CONFIG.get("swagger-ui-package-path","node_modules/swagger-ui-dist/");this.dependencies?.push((0,g.New)(g.SourceJS,{url:p+"swagger-ui-standalone-preset.js",external:g.CONFIG.get("swagger-ui-external",!1)})),this.dependencies?.push((0,g.New)(g.SourceCSS,{url:p+"swagger-ui.css",external:g.CONFIG.get("swagger-ui-external",!1)})),this.dependencies?.push((0,g.New)(g.SourceJS,{url:p+"swagger-ui-bundle.js",external:g.CONFIG.get("swagger-ui-external",!1),done:()=>{this.startSwaggerUI()}}))}},"SwaggerUIController")])})()}),pt=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te();(function(){"use strict";(0,g.Package)("org.qcobjects.modal.controllers",[l(class extends g.Controller{done(){let p=this.component;p.body.innerHTML=p.body.innerHTML.replace("/{{content}}/g",p.submodal.template)}},"ModalController")])})()}),Ve=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te();(function(){"use strict";(0,g.Package)("org.qcobjects.views",[l(class extends g.View{},"GridView")])})()}),Ot=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te();(function(){(0,g.Package)("org.qcobjects.tools.canvas",[l(class extends g.InheritClass{drawImageFilled(p,i,I=1,P=0,N=0){let S=Math.max(i.width/p.width,i.height/p.height);S=S*I;let x=i.width/2-p.width/2*S,j=i.height/2-p.height/2*S;i.getContext("2d")?.drawImage(p,P+x,N+j,p.width*S,p.height*S)}getImageResized(p,i,I,P,N=1,S=0,x=0){let j=document.createElement("canvas");return j.width=i,j.height=I,j.style.width=i.toString(),j.style.height=I.toString(),this.drawImageFilled(p,j,N,S,x),P.src=j.toDataURL("image/png"),j}},"CanvasTool")])})()}),At=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te(),p=Ie();(function(){(0,g.Package)("org.qcobjects.tools.layouts",[l(class extends g.InheritClass{constructor({component:i=null,dependencies:I=[]}){super({component:i,dependencies:I}),this.dependencies=[]}load(){this.dependencies.push((0,g.New)(g.SourceCSS,{external:!g.CONFIG.get("useLocalSDK",!1),url:g.CONFIG.get("useLocalSDK",!1)?"css/basic-layout.css":g.CONFIG.get("remoteSDKPath",!1)+"css/basic-layout.css"}))}coloredBorder(){setTimeout(function(){(0,g.Tag)("nav").map(i=>{i.style.border="20px solid #3333"}),(0,g.Tag)("nav").map(i=>{i.style.backgroundColor="#129999"}),(0,g.Tag)("component>footer").map(i=>{i.style.background="#876"}),(0,g.Tag)("component>div").map(i=>{i.style.border="3px dashed #fff"}),(0,g.Tag)("component>section").map(i=>{i.style.border="3px solid #000"}),(0,g.Tag)("component>section").map(i=>{i.style.backgroundColor="#fffaaa"}),(0,g.Tag)("component>article").map(i=>{i.style.border="3px dotted #000"}),(0,g.Tag)("component>header").map(i=>{i.style.background="#789"}),(0,g.Tag)("component>footer").map(i=>{i.style.background="#876"}),(0,g.Tag)("component>article:nth-child(1)").map(i=>{i.style.border="1px solid #444"}),(0,g.Tag)("component>article:nth-child(1)").map(i=>{i.style.backgroundColor="#555aaa"}),(0,g.Tag)("component>article:nth-child(2)").map(i=>{i.style.backgroundColor="#aaa333"}),(0,g.Tag)("component>article:nth-child(3)").map(i=>{i.style.backgroundColor="#54da82"}),(0,g.Tag)("*").map(i=>{i.style.color="#fff"}),(0,g.Tag)("component>article").map(i=>p.Fade.apply(i,0,1)),(0,g.Tag)("component>footer").map(i=>p.Fade.apply(i,0,1)),(0,g.Tag)("component>header").map(i=>p.Fade.apply(i,0,1)),(0,g.Tag)("nav").map(i=>{i.style.display="block",i.style.width=i.offsetParent?.scrollWidth.toString()||i.clientWidth.toString(),p.MoveXInFromLeft.apply(i)}),(0,g.Tag)("component>article").map(i=>{i.style.display="block",i.style.height=i.offsetParent?.scrollHeight.toString()||i.clientHeight.toString(),p.MoveYInFromBottom.apply(i)}),(0,g.Tag)("component>article:nth-child(2)").map(i=>{i.style.display="block",i.style.width=i.offsetParent?.scrollWidth.toString()||i.clientWidth.toString(),p.MoveXInFromRight.apply(i)})},300)}},"BasicLayout")])})()}),Et=we((T,g)=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SessionUserToken=void 0;var p=te(),i=typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{};(function(P){"use strict";class N extends p.InheritClass{constructor(x){super(x);let j=this;this.__cache__=new p.ComplexStorageCache({index:j.__instanceID.toString(),load(){let L;return typeof navigator<"u"&&typeof origin<"u"?L=p._Crypt.encrypt(`${navigator.userAgent}|${x.username}|${(+new Date).toString()}`,origin):L=p._Crypt.encrypt(`${x.username}|${(+new Date).toString()}`,p.CONFIG.get("domain","localhost")),N.user={priority:j.__instanceID.toString(),token:L},N.user},alternate(L){N.user=L?.cache.getCached(j.__instanceID.toString())}})}static generateIndex(x){return typeof Buffer<"u"?Buffer.from(x,"ascii").toString("base64"):btoa(x)}getGlobalUser(...x){let j=[x].join("|"),L="userToken_"+N.generateIndex(j);return(typeof P.get(L)>"u"||P.get(L)===null)&&P.set(L,(0,p.New)(N,{username:j})),N.user=P.get(L).user,P.get(L).user}getGlobalUserToken(...x){return this.getGlobalUser(x).token}getGlobalUserId(...x){return this.getGlobalUser(x).id}getGlobalUserPriority(...x){return this.getGlobalUser(x).priority}getLoginCredentialsToken(x,j){return p._Crypt.encrypt(`${x}${j}`,this.getGlobalUserToken(x))}closeGlobalSession(...x){this.getGlobalUser(x);let j=[x].join("|"),L="userToken_"+N.generateIndex(j);typeof P.get(L)<"u"&&(P.get(L).__cache__.clear(),P.set(L,null),N.user={})}}F(N,"r"),C(N,"r"),l(N,"SessionUserToken"),N.user={},(0,p.Package)("org.qcobjects.cloud.auth.session.usertoken",[N])})(i);var I=i.SessionUserToken;T.SessionUserToken=I}),yt=we(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});var g=te(),p=Et();(function(){"use strict";(0,g.Package)("org.qcobjects.cloud.auth.session.data",[l(class extends g.InheritClass{constructor(){super(...arguments),this.__session_container__=null}setSessionContainer(){this.__session_container__=[...arguments]}getSessionContainer(){if(typeof this.__session_container__>"u"||this.__session_container__===null)throw new Error("You need to set a session container first: sessionData.setSessionContainer(...arguments)");return this.__session_container__}getSessionData(...i){let I=sessionStorage.getItem(`${this.index(i)}`),P;return I!==null&&(P=JSON.parse(I)),(typeof P>"u"||P===null)&&(P={}),P}index(...i){if(typeof p.SessionUserToken>"u")throw new Error('You need to import SessionUserToken first: Import ("org.qcobjects.cloud.auth.session.usertoken")');return`session_${btoa(p.SessionUserToken.getGlobalUserToken(i))}`}save(...i){let I=(0,g._DataStringify)(this.sessionData);sessionStorage.setItem(`${this.index(i)}`,I)}get(i,I){let P=this.getSessionData(this.getSessionContainer());return typeof P[i]<"u"?P[i]:I}set(i,I){let P=this.getSessionContainer(),N=this.getSessionData(P);this.sessionData=N,this.sessionData[i]=I,this.save(P)}},"SessionData")])})()}),Ut=we((T,g)=>{Object.defineProperty(T,"__esModule",{value:!0});var p=te(),i=typeof g=="object"&&typeof g.exports=="object"?g.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof D<"u"?D:{}:typeof D=="object"?D:typeof window=="object"?window:{};l(C(F(function I(P){"use strict";if(typeof Object.defineProperty<"u"&&typeof P<"u")try{Object.defineProperty(P,"__qcobjects_sdk__",{enumerable:!0,configurable:!1,writable:!1,value:I})}catch{typeof P.__qcobjects_sdk__<"u"&&(P.__qcobjects_sdk__.__loaded__=!0)}if(typeof P.__qcobjects_sdk__.__loaded__>"u"){if(P.__qcobjects_sdk__.__loaded__=!0,typeof P>"u")throw Error("Top context empty: It should either global, module or window");let N=p.GlobalSettings.__start__.bind(P),S=[];S=[new Promise(x=>{gt(),qe(),bt(),st(),Ze(),St(),ut(),Tt(),_t(),Ft(),Gt(),w(),dt(),Dt(),Ie(),pt(),Ve(),Ot(),At(),Et(),yt(),x()})],P._sdk_=Promise.all(S).then(()=>{p.CONFIG.set("useSDK",!0),N()})}},"w"),"w"),"__qcobjects_sdk__")(i),T.default=i});return Ut()})()}}),on=qt({"node_modules/qcobjects-sdk/public/index.cjs"(D,le){"use strict";Object.defineProperty(D,"__esModule",{value:!0});var je=nn();le.exports=je}}),rn=qt({"node_modules/qcobjects/src/QCObjects.js"(D,le){C(F(function je(l){"use strict";if(typeof Object.defineProperty<"u"&&typeof l<"u")try{Object.defineProperty(l,"__qcobjects__",{enumerable:!0,configurable:!1,writable:!1,value:je})}catch{typeof l.__qcobjects__<"u"&&(l.__qcobjects__.loaded=!0)}if(typeof l.__qcobjects__.loaded>"u"){let he=F(function(o){E?P.push(o.bind(window)):typeof be<"u"&&P.push(o.bind(be))},"Ready");C(he,"Ready"),l.__qcobjects__.loaded=!0;var be=l;l.global=be;var we=typeof window<"u"&&"Deno"in window,E=typeof window<"u"&&typeof window.self<"u"&&window===window.self&&!we,Rt=typeof le<"u",Lt=C(function(){},"deno_require"),tt=C(function(){return we?Lt(...arguments):mt(...arguments)},"_require_"),te=C(function(o){var t=typeof o.prototype<"u"?o.prototype.toString:function(){return""};typeof o.prototype<"u"&&(o.prototype.toString=function(){var r=["__qcobjects__","__qcobjects_sdk__","__loaded__","ComplexStorageCache","css","append","attachIn","debug","info","warn","QC_Append","set","get","done","componentDone","_new_","__new__","Class","ClassFactory","New","Export","Package","Import","subelements","componentLoader","buildComponents","Controller","View","VO","Service","serviceLoader","JSONService","ConfigService","SourceJS","SourceCSS","ArrayList","ArrayCollection","Effect","Timer","sum","avg","table","max","min","range","matrix","matrix2d","matrix3d","unique","uniqueId","shortCode","NamespaceRef"],s;return r.includes(this.name)?s=this.name+"{ [QCObjects native code] }":s=t.call(this),s})},"_protected_code_");te(Function);var gt=C(function(o){var t=[];for(var r in o)(typeof o[r]).toLowerCase()==="function"&&t.push(o[r]);return t},"_methods_");String.prototype.__mAll__=function(o){var t=[];return this.replace(o,function(){var r=Array.prototype.slice.call(arguments,0,-2);r.input=arguments[arguments.length-1],r.index=arguments[arguments.length-2],t.push(r)}),t},typeof String.prototype.matchAll>"u"&&(String.prototype.matchAll=String.prototype.__mAll__);var qe=C(function(o){var t;return E?t=document.createElement(o):t={},t},"_DOMCreateElement");if(!E){let o=tt("fs")}var Ie=C(function(o){var t=C(function(){var r=new WeakSet,s=0;return function(f,u){if(typeof u=="object"&&u!==null){if(r.has(u))return s+=1,s<=3?g(u):null;r.add(u)}return u}},"getCircularReplacer");return JSON.stringify(o,t())},"_DataStringify");if(E){var bt=C(F(function(t){return[...this.querySelectorAll(t)]},"subelements"),"subelements");Element.prototype.subelements=bt,HTMLDocument.prototype.subelements=bt,HTMLElement.prototype.subelements=bt,typeof ShadowRoot<"u"&&(ShadowRoot.prototype.subelements=bt)}if(E)try{l=typeof window.top<"u"?window.top:window,l._allowed_=!0}catch{try{l=document,l._allowed_=!0}catch{try{l=be,l._allowed_=!0}catch{l={},l._allowed_=!0}}}else typeof be<"u"&&(l=be);var st,Ze,St="quick-component:not([loaded]),component:not([loaded])";if(Ze=function(){var o="";if(E){var t=l.document.baseURI.split("?")[0].split("/");t.pop(),o=t.join("/")+"/"}else{var r;try{r=tt("process")}catch{}typeof r<"u"?o=`${r.cwd()}/`:o=""}return o}(),E){"Promise"in l||(l.Promise=function(o){var t={then(){},catch(){},_then(r){this.then.call(t,r)},_catch(r){this.catch.call(t,r)}};return o.call(t,t._then,t._catch),t}),typeof l.console>"u"&&(l.console=function(){},l.console.prototype.log=function(o){}),st=function(){return typeof document<"u"&&document.domain!==""?document.domain:"localhost"}();var ut=function(){var o=l[(![]+[])[+!+[]+ +!+[]]+(typeof![])[+!+[]]+(typeof[])[(+!+[]+ +!+[])*(+!+[]+ +!+[])]+(![]+[])[+!+[]]+(!![]+[])[+[]]+([]+[]+[][[]])[+[+!+[]+[+[]]]/(+!+[]+ +!+[])]+(typeof![])[+!+[]]+([]+[]+[][[]])[+!+[]]]["h"+(typeof![])[+!+[]]+(![]+[])[+!+[]+(+!+[]+ +!+[])]+(!![]+[])[+[]]].toLowerCase();return o}(),Tt=function(){return typeof cordova<"u"}()}else{var ut="secret";st="localhost"}l._asyncLoad=[];var _t=C(function(o,t){var r={func:o,args:t,dispatch(){this.func.apply(null,this.args)}};return l._asyncLoad.push(r),r},"asyncLoad");if(E){var Ft=C(function(){document.readyState==="complete"&&l._asyncLoad.map(function(o){o.dispatch.call(o)})},"_fireAsyncLoad");document.onreadystatechange=Ft}else typeof l.global<"u"&&(l.global._fireAsyncLoad=function(){l._asyncLoad.map(function(o){o.dispatch.call(o)})});l.asyncLoad=_t;var Gt=C(function(){return{debugEnabled:!0,infoEnabled:!0,warnEnabled:!0,debug(o){this.debugEnabled&&console.log("\x1B[35m%s\x1B[0m",`[DEBUG][${performance.now().toLocaleString()}] ${o}`)},info(o){var t;this.infoEnabled&&(E?t="\x1B[103m%s\x1B[0m":t="\x1B[33m%s\x1B[0m",console.info(t,`[INFO][${performance.now().toLocaleString()}] ${o}`))},warn(o){this.warnEnabled&&console.warn("\x1B[31m%s\x1B[0m",`[WARN][${performance.now().toLocaleString()}] ${o}`)}}},"Logger"),w=new Gt;w.debugEnabled=!1,w.infoEnabled=!0,l.logger=w;var dt={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode(o){var t="",r,s,f,u,h,v,O,M=0;for(o=dt._utf8_encode(o);M<o.length;)r=o.charCodeAt(M++),s=o.charCodeAt(M++),f=o.charCodeAt(M++),u=r>>2,h=(r&3)<<4|s>>4,v=(s&15)<<2|f>>6,O=f&63,isNaN(s)?v=O=64:isNaN(f)&&(O=64),t=t+this._keyStr.charAt(u)+this._keyStr.charAt(h)+this._keyStr.charAt(v)+this._keyStr.charAt(O);return t},decode(o){var t="",r,s,f,u,h,v,O,M=0;for(o=o.replace(/[^A-Za-z0-9+/=]/g,"");M<o.length;)u=this._keyStr.indexOf(o.charAt(M++)),h=this._keyStr.indexOf(o.charAt(M++)),v=this._keyStr.indexOf(o.charAt(M++)),O=this._keyStr.indexOf(o.charAt(M++)),r=u<<2|h>>4,s=(h&15)<<4|v>>2,f=(v&3)<<6|O,t=t+String.fromCharCode(r),v!==64&&(t=t+String.fromCharCode(s)),O!==64&&(t=t+String.fromCharCode(f));return t=dt._utf8_decode(t),t},_utf8_encode(o){o=o.replace(/rn/g,"n");for(var t="",r=0;r<o.length;r++){var s=o.charCodeAt(r);s<128?t+=String.fromCharCode(s):s>127&&s<2048?(t+=String.fromCharCode(s>>6|192),t+=String.fromCharCode(s&63|128)):(t+=String.fromCharCode(s>>12|224),t+=String.fromCharCode(s>>6&63|128),t+=String.fromCharCode(s&63|128))}return t},_utf8_decode(o){for(var t="",r=0,s=0,f=0,u=0,h;r<o.length;)s=o.charCodeAt(r),s<128?(t+=String.fromCharCode(s),r++):s>191&&s<224?(u=o.charCodeAt(r+1),t+=String.fromCharCode((s&31)<<6|u&63),r+=2):(u=o.charCodeAt(r+1),h=o.charCodeAt(r+2),t+=String.fromCharCode((s&15)<<12|(u&63)<<6|h&63),r+=3);return t}},Dt=C(function(o,t){var r=C(function(s,f){var u=2e3,h=0,v=setInterval(function(){f.call()?(clearInterval(v),s.call(),w.debug("Ejecuting "+s.name+" after wait")):h<u?(h+=1,w.debug("WAIT UNTIL "+s.name+" is true, "+h.toString()+" cycles")):(w.debug("Max execution time for "+s.name+" expression until true"),clearInterval(v))},1)},"_waitUntil");setTimeout(function(){r(o,t)},1)},"waitUntil");if(typeof pt>"u")var pt={getItem(o){return Object.hasOwnProperty.call(this,o)?this[o]:null},setItem(o,t){this[o]=t},removeItem(o){delete this[o]}};var Ve=C(function(o){var t,r,s;if(t=o.index,typeof t<"u"){r=o.load,s=o.alternate;var f=this.getID(t),u=pt.getItem(f);if(this.isEmpty(u)){var h=r.call(null,{cachedObjectID:f,cachedResponse:u,cache:this});this.save(t,h),w.debug("RESPONSE OF {{cachedObjectID}} CACHED".replace("{{cachedObjectID}}",f))}else{var v=s.call(null,{cachedObjectID:f,cachedResponse:u,cache:this});w.debug("RESPONSE OF {{cachedObjectID}} IS ALREADY CACHED ".replace("{{cachedObjectID}}",f))}}else throw new Error("ComplexStorageCache: index is undefined");return this},"ComplexStorageCache");if(Ve.prototype.getItem=function(o){var t=pt.getItem(o);return this.isEmpty(t)?null:JSON.parse(t)},Ve.prototype.setItem=function(o,t){pt.setItem(o,Ie(t))},Ve.prototype.isEmpty=function(o){var t=!1;switch(!0){case typeof o>"u":case(typeof o=="string"&&o===""):case(typeof o=="string"&&o==="undefined"):case(typeof o=="number"&&o===0):case o===null:t=!0;break;default:t=!1}return t},Ve.prototype.getID=function(o){var t;return typeof o<"u"&&(t="cachedObject_"+dt.encode(Ie(o).replace(/\{|\}|,/g,"_"))),t},Ve.prototype.save=function(o,t){var r=this.getID(o);w.debug("CACHING THE RESPONSE OF {{cachedObjectID}} ".replace("{{cachedObjectID}}",r)),this.setItem(r,t)},Ve.prototype.getCached=function(o){var t=this.getID(o);return this.getItem(t)},Ve.prototype.clear=function(){Object.keys(pt).filter(function(o){return o.startsWith("cachedObject_")}).map(function(o){pt.removeItem(o)})},E){var Ot=!1;try{var At=Object.defineProperty({},"passive",{get(){return Ot=!0,Ot}});window.addEventListener("testPassive",null,At),window.removeEventListener("testPassive",null,At)}catch{}var Et=C(function(){return Ot?{passive:!0}:!1},"captureFalse")}E&&(Element.prototype.find=function(o){var t=[],r=document.subelements(o);return r.map(function(s,f){typeof r[f]<"u"&&r[f].parentNode.tagName===this.parentNode.tagName&&t.push(S(s,new Object))}),t});var yt,Ut=function(){var o=Object.prototype.hasOwnProperty;return function(t){if(typeof t!="object")throw TypeError("Object prototype may only be an Object or null. The type is "+typeof t);var r=C(function(){},"QCObjects");r.prototype=t;var s=new r;if(arguments.length>1){var f=Object(arguments[1]);for(var u in f)o.call(f,u)&&(s[u]=f[u])}return s}}();typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:C(F(function(t,r){"use strict";if(t===null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),f=1;f<arguments.length;f++){var u=arguments[f];if(u!==null)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(s[h]=u[h])}return s},"assign"),"assign"),writable:!0,configurable:!0});var T=C(function(o){return!!(typeof o=="function"&&o.toString().startsWith("class"))},"__is_raw_class__"),g=C(function(o){var t;switch(!0){case typeof o=="string":t=o;break;case typeof o=="number":t=o;break;case typeof o=="object":t=Object.assign({},o);break;case typeof o=="function":t=o.bind({});break;case T(o):t=C(class extends o{},"_value_");break;default:break}return t},"_LegacyCopy"),p={},i={},I=[],P=[],N=C(function(o){var t="";return typeof o=="function"&&Object.hasOwnProperty.call(o,"name")&&o.name!==""?t=o.name:typeof o<"u"&&typeof o.constructor=="function"&&o.constructor.name!==""?t=o.constructor.name:typeof o<"u"&&typeof o.constructor=="object"&&(t=o.constructor.toString().replace(/\[(.*?)\]/g,"$1").split(" ").slice(1).join("")),t},"ObjectName"),S=C(function(o,t){for(var r in o)if(typeof o[r]<"u")try{t[r]=o[r]}catch{}return t},"_Cast"),x=C(function(o,t){for(var r in o)if(typeof o[r]<"u"&&typeof o[r]!="function")try{t[r]=o[r]}catch{}else if(typeof o[r]=="function")try{t[r]=o[r].bind(t)}catch(s){w.warn(s)}return t},"_CastProps"),j=C(function(){return["__proto__","prototype","Object","Map","defineProperty","indexOf","toString","__instanceID"].indexOf(arguments[0])!==-1},"__is__forbidden_name__"),L=C(F(function(t){var r="";switch(!0){case(T(t)&&!!t.name):r=t.name;break;case(typeof t=="object"&&!!t.constructor&&!!t.constructor.name&&t.constructor.name!==""):r=t.constructor.name;break;case(!!t&&!!t.__classType&&t.__classType!==""):r=t.__classType;break;case(!!t&&!!t.__definition&&!!t.__definition.__classType&&t.__definition.__classType!==""):r=t.__definition.__classType;break;case(typeof t=="function"&&!!t.name):r=t.name;break;default:r=N(t);break}return r},"__getType__2"),"__getType__"),ne=C(F(function(t,r){return!!(typeof t<"u"&&t!==null&&((Z(t)||B(t))&&t.hierarchy().includes(r)||L(t)===r||N(t)===r||typeof t===r))},"is_a2"),"is_a"),de=C(function(o){if(typeof o<"u")if(E)try{l[o.name]=o,window[o.name]=o}catch{}else typeof be<"u"&&(Object.hasOwnProperty.call(be,o.name)||(be[o.name]=o))},"__make_global__"),z=C(function(o,t){var r=o.name||L(o);return typeof o.__definition>"u"&&(o.__definition={}),o.__definition.__classType=r,typeof t<"u"&&(o.__definition.__namespace=t),p[r]=o,l[r]=p[r],l[r]},"__register_class__"),Ce=C(function(o,t){return z(o,t)},"RegisterClass");de(Ce);var se=C(function(){var o={},t,r,s;switch(arguments.length){case 0:return class{};case 1:t=arguments[0],r=C(class{},"type"),s={};break;case 2:t=arguments[0],r=C(class{},"type"),s=arguments[1];break;case 3:t=arguments[0],r=arguments[1],s=arguments[2];break;default:break}if(typeof r!="function")throw new Error("Class type must be a function or class");if(j.call(this,t))throw new Error(`${t} is not an allowed word in the name of a class`);return typeof r.__definition<"u"&&(s.__definition=Object.assign(g(r.__definition),r)),o[r.name]=r,typeof s>"u"||s===null?s={}:s=g(s),typeof s.__instanceID<"u"&&delete s.__instanceID,p[t]=class extends o[r.name]{constructor(){var f;arguments.length>0?f={...arguments[0]}:f={},super(f),q(this,"__classType",t),q(this,"__definition",{...s});let u=this;if(yt=typeof yt>"u"||yt===null?0:yt+1,u.__instanceID||Object.defineProperty(u,"__instanceID",{value:yt,writable:!1}),typeof u.__definition<"u"&&Object.keys(u.__definition).filter(function(h){return isNaN(h)&&!["name","__instanceID","__classType","__definition"].includes(h)}).forEach(function(h){typeof u.__definition[h]=="function"?u[h]=u.__definition[h].bind(u):u[h]=u.__definition[h]}),gt(p[u.__classType]).map(function(h){u[h.name]=h.bind(u)}),gt(u.__definition).map(function(h){u[h.name]=h.bind(u)}),u.body)if(typeof u.__definition>"u"||!Object.hasOwnProperty.call(u.__definition,"body")||typeof u.__definition.body>"u")try{E?u.body=qe(u.__definition.__classType):u.body={}}catch{u.body={}}else Object.hasOwnProperty.call(u.__definition,"body")&&(u.body=u.__definition.body);try{if(typeof u.__new__=="function"?u.__new__.call(u,f):typeof super.__new__=="function"&&(u.__new__=super.__new__.bind(u),u.__new__.call(u,f)),typeof u=="object"&&Object.hasOwnProperty.call(u,"_new_")&&typeof u._new_.isCalled>"u")try{u._new_.call(u,f),u._new_.isCalled=!0}catch(h){w.warn(`${u.__classType}._new_() failed with error: ${h}`)}}catch(h){w.warn(h)}}static hierarchy(f){var u=C(function(O){return Object.hasOwnProperty.call(O,"__classType")?O.__classType:L.call(f,O)},"__classType"),h=C(O=>typeof O<"u"&&typeof O.__proto__<"u"&&O.__proto__!==null?(u(O)!==""?[u(O)]:[]).concat(h(O.__proto__)):[],"__hierarchy__proto__");(typeof f>"u"||f===null)&&(f=this);var v=[];return v.push(u(f)),v=v.concat(h(f.__proto__)),v}static getParentClass(){return Object.getPrototypeOf(this.prototype.constructor)}__new__(f){x(f,this)}_new_(){}getClass(){return Object.getPrototypeOf(this.constructor)}css(f){return typeof this.body<"u"&&this.body.style!=="undefined"&&(w.debug("body style"),this.body.style=S(f,this.body.style)),this.body.style}hierarchy(){var f=this;return this.getClass().hierarchy(f)}append(u){w.debug("append: start"),ne(u,"Component")&&(w.debug("append: child is a Component"),w.debug(`appending the body of ${u.name}`));var u=arguments.length>0?arguments[0]:this.body;typeof this.body<"u"&&(w.debug("append element"),arguments.lenght>0?(w.debug("append to element"),this.body.append(u),typeof this.childs>"u"&&(this.childs=[]),this.childs.push(u)):E&&(w.debug("append to body"),document.body.append(u)))}attachIn(f){if(E)for(var u=document.subelements(f),h=0,v=u.length;h<v;h++)u[h].append(this);else throw new Error("attachIn not yet implemented for non browser platforms")}},p[t]=x(s,p[t]),p[t].__definition=s,p[t].__definition.__classType=t,p[t].__definition.__new__=C(F(function(u){x(u,this)},"__new__"),"__new__"),l[t]=p[t],l[t]},"Class");se.prototype.toString=function(){return"Class(name, type, definition) { [QCObjects native code] }"};var R=C(function(o){var t;if(o!==null&&o.indexOf(".")>-1){var r=o.split(".").slice(0,o.split(".").length-1).join("."),s=o.split(".").slice(-1).join(""),f=oe(r),u=typeof f<"u"?f.filter(h=>Z(h)&&(h.__definition.__classType===s||typeof h=="function"&&!!h.name)).reverse():[];if(u.length>0)t=u[0];else throw Error(`Class ${o} not found.`)}else o!==null&&Object.hasOwnProperty.call(p,o)&&(t=p[o]);return t},"ClassFactory");E&&(Element.prototype.append=C(F(function(t){B(t)||typeof t.body<"u"?this.appendChild(t.body):this.appendChild(t)},"QC_Append"),"QC_Append"),Element.prototype.render=C(F(function(t){var r=this,s=C(function(f,u){if(typeof document.implementation.createHTMLDocument<"u"){var h=document.implementation.createHTMLDocument("");h.innerHTML=u,h.body.subelements("*").map(function(v){return f.append(v)})}},"_appendVDOM");if(typeof this.innerHTML<"u")try{this.innerHTML+=t}catch{s(r,t)}else s(r,t)},"QC_Render"),"QC_Render"));var Re=C(function(o,t,r){return R(o)[t]},"_super_");Re.prototype.toString=function(){return"_super_(className,classMethodName,params) { [QCObjects native code] }"};var ue=C(function(o,t){return t=arguments.length>1?t:{},typeof o>"u"?new Object:new o(t)},"New");ue.prototype.toString=function(){return"New(QCObjectsClassName, args) { [QCObjects native code] }"};var X=C(function(o){return de(o)},"Export");if(X.prototype.toString=function(){return"Export(function or symbol) { [QCObjects native code] }"},!E){var ye=C(function(o){let t=tt("fs");var r=null;try{var s=[`${l.CONFIG.get("projectPath")}${l.CONFIG.get("relativeImportPath")}`,`${l.CONFIG.get("basePath")}${l.CONFIG.get("relativeImportPath")}`,`${l.CONFIG.get("projectPath")}`,`${l.CONFIG.get("basePath")}`,`${l.CONFIG.get("relativeImportPath")}`,`${process.cwd()}${l.CONFIG.get("relativeImportPath")}`,`${process.cwd()}/node_modules/`+o,`${process.cwd()}/node_modules`,`${process.cwd()}`,"node_modules","./",""].concat(le.paths);s=s.filter(f=>t.existsSync(f+"/"+o)),s.length>0&&(r=s[0],w.info(o+" is Installed."))}catch(f){console.log(f)}return r},"findPackageNodePath");X(ye)}se("_Crypt",Object,{last_string:"",last_key:"",construct:!1,_new_(o){var t=o.string,r=o.hasOwnProperty.call(o,"key")?o.key:null;this.__new__(o),r=r===null?this.__instanceID:r,this.last_key=r,this.last_string=t,this.construct=!0},_encrypt(){for(var o=this.string,t=this.key,r="",s,f,u=0;u<o.length;u++)s=o.substr(u,1),f=t.substr(u%t.length-1,1),s=String.fromCharCode(s.charCodeAt(0)+f.charCodeAt(0)),r+=s;return this.last_string=dt.encode(r),this.last_string},_decrypt(){var o=this.string,t=this.key,r="",s,f;o=dt.decode(o);for(var u=0;u<o.length;u++)s=o.substr(u,1),f=t.substr(u%t.length-1,1),s=String.fromCharCode(s.charCodeAt(0)-f.charCodeAt(0)),r+=s;return this.last_string=r,this.last_string},encrypt(o,t){var r=ue(R("_Crypt"),{string:o,key:t!==""?t:"12345678ABC"});return r._encrypt()},decrypt(o,t){var r=ue(R("_Crypt"),{string:o,key:t!==""?t:"12345678ABC"});return r._decrypt()}});var De=C(function(o){return R("_Crypt").encrypt(Ie(o),ut)},"_CryptObject"),He=C(function(o){return o===""?{}:JSON.parse(R("_Crypt").decrypt(o,ut))},"_DecryptObject"),y=C(function(){var o=1e3,t=R("_Crypt").encrypt((Math.random()*o).toString().replace(".",""),new Date().getTime().toString()),r=R("_Crypt").encrypt((Math.random()*o).toString().replace(".",""),new Date(new Date().getTime()-1e3*1e3).getTime().toString()),s=r.list().map((f,u)=>t.list()[u]===f?null:f).filter(f=>f!==null).join("");return s},"shortCode"),ve=y;se("InheritClass",class{},{});let me=F(class extends R("InheritClass"){constructor(){super(...arguments),q(this,"component",null),q(this,"__definition",{}),q(this,"__classType","Processor"),this.processors=me.processors,this.process=me.process.bind(this),this.processObject=me.processObject.bind(this),this.setProcessor=me.setProcessor.bind(this),this.execute=me.execute.bind(this)}static setProcessor(o){typeof o=="function"&&o.name!==""&&(this.processors[o.name]=o)}static execute(o,t,r){var s=typeof o<"u"&&o!==null?o.processorHandler:this;return s.processors[t].bind(s).apply(s,[o,...r.split(",")])}static process(o,t=null){var r=t!==null?t.processorHandler:ue(me,{component:null});return typeof o=="string"&&Object.keys(r.processors).map(function(s){[...o.matchAll(new RegExp("\\$"+s+"\\((.*)\\).*","g"))].map(function(f){var u=`$${s}(${f[1]})`;o=o.replace(u,r.execute.bind(r).call(r,t,s,f[1]))})}),o}static processObject(o,t=null){var r=t===null?this:t.processorHandler;return typeof r>"u"&&(r=new me({component:t})),typeof o=="object"?Object.keys(o).map(function(s){typeof o[s]=="object"&&!o[s].hasOwnProperty.call(o[s],"call")?o[s]=r.processObject.bind(r)(o[s],t):typeof o[s]=="string"&&(o[s]=r.process.bind(r)(o[s],t))}):typeof o=="string"&&(o=r.process.bind(r)(o,t)),o}},"_Processor"),H=me;C(H,"Processor"),q(H,"processors",{config(o,t){return l.CONFIG.get(t,"")},ENV(o,t){return typeof process<"u"?process.env[t]:""},global(o,t){return typeof be<"u"?be[t]:""}}),H.__definition={},H.__classType="Processor",Ce(H,"com.qcobjects"),de(H);let ee=F(class{static get instance(){if(this._instance===null){var o=new ee;o._CONFIG={relativeImportPath:"",remoteImportsPath:"",remoteSDKPath:"https://sdk.qcobjects.dev/",asynchronousImportsLoad:!1,removePackageScriptAfterLoading:!0,componentsBasePath:"",delayForReady:0,preserveComponentBodyTag:!1,useConfigService:!1,routingWay:"hash",useSDK:!0,useLocalSDK:!1,basePath:Ze},o._CONFIG_ENC=null,this._instance=o}return this._instance}static set instance(o){this._instance=o}},"_ConfigSettings"),$=ee;C($,"ConfigSettings"),q($,"_instance",null),q($,"_CONFIG_ENC",null),p.ConfigSettings=$,se("CONFIG",Object,{get _CONFIG_ENC(){return R("ConfigSettings").instance._CONFIG_ENC},get _CONFIG(){return R("ConfigSettings").instance._CONFIG},set(o,t){w.debug(`CONFIG.set  ${o}: ${t}`),o==="basePath"&&(Ze=t);var r;try{r=function(s){s._CONFIG_ENC===null&&(s._CONFIG_ENC=R("_Crypt").encrypt(Ie({}),ut));var f=s._CONFIG_ENC.valueOf(),u=s._CONFIG.valueOf();return x(u,He(f))}(R("ConfigSettings").instance)}catch(s){r={},console.error(s),w.debug("failed to encrypt config")}r[o]=t,R("ConfigSettings").instance._CONFIG_ENC=De(r),Object.hasOwnProperty.call(R("ConfigSettings").instance,"_CONFIG")&&Object.hasOwnProperty.call(R("ConfigSettings").instance._CONFIG,o)&&(R("ConfigSettings").instance._CONFIG[o]=t)},get(o,t){var r;try{var s=function(f){f._CONFIG_ENC===null&&(f._CONFIG_ENC=R("_Crypt").encrypt(Ie({}),ut));var u=f._CONFIG_ENC.valueOf(),h=f._CONFIG.valueOf();return x(h,He(u))}(R("ConfigSettings").instance);typeof s[o]<"u"?r=s[o]:typeof t<"u"&&(r=t)}catch(f){console.error(f),w.debug("Something wrong when trying to get CONFIG values"),w.debug("No config value for: "+o),r=t}return H.processObject.call(H,r)}}),X(Dt),X(Re),X(Ve),X(R),X(qe),X(y),X(L),X(ne);var B=C(function(o){return!!(typeof o=="object"&&Object.hasOwnProperty.call(o,"__classType")&&o.__instanceID&&Object.hasOwnProperty.call(o,"__definition")&&typeof o.__definition<"u")},"isQCObjects_Object"),Z=C(function(o){return!!(typeof o=="function"&&!o.__instanceID&&o.__definition&&typeof o.__definition<"u"&&o.__definition.__classType)},"isQCObjects_Class"),oe=C(function(o,t){return i.hasOwnProperty.call(i,o)&&typeof i[o]<"u"&&i[o].hasOwnProperty.call(i[o],"length")&&i[o].length>0&&typeof t<"u"&&t.hasOwnProperty.call(t,"length")&&t.length>0?(t.filter(function(r){return Z(r)}).map(function(r){r.__definition.__namespace=o,r.__namespace=o}),i[o]=i[o].concat(t)):typeof t<"u"&&(typeof t=="object"&&t.hasOwnProperty.call(t,"length")?t.filter(function(r){return Z(r)}).map(function(r){r.__definition.__namespace=o,r.__namespace=o}):Z(t)&&(t.__definition.__namespace=o,t.__namespace=o),i[o]=t),Object.hasOwnProperty.call(i,o)&&i[o].map(function(r){z(r,o)}),Object.hasOwnProperty.call(i,o)?i[o]:void 0},"Package");oe.prototype.toString=function(){return"Package(namespace, classes) { [QCObjects native code] }"},oe("com.qcobjects",[H]);var Je=C(function(o){let r=oe(o).filter(s=>Z(s)).map(s=>({[s.__definition.__classType]:s})).reduce((s,f)=>Object.assign(s,f));return o.split(".").map(s=>({[s]:r})).reverse().reduce((s,f)=>(f[Object.keys(f)]=s,f))},"NamespaceRef"),nt=C(function(){var o,t=C(function(){},"ready"),r=!1;if(!(arguments.length<1)){arguments.length===1?o=arguments[0]:arguments.length===2?(o=arguments[0],t=arguments[1]):arguments.length>2&&(o=arguments[0],t=arguments[1],r=arguments[2],w.debug("[Import] Setting external="+r.toString()+" resource to import: "+o)),r?w.debug("[Import] Registering external resource to import: "+o):w.debug("[Import] Registering local resource to import: "+o);var s;return E?(s=new Promise(function(f,u){var h=C(function(){var M=!1,G=0;for(var W in i)G++;return G<I.length?M=!1:M=!0,M},"allPackagesImported"),v=C(function(M){I.push(t),h()&&I.map(function(G){P.push(G)}),E&&l.CONFIG.get("removePackageScriptAfterLoading")&&M.target.remove(),f.call(s,{_imported_:M.target,_package_name_:o})},"readyImported");if(!i.hasOwnProperty.call(i,o)){var O=qe("script");O.type=l.CONFIG.get("sourceType","text/javascript"),O.async=!!l.CONFIG.get("asynchronousImportsLoad"),O.onreadystatechange=function(){O.readyState==="complete"&&v.call()},O.onload=v,O.onerror=function(M){u.call(s,{_imported_:O,_package_name_:o})},O.src=r?l.CONFIG.get("remoteImportsPath")+o+".js":Ze+l.CONFIG.get("relativeImportPath")+o+".js",document.getElementsByTagName("head")[0].appendChild(O)}}),s.catch(function(){w.debug("Import: Error loading a package ")})):s=new Promise(function(f,u){try{var h=ye(o),v="";if(h!==null)v=h+"/"+o;else{var O=ye(o+".js");O!==null?v=O+"/"+o+".js":v=Ze+l.CONFIG.get("relativeImportPath")+o}try{f.call(s,{_imported_:tt(`${v}`),_package_name_:o})}catch(M){u.call(s,{_imported_:null,_package_name_:o,error:M})}}catch(M){u.call(s,{_imported_:null,_package_name_:o,error:M})}}).catch(function(f){w.debug("Something happened when importing "+o),console.warn(f)}),s.catch(function(f){w.warn(Ie(f))}),s}},"Import");nt.prototype.toString=function(){return"Import(packagename,ready,external) { [QCObjects native code] }"},E&&(Element.prototype.Cast=C(F(function(r){r.__definition.body=this;var r=ue(r);return r},"QC_Object"),"QC_Object")),se("TagElements",Array,{show(){this.map(function(o){return o.style.opacity=1})},hide(){this.map(function(o){return o.style.opacity=0})},effect(){var o=[...arguments].slice(1),t=arguments[0];(typeof t).toLowerCase()==="string"&&(t=R(t)),this.map(function(r){return t.apply.apply(t,[r].concat(o))})},findElements(o){var t=ue(R("TagElements"));if(E)for(var r in this)typeof r=="number"&&typeof this[r]!="function"&&this[r].hasOwnProperty.call(this[r],"subelements")&&t.push(this[r].subelements(o));return t}});var ft=C(function(o,t){var r=ue(R("TagElements"));if(E)for(var s=document.subelements(o),f=[],u=0;u<s.length;u++)typeof t<"u"&&s[u].hasOwnProperty.call(s[u],"innerHTML")&&(s[u].innerHTML=t),f.indexOf(u)<0&&(r.push(s[u]),f.push(u));return r},"Tag"),Ke=he,it=C(function(o){var t=C(function(){P.map(function(r,s){typeof r=="function"&&(r.call(),delete P[s])})},"_execReady");l.CONFIG.get("delayForReady")>0?E?setTimeout(t.bind(window),l.CONFIG.get("delayForReady")):typeof be<"u"&&setTimeout(t.bind(be),l.CONFIG.get("delayForReady")):t.call(l)},"_Ready");E?(window.onload=it,Tt&&document.addEventListener("deviceready",it,Et)):be.onload=it;class Qe extends R("InheritClass"){constructor({instance:t,name:r,fget:s,fset:f,value:u}){super({instance:t,name:r,fget:s,fset:f,value:u}),this._new_({instance:t,name:r,fget:s,fset:f,value:u})}_new_({instance:t,name:v,fget:s,fset:f,value:u}){var h=this,v=typeof v>"u"?N(h):v;Object.defineProperty(t,v,{set(O){let M=O;w.debug("value changed "+v);var G;typeof f<"u"&&typeof f=="function"?G=f(M):G=M,t["_"+v]=G},get(){let O=t["_"+v];w.debug("returning value "+v);var M=C(function(W){return typeof W=="object"&&Object.hasOwnProperty.call(W,"value")?W.value:W},"is_ddo"),G;return typeof s<"u"&&typeof s=="function"?G=s(M(O)):G=M(O),G}})}}F(Qe,"DDO"),C(Qe,"DDO"),X(Qe);class Ne{constructor({component:t,template:r}){q(this,"template",""),q(this,"__definition",{}),this.component=t,this.template=r}assign(t){var r=this;if(typeof r.component>"u")throw new Error("DefaultTemplateHandler.assign: component is undefined");if(typeof r.component.processorHandler>"u")throw new Error("DefaultTemplateHandler.assign: component.processorHandler is undefined");var s=r.component.processorHandler;s.component=r.component;var f=typeof r.template<"u"?r.template:"";typeof t=="object"?[...Object.keys(t)].map(function(u){var h=t[u];if(typeof h=="string"||typeof h=="number"||!isNaN(h))try{h=H.processObject.bind(s).call(s,h,r.component),f=f.replace(new RegExp(`{{${u}}}`,"g"),h)}catch(v){throw w.warn(`${r.component.name} could not parse processors.`),Error(`${r.component.name} could not parse processors. Reason: ${v.message}`)}}):w.debug(`${r.component.name}.data is not an object`);try{f=H.processObject.call(s,f,r.component)}catch(u){throw w.warn(`${r.component.name} could not parse processors.`),Error(`${r.component.name} could not parse processors. Reason: ${u.message}`)}return f}}F(Ne,"DefaultTemplateHandler"),C(Ne,"DefaultTemplateHandler"),Ne.__definition={},Ce(Ne,"com.qcobjects");var ct=C(function(o,t){let r=o.path.replace(/{(.*?)}/g,"(?<$1>.*)");return{...[...t.matchAll(new RegExp(r,"g"))][0].groups}},"__routing_params__"),rt=C(function(o,t){return o.filter(function(r){var s=r.path.replace(/{(.*?)}/g,"(?<$1>.*)");return new RegExp(s,"g").test(t)}).reverse()},"__valid_routings__"),Me=C(function(o,t){return o.includes(t)},"__valid_routing_way__"),Ae=C(function(o,t){var r=o.getAttribute("shadowed")===null,s=o.getAttribute("template-source")===null,f=o.getAttribute("shadowed")==="true",u=o.getAttribute("cached")===null,h=o.getAttribute("cached")==="true",v=typeof l.CONFIG.get("tplextension")<"u"?l.CONFIG.get("tplextension"):"html";v=o.getAttribute("tplextension")!==null?o.getAttribute("tplextension"):v;var O=o.getAttribute("name"),M=o.getAttribute("componentClass")!==null?o.getAttribute("componentClass"):"Component";let G=l.CONFIG.get("preserveComponentBodyTag")?O!==null?"com.qcobjects.components."+O+".ComponentBody":"com.qcobjects.components.ComponentBody":M;O=O!==null?O:R(G)&&typeof R(G).name<"u"?R(G).name:"";var W=R(G),V=G!=="Component"&&typeof W<"u"&&typeof W.tplsource=="string"&&W.tplsource!=="",ie=s&&V?W.tplsource:s?"default":o.getAttribute("template-source");w.debug(`template source for  ${O} is ${ie} `),w.debug(`type for ${O} is ${L(W)} `);var pe;pe=Ue({COMPONENTS_BASE_PATH:l.CONFIG.get("componentsBasePath"),COMPONENT_NAME:O,TPLEXTENSION:v,TPL_SOURCE:ie}),l.CONFIG.get("preserveComponentBodyTag")&&oe(O!==""?"com.qcobjects.components."+O:"com.qcobjects.components",[se("ComponentBody",R("Component"),{name:O,tplsource:ie,tplextension:v,reload:!0})]);var Q=C(function(){var Oe=r?W&&W.shadowed||R("Component").shadowed:f,Te={__parent__:t,name:O,cached:u?R("Component").cached:h,shadowed:Oe,tplextension:v,body:l.CONFIG.get("preserveComponentBodyTag")?qe("componentBody"):o,templateURI:pe,tplsource:ie};(typeof O>"u"||O===""||O===null)&&delete Te.name,pe===""&&delete Te.templateURI;var Se=ue(W,Te);return l.CONFIG.get("preserveComponentBodyTag")&&o.append(Se),Se},"__create_component_instance_"),Pe=Q.call(this);return Pe},"_buildComponentFromElement_"),ot=C(function(o,t){var r=[];return E?r=o.map(function(s){return Ae(s,t)}):w.debug("[_buildComponentsFromElements_] not implemented for Non-Browser environments"),r},"_buildComponentsFromElements_");oe("com.qcobjects",[C(F(class extends R("InheritClass"){constructor({__parent__:t,templateURI:r="",template:s,tplsource:f="default",tplextension:u,url:h="",name:v="",method:O="GET",data:M={},reload:G=!1,shadowed:W=!1,cached:V=!0,_body:ie=qe("div"),__promise__:pe=null,__shadowRoot:Q,body:Pe,shadowRoot:Oe,splashScreenComponent:Te,controller:Se,view:ze}){if(arguments.length<1)throw Error("No arguments in component. You must at least give one argument.");super({__parent__:t,templateURI:r,template:s,tplextension:u,tplsource:f,url:h,name:v,method:O,data:M,reload:G,shadowed:W,cached:V,_body:ie,__promise__:pe,__shadowRoot:Q,body:Pe,shadowRoot:Oe,splashScreenComponent:Te,controller:Se,view:ze}),q(this,"validRoutingWays",["pathname","hash","search"]),q(this,"basePath",Ze),q(this,"domain",st),q(this,"templateHandler","DefaultTemplateHandler"),q(this,"processorHandler",null),q(this,"routingWay",null),q(this,"routingNodes",[]),q(this,"routings",[]),q(this,"routingPath",""),q(this,"routingPaths",[]),q(this,"_componentHelpers",[]),q(this,"subcomponents",[]),q(this,"splashScreenComponent"),q(this,"controller"),q(this,"view"),q(this,"effect"),q(this,"method","GET"),q(this,"cached",!0),q(this,"__promise__",null),q(this,"__namespace");var _e=this;typeof _e.name>"u"&&w.warn("A name is not defined for "+L(_e)),_e.routingWay=l.CONFIG.get("routingWay"),_e.processorHandler=ue(H,{component:_e}),_e.data=typeof _e.data>"u"||_e.data===null?{}:_e.data,_e.data=Object.assign(_e.data,_e.dataAttributes),_e.createServiceInstance().then(function(wt){typeof _e.__new__=="function"&&_e.__new__.call(_e,_e),_e._generateRoutingPaths(_e.body).then(function(){_e._reroute_().then(function(){return _e.rebuild().then(function(){w.info(`Component._new_ The component ${_e.name} was built successfully!`)}).catch(function(ke){w.warn(`Component._new_ Something went wrong building the component ${_e.name}`),console.error(ke)})})})})}set body(t){var r=this;r._body=t}get body(){var t=this;return t._body}set cacheIndex(t){w.debug("[cacheIndex] This property is readonly")}get cacheIndex(){var t=this,r=Ie(t.routingPath);return dt.encode(t.name+r)}set parsedAssignmentText(t){w.debug("[parsedAssignmentText] This property is readonly")}get parsedAssignmentText(){var t=this;if(t._parsedAssignmentText=t.parseTemplate(t.template),typeof t._parsedAssignmentText>"u")throw Error(`[Component][${this.name}][parsedAssignmentText] Could not generate content!`);return t._parsedAssignmentText}set shadowRoot(t){var r=this;typeof r.__shadowRoot>"u"?r.__shadowRoot=t:w.debug("[shadowRoot] This property can only be assigned once!")}get shadowRoot(){var t=this;return t.__shadowRoot}set routingSelected(t){w.debug("[routingSelected] This is a read-only property of the component")}get routingSelected(){var t=this;return rt(t.routings,t.routingPath)}set routingParams(t){w.debug("[routingParams] This is a read-only property of the component")}get routingParams(){var t=this;return[{}].concat(t.routingSelected.map(function(r){return ct(r,t.routingPath)})).reduce(function(r,s,f){return Object.assign(r,s)})}createServiceInstance(){var t=this,r=t.body,s=this.data,f,u=t.getClass().__definition,h=E&&r.getAttribute("serviceClass")!==null?r.getAttribute("serviceClass"):null;return new Promise(function(v,O){var M=!!(Object.hasOwnProperty.call(r,"enableServiceClass")&&r.enableServiceClass||!Object.hasOwnProperty.call(r,"enableServiceClass")),G=!!(E&&r.getAttribute("response-to")!==null&&r.getAttribute("response-to")==="data"),W=!!(E&&r.getAttribute("response-to")!==null&&r.getAttribute("response-to")==="template");if(M&&h!==null&&(f=R(h)),!G&&u&&Object.hasOwnProperty.call(u,"responseTo")?G=u.responseTo==="data":!G&&Object.hasOwnProperty.call(R("Component"),"responseTo")&&(G=R("Component").responseTo==="data"),!W&&u&&Object.hasOwnProperty.call(u,"responseTo")?W=u.responseTo==="template":!W&&Object.hasOwnProperty.call(R("Component"),"responseTo")&&(W=R("Component").responseTo==="template"),typeof f<"u"&&typeof M<"u"&&M===!0&&(G||W)){w.info("Loading service "+h);var V=ue(f,{data:s});We(V).then(function({request:ie,service:pe}){var Q;typeof pe.JSONresponse<"u"&&pe.JSONresponse!==null?Q=pe.JSONresponse:Q=pe.template,G&&(typeof s=="object"&&typeof Q=="object"?s=Object.assign(s,Q):s=Q,t.data=s),t.serviceInstance=V,t.serviceData=s,W&&(t.template=Q),v(Q)},function(ie){w.debug(`Service loading rejected for ${h} in ${t.name}`),O(ie)}).catch(function(ie){throw w.debug("Something went wroing while trying to load the service "+h),Error(`Error loading ${h} for ${t.name}. Detail: ${ie}`)})}else v(null)})}_bindroute_(){var t=this;t._bindroute_.loaded?w.debug(`Routes already bound to popstate events for ${t.name}`):(E&&t.hostElements("a").map(function(r){return r.oldclick=r.onclick,r.onclick=function(s){var f=!0;l.global.get("routingPaths")||l.global.set("routingPaths",[]);var u=l.CONFIG.get("routingWay"),h=s.target[u];return l.global.get("routingPaths").includes(h)&&s.target[u]!==document.location[u]&&s.target.href!==document.location.href?(w.debug("A ROUTING WAS FOUND: "+h),window.history.pushState({href:s.target.href},s.target.href,s.target.href),R("Component").route(),f=!1):w.debug("NO ROUTING FOUND FOR: "+h),typeof s.target.oldclick<"u"&&typeof s.target.oldclick=="function"&&s.target.oldclick.call(s.target,s),f},null}),this._bindroute_.loaded=!0)}done(t){var r;if(typeof t<"u"){var{request:s,component:f}=t;r=Promise.resolve({request:s,component:f})}return r}createControllerInstance(){var t;if(E){if(typeof this.body>"u")throw new Error("The component has no body");var r=this.body.getAttribute("controllerClass");r||(r="Controller"),t=R(r),typeof t<"u"&&(this.controller=ue(t,{component:this}))}return new Promise((s,f)=>{if(E&&typeof t<"u"&&typeof this.controller<"u"){if(typeof this.controller.done=="function")try{this.controller.done.call(this.controller)}catch(u){throw Error(u)}else w.debug(`${r} does not have a done() method.`),f(`${r} does not have a done() method.`);typeof this.controller.createRoutingController=="function"?this.controller.createRoutingController.call(this.controller):w.debug(`${r} does not have a createRoutingController() method.`)}s({component:this,controller:this.controller})})}createEffectInstance(){var t=this;return new Promise(function(r,s){if(E){var f=t.body.getAttribute("effectClass"),u=t.body.getAttribute("apply-effect-to");u=u!==null?u:"load",f!==null&&u==="observe"?t.applyObserveTransitionEffect(f):f!==null&&u==="load"&&t.applyTransitionEffect(f)}r({component:t,effect:t.effect})})}createViewInstance(){var t=this;return new Promise(function(r,s){var f=E?t.body.getAttribute("viewClass"):null;if(f!==null){var u=R(f);typeof u<"u"&&(t.view=ue(u,{component:t}),Object.hasOwnProperty.call(t.view,"done")&&typeof t.view.done=="function"&&t.view.done.call(t.view))}r({component:t,view:t.view})})}__done__(){var t=this,r=C(function(){if(typeof t>"u")throw new Error("componentDone() has lost its context");if(typeof t.body>"u")throw new Error("The component has no body");t.createViewInstance(),t.createControllerInstance(),t.createEffectInstance(),w.debug(`Trying to run component helpers for ${t.name}...`);try{t.runComponentHelpers(),w.debug(`Component helpers for ${t.name} executed.`)}catch(s){throw w.debug(`Component helpers for ${t.name} could not be executed.`),Error(s)}t.subcomponents=t.__buildSubComponents__(),t._bindroute_(),E&&t.body.setAttribute("loaded",!0)},"componentDone");return new Promise(function(s,f){try{s(r.call(t))}catch(u){f(u)}})}hostElements(t){var r=this,s=[];return E&&(s=r.shadowed&&typeof r.shadowRoot<"u"?r.shadowRoot.subelements(t):r.body.subelements(t)),s}get subtags(){var t=this,r=St;return t.hostElements(r)}get bodyAttributes(){var t=this,r=t.body;return E?[...r.getAttributeNames()].map(s=>({[s]:r.getAttribute(s)})).reduce((s,f,u)=>Object.assign(s,f)):{}}get dataAttributes(){var t=this,r=t.body;return E?[{}].concat([...r.getAttributeNames()].filter(s=>s.startsWith("data-")).map(s=>({[s.split("-")[1]]:r.getAttribute(s)}))).reduce((s,f,u)=>Object.assign(s,f)):{}}__buildSubComponents__(t=!1){var r=this,s=r.subtags;return t||(s=s.filter(f=>f.getAttribute("loaded")!=="true")),(typeof r<"u"||r.subcomponents.length<1)&&(r.subcomponents=ot(s,r)),r.subcomponents}fail(t){var r;if(typeof t<"u"){var{error:s,component:f}=t;r=Promise.resolve({error:s,component:f})}return r}set(t,r){this[t]=r}get(t){return this[t]}feedComponent(){var t=this;w.debug(`[Component][${this.name}][feedComponent] start feeding component...`);var r=C(function(u){if(typeof u.container>"u"&&typeof u.body>"u"){w.warn("COMPONENT {{NAME}} has an undefined container and body".replace("{{NAME}}",u.name));return}var h=typeof u.container>"u"||u.container===null?u.body:u.container,v=u.parsedAssignmentText;if(u.innerHTML=v,u.shadowed){w.debug("COMPONENT {{NAME}} is shadowed".replace("{{NAME}}",u.name)),w.debug("Preparing slots for Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",u.name));var O=qe("div");h.subelements("[slot]").map(function(W){W.parentElement===h&&O.appendChild(W)}),w.debug("Creating shadowedContainer for COMPONENT {{NAME}}".replace("{{NAME}}",u.name));var M=qe("div");M.classList.add("shadowHost");try{u.shadowRoot=M.attachShadow({mode:"open"})}catch{try{w.debug("Shadowed COMPONENT {{NAME}} is repeated".replace("{{NAME}}",u.name)),u.shadowRoot=M.shadowRoot}catch{w.warn("Shadowed COMPONENT {{NAME}} is not allowed on this browser".replace("{{NAME}}",u.name))}}if(typeof u.shadowRoot<"u"&&u.shadowRoot!==null){u.reload?(w.debug("FORCED RELOADING OF CONTAINER FOR Shadowed COMPONENT {{NAME}}".replace("{{NAME}}",u.name)),M.shadowRoot.innerHTML=u.innerHTML):(O.innerHTML=u.parseTemplate(O.innerHTML),w.debug("ADDING Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",u.name)),M.shadowRoot.innerHTML+=u.innerHTML),w.debug("ADDING Slots to Shadowed COMPONENT {{NAME}} ".replace("{{NAME}}",u.name)),M.innerHTML+=O.innerHTML,w.debug("APPENDING Shadowed COMPONENT {{NAME}} to Container ".replace("{{NAME}}",u.name));var G=h.querySelector(".shadowHost");typeof G<"u"&&G!==null?(w.debug("Shadowed Container for COMPONENT {{NAME}} is already present in the tree ".replace("{{NAME}}",u.name)),u.shadowRoot.innerHTML=M.shadowRoot.innerHTML):h.appendChild(M)}else w.warn("Shadowed COMPONENT {{NAME}} is bad configured".replace("{{NAME}}",u.name))}else u.reload?(w.debug("FORCED RELOADING OF CONTAINER FOR COMPONENT {{NAME}}".replace("{{NAME}}",u.name)),h.innerHTML=u.innerHTML):h&&u?(w.debug("ADDING COMPONENT {{NAME}} ".replace("{{NAME}}",u.name)),h.innerHTML+=u.innerHTML):w.warn("COMPONENT {{NAME}} is not added to the DOM".replace("{{NAME}}",u.name))},"_feedComponent_InBrowser"),s=C(function(u){var h=u.parsedAssignmentText;u.innerHTML=h},"_feedComponent_InNode"),f;if(!ne(t,"Component")){w.warn("Trying to feed a non component object");return}return E?f=r(t):f=s(t),f}rebuild(){var t=this,r=new Promise(function(s,f){if((typeof t>"u"||t===null)&&f("Component is undefined"),B(t)&&ne(t,"Component"))switch(!0){case t.get("tplsource")==="none":w.debug("Component "+t.name+" has specified template-source=none, so no template load was done");var u={request:null,component:t};t.__done__().then(function(){typeof t.done=="function"&&t.done.call(t,u),s.call(r,u)},function(){f.call(r,u)});break;case t.get("tplsource")==="inline":w.debug("Component "+t.name+" has specified template-source=inline, so it is assumed that template is already declared"),async function(h){h.feedComponent.bind(h)()}(t);var u={request:null,component:t};t.__done__().then(function(){typeof t.done=="function"&&t.done.call(t,u),s.call(r,u)},function(){f.call(r,u)});break;case(t.get("tplsource")==="default"&&t.get("templateURI")!==""):t.set("url",t.get("basePath")+t.get("templateURI")),Xe(t,!1).then(function(h){s.call(r,h)},function(h){f.call(r,h)});break;case(t.get("tplsource")==="external"&&t.get("templateURI")!==""):t.set("url",t.get("templateURI")),Xe(t,!1).then(function(h){s.call(r,h)},function(h){f.call(r,h)});break;case(t.get("tplsource")==="default"&&t.get("templateURI","")===""):w.debug(`Component ${t.name} template-source is ${t.get("tplsource")} and no templateURI is present`),f.call(r,`Component ${t.name} template-source is ${t.get("tplsource")} and no templateURI is present`);break;default:w.debug("Component "+t.name+" will not be rebuilt because no templateURI is present"),f.call(r,{request:null,component:t});break}});return r}Cast(t){let r=gt(t).map(s=>s.name.replace(/bound /g,"")).map(s=>({[s]:t[s].bind(this)})).reduce((s,f)=>Object.assign(s,f),{});return S(this,r)}static route(){var t=this,r,s=!!(B(t)&&ne(t,"Component")),f=C(function(u){var h=[],v=u.filter(function(O){return typeof O<"u"}).map(function(O){if(typeof O.name<"u")h.push(O.name);else throw new Error(L(O)+" does not have a name");return new Promise(function(M,G){var W;return typeof O<"u"&&O._reroute_?W=O._reroute_().then(function(){return O.reload=!0,O.rebuild()}).then(function(V){if(Object.hasOwnProperty.call(O,"subcomponents")&&typeof O.subcomponents<"u"&&O.subcomponents.length>0)return w.debug("LOOKING FOR ROUTINGS IN SUBCOMPONENTS FOR: "+O.name),f.call(O,O.subcomponents);w.debug("No subcomponents to look for routings in: "+O.name),O.subtags.length>0&&(O.subcomponents=O.__buildSubComponents__(!0)),M(O)}):typeof O<"u"&&G("Component "+O.name+" is not an instance of Component"),W})});return Promise.all(v).then(function(){w.debug("ROUTING COMPLETED FOR "+h.join(", "))}).catch(function(O){w.warn("ROUTING FAILED FOR "+h.join(", ")+": "+O)})},"__route__");if(s||l.componentsStack)s&&w.debug("loading routings for instance "+t.name),r=f.call(t,s?t.subcomponents:l.componentsStack);else throw w.debug("An undetermined result expected if load routings. So will not be loaded this time."),Error("There is no valid instance and no components stack available to apply rountings");return r}fullscreen(){if(E){var t=this.body;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}}closefullscreen(){E&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())}_generateRoutingPaths(t){var r=this;return new Promise(function(s,f){E&&Me(r.validRoutingWays,r.routingWay)&&typeof t<"u"&&(r.innerHTML=t.innerHTML,r.routingNodes=t.subelements("routing"),r.routings=[],r.routingNodes.map(function(u,h){var v=u.getAttributeNames(),O={};v.map(function(M,G){O[v[G]]=u.getAttribute(v[G])}),r.routings.push(O),r.routingPaths||(r.routingPaths=[]),r.routingPaths.includes(O.path)||r.routingPaths.push(O.path),l.global.get("routingPaths")||l.global.set("routingPaths",[]),l.global.get("routingPaths").includes(O.path)||l.global.get("routingPaths").push(O.path)})),s()})}parseTemplate(t){var r=this,s,f=t;if(Object.hasOwnProperty.call(r,"templateHandler")){var u=r.templateHandler;w.debug(`[Component][${this.name}][parseTemplate] Attempting to use ${u} ...`);var h=R(u),v=ue(h,{component:r,template:f});v.component=r;var O=r.data;if(Object.hasOwnProperty.call(r,"assignRoutingParams")&&r.assignRoutingParams)try{O=Object.assign(O,r.routingParams)}catch{w.debug("[parseTemplate] it was not possible to assign the routing params to the template")}s=v.assign(O)}else w.debug(`[Component][${this.name}][parseTemplate] No value for templateHandler. Using raw content...`),s=f;return s}_reroute_(){var t=this;return new Promise(function(r,s){E&&Me(t.validRoutingWays,t.routingWay)&&(t.routingPath=document.location[t.routingWay],t.routingSelected.map(function(f,u){var h=Ue({COMPONENTS_BASE_PATH:l.CONFIG.get("componentsBasePath"),COMPONENT_NAME:f.name.toString(),TPLEXTENSION:Object.hasOwnProperty.call(f,"tplextension")?f.tplextension:t.tplextension,TPL_SOURCE:"default"});t.templateURI=h}),t.routingSelected.length>0&&(t.template="",t.body.innerHTML="")),r(t)})}lazyLoadImages(){if(E){var t=this,r=t.shadowed?t.shadowRoot:t.body,s=[...r.subelements("img[lazy-src]")],f=C(function(h){h.setAttribute("src",h.getAttribute("lazy-src")),h.onload=()=>{h.removeAttribute("lazy-src")}},"_lazyLoadImages");if("IntersectionObserver"in window){var u=new IntersectionObserver((h,v)=>{h.forEach(O=>{O.isIntersecting&&(f(O.target),v.unobserve(O.target))})});s.map(function(h){return u.observe(h)})}else s.map(f)}return null}applyTransitionEffect(t){var r=R(t);if(typeof r>"u")throw Error(`${t} not found.`);typeof r<"u"&&ne(r,"TransitionEffect")?(this.effect=ue(r,{component:this}),this.effect.apply(this.effect.defaultParams)):w.debug(`${t} is ${L(r)} but is not a TransitionEffect`)}applyObserveTransitionEffect(t){if(E){var r=this,s=r.shadowed?r.shadowRoot.host:r.body,f=C(function(h){r.applyTransitionEffect(t)},"_applyEffect_");if("IntersectionObserver"in window){var u=new IntersectionObserver((h,v)=>{h.forEach(O=>{O.isIntersecting&&(f(O.target),v.unobserve(O.target))})});u.observe(s)}else f(s)}return null}scrollIntoHash(){if(E){var t=this;if(document.location.hash!==""){var r=t.shadowed?t.shadowRoot:t.body;r.subelements(document.location.hash).map(function(s){typeof s.scrollIntoView=="function"&&s.scrollIntoView(l.CONFIG.get("scrollIntoHash",{behavior:"auto",block:"top",inline:"top"}))})}}}i18n_translate(){if(E&&l.CONFIG.get("use_i18n")){var t=this,r=t.shadowed?t.shadowRoot:t.body,s=l.CONFIG.get("lang","en"),f=navigator.language.slice(0,2),u=l.global.get("i18n");if(s!==f&&typeof u=="object"&&Object.hasOwnProperty.call(u,"messages")){var h=C(function(){var v=this;return new Promise(function(O,M){var G=u.messages.filter(function(W){return Object.hasOwnProperty.call(W,s)&&Object.hasOwnProperty.call(W,f)});r.subelements("ul,li,h1,h2,h3,a,b,p,input,textarea,summary,details,option,component").map(function(W){return G.map(function(V){var ie=W.innerHTML;return ie=ie.replace(new RegExp(`${V[s]}`,"g"),V[f]),W.innerHTML=ie,null}),W}),O()})},"callback_i18n");h.call(t).then(function(){w.debug("i18n loaded for component: "+t.name)})}}}addComponentHelper(t){var r=this;r._componentHelpers.push(t)}runComponentHelpers(){if(E){var t=this,r=[];r.push(t.i18n_translate.bind(t)),r.push(t.scrollIntoHash.bind(t)),r.push(t.lazyLoadImages.bind(t)),r=r.concat(t._componentHelpers),r.map(function(s){w.debug(`Executing ${s.name} as component helper for ${t.name}...`),s()})}}},"Component"),"Component")]),gt(R("Component")).map(function(o){te(o)}),E&&window.addEventListener("popstate",function(o){o.stopImmediatePropagation(),o.stopPropagation(),R("Component").route()}),oe("com.qcobjects.controllers",[C(F(class extends R("InheritClass"){constructor({component:t,dependencies:r}){if(super({component:t,dependencies:r}),q(this,"component",null),q(this,"dependencies",[]),this.component=t,this.dependencies=r,typeof this.component>"u"||this.component==="null")throw Error(`${L(this)} must be called with a component`)}routingSelectedAttr(t){return this.component.routingSelected.map(function(r){return r[t]}).filter(function(r){return r}).pop()}isTouchable(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}onpress(t,r){try{this.isTouchable()?this.component.body.subelements(t)[0].addEventListener("touchstart",r,{passive:!0}):this.component.body.subelements(t)[0].addEventListener("click",r,{passive:!0})}catch{w.debug("No button to assign press event")}}createRoutingController(){var t=this,r=t.component,s=t.routingSelectedAttr("controllerclass");if(typeof s<"u"){var f=R(s);typeof f<"u"&&(r.routingController=ue(f,{component:r}),Object.hasOwnProperty.call(r.routingController,"done")&&typeof r.routingController.done=="function"&&r.routingController.done.call(r.routingController))}}done(){}},"Controller"),"Controller")]),oe("com.qcobjects.views",[C(F(class extends R("InheritClass"){constructor({component:t=void 0,dependencies:r=[]}){if(super(...arguments),typeof this.component>"u"||this.component==="null")throw Error(`${L(this)} must be called with a component`)}},"View"),"View")]),oe("com.qcobjects.api",[C(F(class extends R("InheritClass"){constructor(){super(...arguments),q(this,"kind","rest"),q(this,"domain",st),q(this,"basePath",Ze),q(this,"url",""),q(this,"method","GET"),q(this,"data",{}),q(this,"reload",!1),q(this,"cached",!1)}set(t,r){this[t]=r}get(t){return this[t]}},"Service"),"Service")]),oe("com.qcobjects.api.services",[C(F(class extends R("Service"){constructor(){super(...arguments),q(this,"method","GET"),q(this,"cached",!1),q(this,"headers",{"Content-Type":"application/json",charset:"utf-8"}),q(this,"JSONresponse",null)}done(t){w.debug("***** RECEIVED RESPONSE:"),w.debug(t.service.template),this.JSONresponse=JSON.parse(t.service.template)}},"JSONService"),"JSONService")]),oe("com.qcobjects.api.config",[C(F(class extends R("JSONService"){constructor(){super(...arguments),q(this,"method","GET"),q(this,"cached",!1),q(this,"configFileName","config.json"),q(this,"headers",{"Content-Type":"application/json",charset:"utf-8"}),q(this,"JSONresponse",null),this.set("url",this.get("basePath")+this.get("configFileName"))}done(t){w.debug("***** CONFIG LOADED:"),w.debug(t.service.template),this.JSONresponse=JSON.parse(t.service.template),Object.hasOwnProperty.call(this.JSONresponse,"__encoded__")&&(this.JSONresponse=JSON.parse(R("_Crypt").decrypt(this.JSONresponse.__encoded__,ut)));for(var r in this.JSONresponse)l.CONFIG.set(r,this.JSONresponse[r]);this.configLoaded.call(this)}fail(t){this.configLoaded.call(this)}},"ConfigService"),"ConfigService")]),oe("com.qcobjects.valueObjects",[C(F(class extends R("InheritClass"){constructor(){super(...arguments)}},"VO"),"VO")]);var Ue=C(({TPL_SOURCE:o,COMPONENTS_BASE_PATH:t,COMPONENT_NAME:r,TPLEXTENSION:s})=>o==="default"?`${t}${r}.${s}`:"","ComponentURI"),Xe=C(function(o,t){var r,s=C(function(h,v){return r=new Promise(function(O,M){var G=h.__promise__,W=Object.hasOwnProperty.call(h,"container")&&typeof h.container<"u"&&h.container!==null?h.container:h.body;if(W!==null){var V=C(function(Se){Se.feedComponent();var ze={request:Q,component:Se};O.call(G,ze)},"_feedComponent_");w.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",Ie(h.data)).replace("{{URL}}",h.url));var ie=C(function(){var Se=pe?0:200;if(Q.status===Se){var ze=Q.responseText;w.debug("Data received {{DATA}}".replace("{{DATA}}",Ie(ze))),w.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",h.name)),h.template=ze,h.cached&&typeof Te<"u"&&Te.save(h.name,h.template),V.call(this,h)}else{var _e={request:Q,component:h};M.call(G,_e)}},"_componentLoaded");if(typeof h.template=="string"&&h.template!=="")V.call(this,h);else{var pe=!!h.url.startsWith("file:"),Q=new XMLHttpRequest;if(pe){if("fetch"in l){w.debug("I can use fetch..."),w.debug("It is a file to be loaded, so I will try to use fetch");var Pe=fetch(h.url).then(Se=>{w.debug("I got a response from fetch, so I'll feed the component"),Se.text().then(ze=>{h.template=ze,V.call(this,h)})})}}else try{w.debug("Calling the url of component in async mode."),Q.open(h.method,h.url,!0)}catch{w.debug("Last try has failed... The component cannot be loaded.")}!Tt&&!pe&&Q.setRequestHeader("Content-Type","text/html"),pe||(Q.onload=ie);var Oe=C(function(Se){Se=!(typeof Se>"u"||!Se),w.debug("SENDING THE NORMAL REQUEST  "),Se?"fetch"in l||(w.debug("I have to try to load the file using xhr...  "),Q.send(null),Q.status===XMLHttpRequest.DONE&&ie.call(this)):(w.debug("Trying to send the data to the component...  "),Q.send(Ie(h.data)))},"_directLoad");if(h.cached&&!pe){w.debug("USING CACHE FOR COMPONENT: "+h.name);var Te=new Ve({index:h.cacheIndex,load(Se){Oe.call(this,pe)},alternate(Se){h.method==="GET"?(h.template=Se.cache.getCached(h.cacheIndex),V.call(this,h)):Oe.call(this,pe)}});be.lastCache=Te}else w.debug("NOT USING CACHE FOR COMPONENT: "+h.name),Oe.call(this,pe)}}else w.debug("CONTAINER DOESNT EXIST")}),r.then(function(O){return h.__done__().then(function(){var M;return typeof h.done=="function"&&(M=h.done.call(h,O)),Promise.resolve(M)})},function(O){var M;return typeof h.fail=="function"&&(M=h.fail.call(h,O)),Promise.reject(M)}).catch(function(O){w.debug("Something wrong loading the component")}),r},"_componentLoaderInBrowser"),f=C(function(h,v){return r=new Promise(function(O,M){var G=r,W=C(function(Q){Q.feedComponent();var Pe={request:null,component:Q};O.call(G,Pe)},"_feedComponent_");w.debug("LOADING COMPONENT DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",Ie(h.data)).replace("{{URL}}",h.url));var V=C(function(Q,Pe){if(Q){var Te={request:null,component:h};M.call(G,Te)}else{var Oe=Pe.toString();w.debug("Data received {{DATA}}".replace("{{DATA}}",Ie(Oe))),w.debug("CREATING COMPONENT {{NAME}}".replace("{{NAME}}",h.name)),h.template=Oe,h.cached&&typeof pe<"u"&&pe.save(h.name,h.template),W.call(this,h)}},"_componentLoaded");if(typeof h.template=="string"&&h.template!=="")W.call(this,h);else{w.debug("Loading the component as a local file in server...");var ie=C(function(Q){let Pe=tt("fs");w.debug("SENDING THE NORMAL REQUEST  "),Pe.readFile(h.url,V)},"_directLoad");if(h.cached){w.debug("USING CACHE FOR COMPONENT: "+h.name);var pe=new Ve({index:h.cacheIndex,load(Q){ie.call(this)},alternate(Q){h.method==="GET"?(h.template=Q.cache.getCached(h.cacheIndex),W.call(this,h)):ie.call(this)}});be.lastCache=pe}else w.debug("NOT USING CACHE FOR COMPONENT: "+h.name),ie.call(this)}}),r.then(function(O){return h.__done__().then(function(){var M;return typeof h.done=="function"&&(M=h.done.call(h,O)),Promise.resolve(M)})},function(O){var M;return typeof h.fail=="function"&&(M=h.fail.call(h,O)),Promise.reject(M)}).catch(function(O){w.debug(`Something wrong loading the component: ${O}`)}),r},"_componentLoaderInNode"),u;return E?typeof t<"u"&&t?u=_t(s,arguments):u=s(o,t):u=f(o,t),u},"componentLoader"),We=C(function(o,t){var r=C(function(v,O){var M=new Promise(function(G,W){w.debug("LOADING SERVICE DATA {{DATA}} FROM {{URL}}".replace("{{DATA}}",Ie(v.data)).replace("{{URL}}",v.url));var V=new XMLHttpRequest;V.withCredentials=v.withCredentials;var ie=!0;V.open(v.method,v.url,ie);for(var pe in v.headers)try{typeof v.headers[pe]!="function"&&V.setRequestHeader(pe,v.headers[pe])}catch{w.debug("Something went wrong when assign the header "+pe)}V.onload=function(){if(V.status===200){var Oe=V.responseText;if(w.debug("Data received {{DATA}}".replace("{{DATA}}",Ie(Oe))),w.debug("CREATING SERVICE {{NAME}}".replace("{{NAME}}",v.name)),v.template=Oe,v.cached&&typeof Pe<"u"&&Pe.save(v.name,v.template),typeof v.done=="function"){var Te={request:V,service:v};v.done.call(v,Te),G.call(M,Te)}}else if(typeof v.fail=="function"){var Te={request:V,service:v};v.fail.call(v,Te),W.call(M,Te)}};var Q=C(function(){w.debug("SENDING THE NORMAL REQUEST  ");try{V.send(Ie(v.data))}catch{w.debug("SOMETHING WRONG WITH REQUEST  "),W.call(M,{request:V,service:v})}},"_directLoad");if(v.cached){var Pe=new Ve({index:v.data,load(Oe){Q.call(this)},alternate(Oe){if(v.method==="GET"){if(v.template=Oe.cache.getCached(v.name),typeof v.done=="function"){var Te={request:V,service:v};v.done.call(v,Te),G.call(M,Te)}}else Q.call(this)}});be.lastCache=Pe}else Q.call(this);return V});return M},"_serviceLoaderInBrowser"),s=C(function(v,O){var M=new Promise(function(G,W){if(typeof URL>"u"){be.URL=tt("url").URL;let ke=be.URL}var V=new URL(v.url),ie;v.useHTTP2=Object.hasOwnProperty.call(v,"useHTTP2")&&v.useHTTP2;var pe=C(function(ke){w.debug("LOADING SERVICE DATA (non-browser) {{DATA}} FROM {{URL}}".replace("{{DATA}}",Ie(v.data)).replace("{{URL}}",v.url));var ht,et={http2Client:Oe,request:ke,service:v,responseHeaders:null};if(typeof v.data=="object"&&v.data!==null&&v.useHTTP2)try{w.debug("Sending data...");let Ye=new Buffer(Ie(v.data));ke.write(Ye)}catch{w.debug("It was not possible to send any data")}ht="",ke.on("response",(Ye,lt)=>{w.debug("receiving response..."),et.responseHeaders=Ye,ht=""}),ke.on("data",Ye=>{w.debug("receiving data..."),ht+=""+Ye.toString(),v.template=ht}),v.useHTTP2&&ke.resume(),ke.on("end",()=>{w.debug("ending call..."),v.template=ht,Object.hasOwnProperty.call(v,"useHTTP2")&&v.useHTTP2?Oe.destroy():ke.destroy(),v.done.call(v,et),G.call(M,et)}),v.useHTTP2&&ke.end()},"captureEvents");try{var Q;if(v.useHTTP2){w.debug("using http2");var Pe=tt("http2"),Oe=Pe.connect(V.origin);Q=Object.assign({":method":v.method,":path":V.pathname},v.options),Q=Object.assign(Q,v.headers),ie=Oe.request(Q),ie.setEncoding("utf8"),pe(ie)}else if(V.protocol==="http:"){var Te=tt("http"),Se=Te.request;Q=Object.assign({url:v.url,headers:v.headers},v.options);var ie=Se(v.url);pe(ie)}else if(V.protocol==="https:"){var ze=tt("https");Q=Object.assign({hostname:V.hostname,port:V.port,path:V.pathname,method:v.method,headers:v.headers},v.options);var _e=ze.request(Q,function(ke){pe(ke)});_e.end()}else{var wt="Protocol not supported: "+V.protocol;throw w.debug(wt),new Error(wt)}}catch(ke){w.debug(ke),v.fail.call(v,ke),W.call(M,ke)}}).catch(function(G){console.log(G),w.debug("Something happened when trying to call the service: "+v.name),v.fail.call(v,G)});return M},"_serviceLoaderInNode"),f=C(function(v,O){var M=new Promise(function(G,W){w.debug(`Calling mockup service ${v.name} ...`);var V={request:null,service:v,responseHeaders:v.responseHeaders};typeof v.mockup=="function"?v.mockup.call(v,V):v.done.call(v,V),G.call(M,V)});return M},"_serviceLoaderMockup"),u=C(function(v,O){var M=new Promise(function(G,W){w.debug(`Calling local service ${v.name} ...`);var V={request:null,service:v,responseHeaders:v.responseHeaders};typeof v.local=="function"?v.local.call(v,V):v.done.call(v,V),G.call(M,V)});return M},"_serviceLoaderLocal"),h;switch(o.kind){case"rest":E?typeof t<"u"&&t?h=_t(r,arguments):h=r(o,t):h=s(o,t);break;case"mockup":h=f(o,t);break;case"local":h=u(o,t);break;default:w.debug(`The value of the kind property of the service ${o.name} is not valid`);break}return h},"serviceLoader");if(X(We),X(Xe),X(Ue),X(N),X(Ie),X(Z),X(B),X(Je),E){Element.prototype.buildComponents=function(o=!1){var t=St,r=this,s=r.subelements(t);return ot(s,null)},HTMLDocument.prototype.buildComponents=Element.prototype.buildComponents,HTMLElement.prototype.buildComponents=Element.prototype.buildComponents;var Be=C(class extends HTMLElement{constructor(){super(...arguments);let o=this,t=o.nodeName.toLowerCase(),r=qe("quick-component"),s=o.getAttributeNames();r.setAttribute("name",t),o.hasAttribute("shadowed")||r.setAttribute("shadowed","true"),s.map(function(u){o.hasAttribute(u)&&(r.setAttribute(u,o.getAttribute(u)),o.removeAttribute(u))});var f=o.getAttributeNames().filter(function(u){return u.startsWith("data-")}).map(function(u){return u.split("-")[1]});f.map(function(u){r.setAttribute("data-"+u,o.getAttribute("data-"+u)),o.removeAttribute("data-"+u)}),[...o.children].map(function(u){r.appendChild(u.cloneNode(!0)),u.remove()}),o.append(r)}},"_ComponentWidget_");X(Be);var Ee=C(function(o){customElements.define(o,class extends Be{})},"RegisterWidget"),Y=C(function(){var o=[...arguments];o.filter(function(t){return typeof t=="string"}).map(function(t){Ee(t)})},"RegisterWidgets");te(Ee),te(Y),X(Ee),X(Y)}E||oe("com.qcobjects.api",[C(F(class extends R("InheritClass"){constructor({domain:t=st,basePath:r=Ze,body:s=null,stream:f=null,request:u=null}){super(...arguments),w.debug("Initializing BackendMicroservice...");let h=this;typeof this.body>"u"&&(this.body=null),typeof s<"u"&&(this.body=s),this.cors(),h.stream=f,f.on("data",M=>{var G=u.method.toLowerCase(),W={post:h.post};Object.hasOwnProperty.call(W,G)&&W[G].call(h,M)});var v=u.method.toLowerCase(),O={get:h.get,head:h.head,put:h.put,delete:h.delete,connect:h.connect,options:h.options,trace:h.trace,patch:h.patch};Object.hasOwnProperty.call(O,v)&&O[v].call(h)}cors(){if(this.route.cors){w.debug("Validating CORS...");let{allow_origins:r,allow_credentials:s,allow_methods:f,allow_headers:u}=this.route.cors;var t=this;if(typeof t.headers!="object"&&(t.headers={}),typeof t.route.responseHeaders!="object"&&(t.route.responseHeaders={}),typeof r<"u")if(w.debug("CORS: allow_origins available. Validating origins..."),r==="*"||typeof t.request.headers.origin>"u"||[...r].indexOf(t.request.headers.origin)!==-1)w.debug("CORS: Adding header Access-Control-Allow-Origin=*"),t.route.responseHeaders["Access-Control-Allow-Origin"]="*";else{w.debug("CORS: Origin is not allowed: "+t.request.headers.origin),w.debug("CORS: Forcing to finish the response..."),this.body={};try{this.done()}catch(h){w.debug(`It was not possible to finish the call to the microservice: ${h}`)}}else w.debug("CORS: no allow_origins available. Allowing all origins..."),w.debug("CORS: Adding header Access-Control-Allow-Origin=*"),t.route.responseHeaders["Access-Control-Allow-Origin"]="*";typeof s<"u"?(w.debug(`CORS: allow_credentials present. Allowing ${s}...`),t.route.responseHeaders["Access-Control-Allow-Credentials"]=s.toString()):(w.debug("CORS: No allow_credentials present. Allowing all credentials."),t.route.responseHeaders["Access-Control-Allow-Credentials"]="true"),typeof f<"u"?(w.debug(`CORS: allow_methods present. Allowing ${f}...`),t.route.responseHeaders["Access-Control-Allow-Methods"]=[...f].join(",")):(w.debug("CORS: No allow_methods present. Allowing only GET, OPTIONS and POST"),t.route.responseHeaders["Access-Control-Allow-Methods"]="GET, OPTIONS, POST"),typeof u<"u"?(w.debug(`CORS: allow_headers present. Allowing ${u}...`),t.route.responseHeaders["Access-Control-Allow-Headers"]=[...u].join(",")):(w.debug("CORS: No allow_headers present. Allowing all headers..."),t.route.responseHeaders["Access-Control-Allow-Headers"]="*")}else w.debug("No CORS validation available. You can specify cors in CONFIG.backend.routes[].cors")}head(t){this.done()}get(t){w.debug(`[BackendMicroservice.get] Data received: ${Ie(t)}`),this.done()}post(t){this.done()}put(t){this.done()}delete(t){this.done()}connect(t){this.done()}options(t){this.done()}trace(t){this.done()}patch(t){this.done()}finishWithBody(t){try{w.debug("[BackendMicroservice.finishWithBody] Ending the stream..."),w.debug(`[BackendMicroservice.finishWithBody] type of body is: ${typeof this.body}`),typeof this.body!="string"&&(this.body=Ie(this.body)),w.debug(`[BackendMicroservice.finishWithBody] 
 body: ${this.body} `),t.write(this.body),t.end(),w.debug("[BackendMicroservice.finishWithBody] Stream ended.")}catch(r){w.debug(`[BackendMicroservice.finishWithBody] Something went wrong ending the stream: ${r}`)}}done(){w.debug("[BackendMicroservice.done] Finalizing the response...");var t=this,r=t.stream;try{if(w.debug("[BackendMicroservice.done] Sending response headers..."),t.route.responseHeaders)w.debug(`[BackendMicroservice.done] Response headers present: ${Object.keys(t.route.responseHeaders)}`),r.respond(t.route.responseHeaders);else throw Error("[BackendMicroservice.done] No headers present.")}catch(s){w.debug(`[BackendMicroservice.done] Something went wrong sending response headers: ${s}`)}if(t.body!==null)try{w.debug("[BackendMicroservice.done] A body of message is present. Finalizing the response..."),t.finishWithBody.call(t,r)}catch(s){w.debug(`[BackendMicroservice.done] Something went wrong finalizing the response: ${s}`)}else w.debug("[BackendMicroservice.done] No body present. Ending stream..."),r.end()}},"BackendMicroservice"),"BackendMicroservice")]),se("SourceJS",Object,{domain:st,basePath:Ze,body:qe("script"),type:"text/javascript",containerTag:"body",url:"",data:{},async:!1,external:!1,set(o,t){this[o]=t},get(o){return this[o]},status:!1,done(){},fail(){},rebuild(){var o=this;try{document.getElementsByTagName(o.containerTag)[0].appendChild(function(t,r,s){return t.type=s.type,t.src=r,t.crossOrigin=Object.hasOwnProperty.call(s,"crossOrigin")?s.crossOrigin:"anonymous",t.async=s.async,t.onreadystatechange=function(){this.readyState==="complete"&&s.done.call(s)},t.onload=function(f){s.status=!0,s.done.call(s,f)},t.onerror=function(f){s.status=!1,s.fail.call(s,f)},s.body=t,t}.call(this,qe("script"),this.external?this.url:this.basePath+this.url,o))}catch(t){o.status=!1,o.fail.call(o,t)}},Cast(o){return S(this,o)},_new_(o){this.__new__(o),this.rebuild()}}),se("SourceCSS",Object,{domain:st,basePath:Ze,body:qe("link"),url:"",data:{},async:!1,external:!1,set(o,t){this[o]=t},get(o){return this[o]},done(){},rebuild(){var o=this;E&&window.document.getElementsByTagName("head")[0].appendChild(function(t,r,s){return t.type="text/css",t.rel="stylesheet",t.href=r,t.crossOrigin="anonymous",t.onreadystatechange=function(){this.readyState==="complete"&&s.done.call(s)},t.onload=s.done,s.body=t,t}.call(this,qe("link"),this.external?this.url:this.basePath+this.url,o))},Cast(o){return S(this,o)},_new_(o){this.__new__(o),this.rebuild()}});var K=C(function(o){return isNaN(o)?new Number(0):new Number(o)},"__to_number");Array.prototype.unique=function(){return this.filter(function(o,t,r){return r.indexOf(o)===t})},Array.unique=function(o){return o.unique()},te(Array.unique),te(Array.prototype.unique),Array.prototype.table=function(){console.table(this)},Array.table=function(o){return o.table()},te(Array.table),te(Array.prototype.table),Array.prototype.sum=function(){return this.reduce(function(o,t){return K(o)+K(t)},0)},Array.sum=function(o){return o.sum()},te(Array.sum),te(Array.prototype.sum),Array.prototype.avg=function(){return this.length<1?0:this.reduce(function(o,t){return(K(o)+K(t))/2})},Array.avg=function(o){return o.avg()},te(Array.avg),te(Array.prototype.avg),Array.prototype.min=function(){return this.reduce(function(o,t){return K(o)<=K(t)?o:t},1/0)},Array.min=function(o){return o.min()},te(Array.min),te(Array.prototype.min),Array.prototype.max=function(){return this.reduce(function(o,t){return K(o)>=K(t)?o:t},0)},Array.max=function(o){return o.max()},te(Array.max),te(Array.prototype.max),Array.prototype.sortBy=function(o,t=!0){var r=t?function(s,f){return f[o]<s[o]?1:-1}:function(s,f){return f[o]>s[o]?1:-1};return this.sort(r)},Array.sortBy=function(o,t,r=!0){return o.sortBy(t,r)},te(Array.sortBy),te(Array.prototype.sortBy),Array.matrix=function(o,t=0){var r=C(function(s){return t},"x_func");return Array.from({length:o},r)},te(Array.matrix),Array.matrix2d=function(o,t=0){var r=C(function(f){return t},"y_func"),s=C(function(f){return Array.from({length:o},r)},"x_func");return Array.from({length:o},s)},te(Array.matrix2d),Array.matrix3d=function(o,t=0){var r=C(function(f){return Array.from({length:o},function(){return t})},"y_func"),s=C(function(f){return Array.from({length:o},r)},"x_func");return Array.from({length:o},s)},te(Array.matrix3d),l.range=function(o,t=0,r=1){return(t===0||typeof t>"u")&&(t=o,o=0),Array.from({length:(t-o)/r+1},function(s,f){return o+f*r})},te(l.range),String.prototype.list=function(){var o=this;return l.range(0,o.length-1).map(function(t){return o[t]})},te(String.prototype.list),l.getDocumentLayout=function(){var o=C((s,f)=>s>f?"landscape":null,"h"),t=C((s,f)=>f>s?"portrait":null,"v"),r=C((s,f)=>s===f?"square":null,"square");return[o(document.documentElement.clientWidth,document.documentElement.clientHeight),t(document.documentElement.clientWidth,document.documentElement.clientHeight),r(document.documentElement.clientWidth,document.documentElement.clientHeight)].filter(s=>s!==null).pop()},se("ArrayList",Array,[]),R("ArrayList").matrix=Array.matrix,R("ArrayList").matrix2d=Array.matrix2d,R("ArrayList").matrix3d=Array.matrix3d,te(R("ArrayList").matrix),te(R("ArrayList").matrix2d),te(R("ArrayList").matrix3d),se("ArrayCollection",Object,{source:ue(R("ArrayList"),[]),changed(o,t){w.debug("VALUE CHANGED"),w.debug(o),w.debug(t)},push(o){var t=this;w.debug("VALUE ADDED"),w.debug(o),t.source.push(o)},pop(o){var t=this;w.debug("VALUE POPPED"),w.debug(o),t.source.pop(o)},_new_(o){var t=this,r=0;t.source=ue(R("ArrayList"),o);for(var s in t.source)isNaN(s)||(w.debug("binding "+s.toString()),function(f){Object.defineProperty(t,f,{set(u){w.debug("setting "+f+"="+u),t.source[f]=u,t.changed(f,u)},get(){return t.source[f]}})}(s),r++);t.source.length=r,Object.defineProperty(t,"length",{get(){return t.source.length}})}}),oe("com.qcobjects.effects.base",[C(F(class extends R("InheritClass"){constructor(){super(...arguments),q(this,"duration",1e3)}animate({timing:t,draw:r,duration:s}){let f=performance.now();requestAnimationFrame(C(F(function u(h){let v=(h-f)/s;v>1&&(v=1);let O=t(v);r(Math.round(O*100)),v<1?requestAnimationFrame(u):typeof this<"u"&&this!==null&&Object.hasOwnProperty.call(this,"done")&&(typeof this.done).toLowerCase()==="function"&&this.done.call(this)},"animate"),"animate"))}},"Effect"),"Effect")]),oe("com.qcobjects.effects.transitions.base",[C(F(class extends R("Effect"){constructor(){super(...arguments),q(this,"duration",385),q(this,"defaultParams",{alphaFrom:0,alphaTo:1,angleFrom:180,angleTo:0,radiusFrom:0,radiusTo:30,scaleFrom:0,scaleTo:1}),q(this,"fitToHeight",!1),q(this,"fitToWidth",!1),q(this,"effects",[]),w.info("DECLARING TransitionEffect  "),this.component.defaultParams=this.defaultParams}apply({alphaFrom:t,alphaTo:r,angleFrom:s,angleTo:f,radiusFrom:u,radiusTo:h,scaleFrom:v,scaleTo:O}){var M=this;w.info("EXECUTING TransitionEffect  ");var G=M.component.shadowed?M.component.shadowRoot.host:M.component.body;M.fitToHeight&&(G.height=typeof G.offsetParent=="object"&&G.offsetParent!==null?G.offsetParent.scrollHeight:G.getBoundingClientRect().height),M.fitToWidth&&(G.width=typeof G.offsetParent=="object"&&G.offsetParent!==null?G.offsetParent.scrollWidth:G.getBoundingClientRect().width),G.style.display="block",M.effects.map(function(W,V){var ie=R(W),pe=new ie({}),Q=pe.apply,Pe=[G].concat(Object.values({alphaFrom:t,alphaTo:r,angleFrom:s,angleTo:f,radiusFrom:u,radiusTo:h,scaleFrom:v,scaleTo:O}));Q.apply(M,Pe)})}},"TransitionEffect"),"TransitionEffect")]),oe("com.qcobjects.timing",[C(F(class extends R("InheritClass"){constructor(){super(...arguments),q(this,"duration",1e3),q(this,"alive",!0)}thread({timing:t,intervalInterceptor:r,duration:s}){var f=this;let u=performance.now();requestAnimationFrame(C(F(function h(v){let O=v-u,M=O/s;M>1&&(M=1);let G=t(M,O);r(Math.round(G*100)),(M<1||s===-1)&&f.alive&&requestAnimationFrame(h)},"thread"),"thread"))}},"Timer"),"Timer")]),oe("com.qcobjects.tools.essentials",[C(F(class extends R("InheritClass"){constructor(){super(...arguments),q(this,"_toggle",!1),q(this,"_inverse",!0),q(this,"_positive",null),q(this,"_negative",null),q(this,"_dispatched",null),q(this,"_args",{}),this._new_(...arguments)}changeToggle(){this._toggle=!this._toggle}_new_({positive:t,negative:r,args:s}){this._positive=t,this._negative=r,this._args=s}fire(){var t=this,r=new Promise(function(s,f){typeof t._positive=="function"&&typeof t._negative=="function"?(t._inverse?t._dispatched=t._toggle?t._negative.bind(t):t._positive.bind(t):t._dispatched=t._toggle?t._positive.bind(t):t._negative.bind(t),t._dispatched.call(t,t._args),s.call(r,t)):(w.debug("Toggle functions are not declared"),f.call(r,t))}).then(function(s){s.changeToggle()}).catch(function(s){w.debug(s.toString())});return r}},"Toggle"),"Toggle")]),function(o){let t=C(function(h,v,O){var M=this;if(typeof h>"u"||h===null)throw Error(`mapper.${v}.${O} does not have a component instance or it is null.`);let G=o.global.get(O),W=h.get(O),V=h.data[O],ie=typeof V<"u"?V:typeof W<"u"?W:G,pe="";return typeof ie<"u"&&typeof ie.map<"u"?pe=ie.map(function(Q){let Pe=[...Object.keys(Q)].map(Oe=>` data-${Oe}="${typeof Q[Oe]<"u"&&Q[Oe]!==null?Q[Oe].toString():""}"`).join("");return`<quick-component name="${v}" ${Pe} ></quick-component>`}).join(""):w.debug(`${v}.${O} does not have a map property`),pe},"mapper");H.setProcessor(t);let r=C(function(h,v,O){var M=`
        /* CSS Document for Mobile Imports */
        @import url("${O}") (orientation:portrait);
        @import url("${O}") (max-width:460px);
        @import url("${O}") (aspect-ratio: 9/16);
        @import url("${O}") (aspect-ratio: 10/16);
        @import url("${O}") (aspect-ratio: 5/8);
        @import url("${O}") (aspect-ratio: 3/4);
        @import url("${O}") (aspect-ratio: 2/3);
        `,G=`
        @import url("${O}") (orientation:landscape) and (min-width:460px);
        @import url("${O}") (aspect-ratio: 16/9) and (min-width:460px);
        @import url("${O}") (aspect-ratio: 16/10) and (min-width:460px);
        @import url("${O}") (aspect-ratio: 8/5) and (min-width:460px);
        @import url("${O}") (aspect-ratio: 4/3) and (min-width:460px);
        @import url("${O}") (aspect-ratio: 3/2) and (min-width:460px);
        `,W={landscape:G,portrait:M};return Object.hasOwnProperty.call(W,v)?W[v]:""},"layout");H.setProcessor(r);let s=C(function(){let h=[...arguments].slice(1).map(function(O){return{[O.split("=")[0]]:O.split("=")[1]}}).reduce(function(O,M){return Object.assign(O,M)});return`<component ${[...Object.keys(h)].map(function(O){return`${O}=${h[O]}`}).join(" ")}></component>`},"component");H.setProcessor(s);let f=C(function(){let h=[...arguments].slice(1).map(function(O){return{[O.split("=")[0]]:O.split("=")[1]}}).reduce(function(O,M){return Object.assign(O,M)});return`<quick-component ${[...Object.keys(h)].map(function(O){return`${O}=${h[O]}`}).join(" ")}></quick-component>`},"quick_component");H.setProcessor(f);let u=C(function(h,v,O){return o.range(v).map(function(M){return O.replace("{{index}}",M.toString())}).join("")},"repeat");H.setProcessor(u)}(l),he(function(){l.CONFIG.get("useSDK")||l.__start__()}),X(X),X(nt),X(oe),X(se),X(ue),X(ft),X(he),X(Ke),X(E),X(gt),function(o){oe("com.qcobjects",[C(F(class Mt extends R("InheritClass"){constructor(){super(...arguments),q(this,"_GLOBAL",{}),q(this,"__definition",{}),q(this,"__classType","GlobalSettings"),this.set=Mt.set.bind(this),this.get=Mt.get.bind(this),this.__start__=Mt.__start__.bind(this)}static set(r,s){this._GLOBAL[r]=s}static get(r,s){var f;return typeof this._GLOBAL[r]<"u"?f=this._GLOBAL[r]:typeof s<"u"&&(f=s),f}static __start__(){var r=C(function(){var f;return E&&(f=new Promise(function(u,h){"serviceWorker"in navigator&&typeof o.CONFIG.get("serviceWorkerURI")<"u"&&(o.CONFIG.set("serviceWorkerScope",o.CONFIG.get("serviceWorkerScope")?o.CONFIG.get("serviceWorkerScope"):"/"),navigator.serviceWorker.register(o.CONFIG.get("serviceWorkerURI"),{scope:o.CONFIG.get("serviceWorkerScope")}).then(function(v){w.debug("Service Worker Registered"),u.call(f,v)},function(v){w.debug("Error registering Service Worker"),h.call(f,v)}),navigator.serviceWorker.ready.then(function(v){w.debug("Service Worker Ready"),u.call(f,v)},function(v){w.debug("Error loading Service Worker"),h.call(f,v)}))})),f},"__load__serviceWorker"),s=C(function(){return new Promise((f,u)=>{if(E){w.debug("Starting to building components");try{o.componentsStack=document.buildComponents.call(document)}catch(h){throw Error(`Something went wrong trying to start components tree: ${h.message}`)}w.debug("Initializing the service worker"),r.call(o).catch(function(h){w.debug(`error loading the service worker ${h}`)})}f()})},"_buildComponents");w.debug("Starting to load the config settings..."),o.CONFIG.get("useConfigService",!1)?(w.debug("Loading settings using local configuration file..."),o.global.configService=ue(R("ConfigService")),o.global.configService.configLoaded=s,We(o.global.configService)):(w.debug("Starting to load the components..."),s.call(this))}},"GlobalSettings2"),"GlobalSettings")]),X(R("GlobalSettings")),be=ue(R("GlobalSettings")),o=x(be,o),Object.defineProperty(o,"PackagesNameList",{set(t){w.debug("PackagesNameList is readonly")},get(){var t=C(function(r){var s=[];for(var f in r)typeof r[f]<"u"&&typeof r[f]!="function"&&Object.hasOwnProperty.call(r[f],"length")&&r[f].length>0&&(s.push(f),s=s.concat(t(r[f])));return s},"_get_packages_names");return t(i)}}),Object.defineProperty(o,"PackagesList",{set(t){w.debug("PackagesList is readonly")},get(){return o.PackagesNameList.map(function(t){let r=oe(t),s;return r&&(s={packageName:t,classesList:r.filter(function(f){return Z(f)})}),s}).filter(function(t){return typeof t<"u"})}}),Object.defineProperty(o,"ClassesList",{set(t){w.debug("ClassesList is readonly")},get(){var t=[];return o.PackagesList.map(function(r){return t=t.concat(r.classesList.map(function(s){return{packageName:r.packageName,className:r.packageName+"."+s.__definition.__classType,classFactory:s}})),r}),t}}),Object.defineProperty(o,"ClassesNameList",{set(t){w.debug("ClassesNameList is readonly")},get(){return o.ClassesList.map(function(t){return t.className})}}),E&&(se("GLOBAL",p.global),X(R("GLOBAL"))),X(be),o.CONFIG.get("useSDK")&&function(t){var r=t.CONFIG.get("remoteImportsPath"),s=!t.CONFIG.get("useLocalSDK");t.CONFIG.set("remoteImportsPath",t.CONFIG.get("remoteSDKPath"));var f=!1,u="QCObjects-SDK";if(E)f=!0;else{var h=ye("qcobjects-sdk");h!==null?(u="qcobjects-sdk",f=!0):(u="node_modules/qcobjects-sdk/QCObjects-SDK",f=!0)}if(f)if(w.info("Importing SDK... "+u),Rt&&typeof mt<"u"){let v=on()}else nt(u,function(){s?w.debug("QCObjects-SDK.js loaded from remote location"):w.debug("QCObjects-SDK.js loaded from local"),t.CONFIG.set("remoteImportsPath",r)},s);else w.debug("SDK has not been imported as it is not available at the moment")}(o)}(l),E&&_t(function(){he(function(){(function(o){let t=0,r=!1,s=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight),f=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.body.clientWidth,document.documentElement.clientWidth);function u(h){var v=Math.round(o.scrollY*100/s),O=Math.round(o.scrollX*100/f),M=new CustomEvent("scrollpercent",{detail:{percentX:O,percentY:v}});h.target.dispatchEvent(M);var G="defaultscroll",W=[0,5,10,25,50,75,90,95,100];W.filter(function(V){return V===v}).map(function(V){G="percentY"+v.toString();var ie=new CustomEvent(G,{detail:{percentX:O,percentY:v}});h.target.dispatchEvent(ie)})}F(u,"scrollDispatcher"),C(u,"scrollDispatcher"),document.addEventListener("scroll",function(h){r||(requestAnimationFrame(function(){u(h),r=!1}),r=!0)})})(l)})},null),E||(typeof l.global<"u"&&Object.hasOwnProperty.call(l.global,"_fireAsyncLoad")&&l.global._fireAsyncLoad.call(this),typeof l.global<"u"&&Object.hasOwnProperty.call(l.global,"onload")&&l.global.onload.call(this)),function(o){var t=C(function(){Object.freeze(Object.prototype),Object.freeze(Object)},"__freeze__");o&&l.CONFIG.get("secureObjects",!1)?he(function(){t()}):l.CONFIG.get("secureObjects",!1)&&t()}(E)}},"__qcobjects__"),"__qcobjects__").call(null,typeof le=="object"&&typeof le.exports=="object"?le.exports=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}:typeof global=="object"?global:typeof window=="object"?window:{})}}),_n=tn(rn(),1),Vt=F(class extends Component{constructor(){super(...arguments),q(this,"name","nav"),q(this,"tplsource","inline"),q(this,"data",{options:[{value:"home",name:"Home"},{value:"features",name:"Features"},{value:"about",name:"About"},{value:"contact",name:"Contact"}]}),q(this,"template",`
<nav>
    <ul>
        $mapper(li,options)
    </ul>
</nav>
    `)}},"Nav2");C(Vt,"Nav");Package("com.qcobjects.components",[Vt]);RegisterWidgets("header-component","home-component","features-component","about-component","contact-component","footer-component");CONFIG.set("sourceType","module");CONFIG.set("componentsBasePath","templates/components/");CONFIG.set("tplextension","tpl.html");var wn={Nav};export{wn as default};
//# sourceMappingURL=init.js.map
